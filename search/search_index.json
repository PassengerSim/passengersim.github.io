{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Home","text":""},{"location":"API/index.html","title":"PassengerSim API","text":"<p>The main <code>passengersim</code> package includes configuration and analysis tools.  It is freely available for use.</p> <p>The <code>passengersim.core</code> sub-package is only available to authorized users.</p>"},{"location":"API/Core/index.html","title":"PassengerSim.Core API","text":"<p>While the main <code>passengersim</code> package available as a freely downloadable open source package, the functionality in the <code>passengersim.core</code> sub-package  is only available to authorized users.  The documentation of the API for this  sub-package is provided here. </p>"},{"location":"API/Core/00-SimulationEngine.html","title":"Simulation Engine","text":""},{"location":"API/Core/00-SimulationEngine.html#passengersim_core.SimulationEngine-attributes","title":"Attributes","text":""},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.airlines","title":"airlines  <code>instance-attribute</code>","text":"<pre><code>airlines: Iterator[Airline]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.base_time","title":"base_time  <code>instance-attribute</code>","text":"<pre><code>base_time: int\n</code></pre> <p>The base time of the simulation.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.bucketnames","title":"bucketnames  <code>instance-attribute</code>","text":"<pre><code>bucketnames: Iterator[str]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.buckets","title":"buckets  <code>instance-attribute</code>","text":"<pre><code>buckets: Iterator[Bucket]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.burn_samples","title":"burn_samples  <code>instance-attribute</code>","text":"<pre><code>burn_samples: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.config","title":"config  <code>instance-attribute</code>","text":"<pre><code>config: Config | None\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.demands","title":"demands  <code>instance-attribute</code>","text":"<pre><code>demands: Iterator[Demand]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.disable_ap","title":"disable_ap  <code>instance-attribute</code>","text":"<pre><code>disable_ap: bool\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.dwm_lite","title":"dwm_lite  <code>instance-attribute</code>","text":"<pre><code>dwm_lite: bool\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.fares","title":"fares  <code>instance-attribute</code>","text":"<pre><code>fares: Iterator[Fare]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.iteration","title":"iteration  <code>instance-attribute</code>","text":"<pre><code>iteration: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.last_dcp","title":"last_dcp  <code>instance-attribute</code>","text":"<pre><code>last_dcp: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.last_event_time","title":"last_event_time  <code>instance-attribute</code>","text":"<pre><code>last_event_time: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.legs","title":"legs  <code>instance-attribute</code>","text":"<pre><code>legs: Iterator[Leg]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.manual_paths","title":"manual_paths  <code>instance-attribute</code>","text":"<pre><code>manual_paths: bool\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.max_connect_time","title":"max_connect_time  <code>instance-attribute</code>","text":"<pre><code>max_connect_time: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.mkt_k_factor","title":"mkt_k_factor  <code>instance-attribute</code>","text":"<pre><code>mkt_k_factor: float\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.num_samples","title":"num_samples  <code>instance-attribute</code>","text":"<pre><code>num_samples: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.num_trials","title":"num_trials  <code>instance-attribute</code>","text":"<pre><code>num_trials: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.pathclasses","title":"pathclasses  <code>instance-attribute</code>","text":"<pre><code>pathclasses: Iterator[PathClass]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.paths","title":"paths  <code>instance-attribute</code>","text":"<pre><code>paths: Iterator[Path]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.pax_type_k_factor","title":"pax_type_k_factor  <code>instance-attribute</code>","text":"<pre><code>pax_type_k_factor: float\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.prorate_revenue","title":"prorate_revenue  <code>instance-attribute</code>","text":"<pre><code>prorate_revenue: bool\n</code></pre> <p>When set to True, O&amp;D revenue is prorated by mileage to the leg level</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.random_generator","title":"random_generator  <code>instance-attribute</code>","text":"<pre><code>random_generator: Generator\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.revenue","title":"revenue  <code>instance-attribute</code>","text":"<pre><code>revenue: float\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.sample","title":"sample  <code>instance-attribute</code>","text":"<pre><code>sample: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.save_timeframe_details","title":"save_timeframe_details  <code>instance-attribute</code>","text":"<pre><code>save_timeframe_details: bool\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.snapshot_filters","title":"snapshot_filters  <code>instance-attribute</code>","text":"<pre><code>snapshot_filters: list[SnapshotFilter] | None\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.sys_k_factor","title":"sys_k_factor  <code>instance-attribute</code>","text":"<pre><code>sys_k_factor: float\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.tf_k_factor","title":"tf_k_factor  <code>instance-attribute</code>","text":"<pre><code>tf_k_factor: float\n</code></pre> <p>Timeframe k-factor, controls variance in the passenger arrival curves</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.trial","title":"trial  <code>instance-attribute</code>","text":"<pre><code>trial: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.z_factor","title":"z_factor  <code>instance-attribute</code>","text":"<pre><code>z_factor: float\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core.SimulationEngine-functions","title":"Functions","text":""},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.__init__","title":"__init__","text":"<pre><code>__init__(name: str, random_generator: str = None)\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.add_airline","title":"add_airline","text":"<pre><code>add_airline(airline: Airline) -&gt; None\n</code></pre> <p>Add an Airline to the simulation</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.add_demand","title":"add_demand","text":"<pre><code>add_demand(dmd: Demand) -&gt; None\n</code></pre> <p>Add a Market Segment demand to the simulation.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.add_fare","title":"add_fare","text":"<pre><code>add_fare(fare: Fare) -&gt; None\n</code></pre> <p>Add a Fare to the simulation.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.add_leg","title":"add_leg","text":"<pre><code>add_leg(leg: Leg) -&gt; None\n</code></pre> <p>Add a Leg to the simulation.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.add_path","title":"add_path","text":"<pre><code>add_path(path: Path) -&gt; None\n</code></pre> <p>Add a Path to the simulation.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.allocate_demand_to_tf","title":"allocate_demand_to_tf","text":"<pre><code>allocate_demand_to_tf(\ndmd: Demand,\nnum_pax: int,\ntf_k_factor: float,\nendTS: int,\ndebug: bool = False,\n) -&gt; int\n</code></pre> <p>Generate events for a single demand (used to simulate PODS processing)</p> <p>Parameters:</p> <ul> <li> dmd             (<code>Demand</code>)         \u2013          </li> <li> num_pax             (<code>int</code>)         \u2013          </li> <li> tf_k_factor             (<code>float</code>)         \u2013          </li> <li> endTS             (<code>int</code>)         \u2013          </li> <li> debug             (<code>bool</code>, default:                 <code>False</code> )         \u2013          </li> </ul> <p>Returns:</p> <ul> <li> <code>int</code>         \u2013          <p>Number of events allocated.</p> </li> </ul>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.allocate_demand_to_tf_pods","title":"allocate_demand_to_tf_pods","text":"<pre><code>allocate_demand_to_tf_pods(\ndmd: Demand,\nnum_pax: int,\ntf_k_factor: float,\nendTS: int,\ndebug: bool = False,\n) -&gt; int\n</code></pre> <p>Generate events for a single demand (used to simulate PODS processing)</p> <p>Parameters:</p> <ul> <li> dmd             (<code>Demand</code>)         \u2013          </li> <li> num_pax             (<code>int</code>)         \u2013          </li> <li> tf_k_factor             (<code>float</code>)         \u2013          </li> <li> endTS             (<code>int</code>)         \u2013          </li> <li> debug             (<code>bool</code>, default:                 <code>False</code> )         \u2013          </li> </ul> <p>Returns:</p> <ul> <li> <code>int</code>         \u2013          <p>Number of events allocated.</p> </li> </ul>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.build_connections","title":"build_connections","text":"<pre><code>build_connections() -&gt; None\n</code></pre> <p>Build connections for the demands.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.final_write_to_sqlite","title":"final_write_to_sqlite","text":"<pre><code>final_write_to_sqlite(\ncnx: sqlite3.Connection,\nwrite_detail: set[str] | None = None,\n)\n</code></pre> <p>Write final summary details to sqlite</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.go","title":"go","text":"<pre><code>go() -&gt; Any\n</code></pre> <p>Run the simulation.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.num_events","title":"num_events","text":"<pre><code>num_events() -&gt; int\n</code></pre> <p>Return the number of events currently on the event queue.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.path_2_leg","title":"path_2_leg","text":"<pre><code>path_2_leg(airline: str) -&gt; None\n</code></pre> <p>Aggregate PathClass forecasts to Leg/Bucket</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.reset_counters","title":"reset_counters","text":"<pre><code>reset_counters() -&gt; None\n</code></pre> <p>Reset counters for sold &amp; revenue, for demands and legs.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.set_parm","title":"set_parm","text":"<pre><code>set_parm(name: str, value: float) -&gt; None\n</code></pre> <p>Set a simulation parameter by name and value</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.update_db_write_flags","title":"update_db_write_flags","text":"<pre><code>update_db_write_flags()\n</code></pre> <p>Update database writing flags based on config.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.write_to_sqlite","title":"write_to_sqlite","text":"<pre><code>write_to_sqlite(\ncnx: sqlite3.Connection,\ndcp: int,\nwrite_detail: set[str] | None = None,\n)\n</code></pre> <p>Write details to sqlite</p>"},{"location":"API/Core/Airline.html","title":"Airline","text":""},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.control","title":"control  <code>instance-attribute</code>","text":"<pre><code>control: Literal['leg', 'theft', 'bp', 'vn', 'none']\n</code></pre> <p>Control method for this carrier.</p>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.gt_available_seat_miles","title":"gt_available_seat_miles  <code>instance-attribute</code>","text":"<pre><code>gt_available_seat_miles: float\n</code></pre> <p>Grand total ASM, gets updated outside the burn period and is not reset by the reset methods</p>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.gt_demand","title":"gt_demand  <code>instance-attribute</code>","text":"<pre><code>gt_demand: int\n</code></pre> <p>Grand total generated demand, gets updated outside the burn period and is not reset by the reset methods</p>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.gt_revenue","title":"gt_revenue  <code>instance-attribute</code>","text":"<pre><code>gt_revenue: float\n</code></pre> <p>Grand total revenue, gets updated outside the burn period and is not reset by the reset methods</p>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.gt_revenue_passenger_miles","title":"gt_revenue_passenger_miles  <code>instance-attribute</code>","text":"<pre><code>gt_revenue_passenger_miles: float\n</code></pre> <p>Grand total RPM, gets updated outside the burn period and is not reset by the reset methods</p>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.gt_sold","title":"gt_sold  <code>instance-attribute</code>","text":"<pre><code>gt_sold: int\n</code></pre> <p>Grand total sold, gets updated outside the burn period and is not reset by the reset methods</p>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.revenue","title":"revenue  <code>instance-attribute</code>","text":"<pre><code>revenue: float\n</code></pre>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.rm_system","title":"rm_system  <code>instance-attribute</code>","text":"<pre><code>rm_system: Any\n</code></pre> <p>An instance of RmSystem, called at each DCP to do detruncation / forecasting / optimization</p>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.sold","title":"sold  <code>instance-attribute</code>","text":"<pre><code>sold: int\n</code></pre>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.__init__","title":"__init__","text":"<pre><code>__init__(\nname: str,\ncontrol: Literal[\n\"leg\", \"theft\", \"bp\", \"vn\", \"none\"\n] = \"leg\",\n)\n</code></pre>"},{"location":"API/Core/BookingCurves.html","title":"Booking Curves","text":""},{"location":"API/Core/BookingCurves.html#passengersim_core._BookingCurve.BookingCurve.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre>"},{"location":"API/Core/BookingCurves.html#passengersim_core._BookingCurve.BookingCurve.random_generator","title":"random_generator  <code>instance-attribute</code>","text":"<pre><code>random_generator: Generator\n</code></pre>"},{"location":"API/Core/BookingCurves.html#passengersim_core._BookingCurve.BookingCurve.__init__","title":"__init__","text":"<pre><code>__init__(name: str)\n</code></pre>"},{"location":"API/Core/BookingCurves.html#passengersim_core._BookingCurve.BookingCurve.add_dcp","title":"add_dcp","text":"<pre><code>add_dcp(dcp: int, pct: float)\n</code></pre>"},{"location":"API/Core/BookingCurves.html#passengersim_core._BookingCurve.BookingCurve.get_curve","title":"get_curve","text":"<pre><code>get_curve() -&gt; dict[int, float]\n</code></pre>"},{"location":"API/Core/Bucket.html","title":"Bucket","text":""},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.alloc","title":"alloc  <code>instance-attribute</code>","text":"<pre><code>alloc: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.fcst_mean","title":"fcst_mean  <code>instance-attribute</code>","text":"<pre><code>fcst_mean: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.fcst_revenue","title":"fcst_revenue  <code>instance-attribute</code>","text":"<pre><code>fcst_revenue: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.fcst_std_dev","title":"fcst_std_dev  <code>instance-attribute</code>","text":"<pre><code>fcst_std_dev: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.gt_revenue","title":"gt_revenue  <code>instance-attribute</code>","text":"<pre><code>gt_revenue: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.gt_sold","title":"gt_sold  <code>instance-attribute</code>","text":"<pre><code>gt_sold: int\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.price","title":"price  <code>instance-attribute</code>","text":"<pre><code>price: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.protection","title":"protection  <code>instance-attribute</code>","text":"<pre><code>protection: int\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.revenue","title":"revenue  <code>instance-attribute</code>","text":"<pre><code>revenue: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.sold","title":"sold  <code>instance-attribute</code>","text":"<pre><code>sold: int\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.untruncated_demand","title":"untruncated_demand  <code>instance-attribute</code>","text":"<pre><code>untruncated_demand: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.__init__","title":"__init__","text":"<pre><code>__init__(\nname: str,\nalloc: float = 0,\nprice: float = 0,\nsold: float = 0,\nrevenue: float = 0,\nfcst_mean: float = 0,\nfcst_std_dev: float = 0,\n)\n</code></pre>"},{"location":"API/Core/ChoiceModel.html","title":"Choice Model","text":""},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.path_quality_alpha","title":"path_quality_alpha  <code>instance-attribute</code>","text":"<pre><code>path_quality_alpha: float\n</code></pre>"},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.path_quality_beta","title":"path_quality_beta  <code>instance-attribute</code>","text":"<pre><code>path_quality_beta: float\n</code></pre>"},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.preferred_airline_alpha","title":"preferred_airline_alpha  <code>instance-attribute</code>","text":"<pre><code>preferred_airline_alpha: float\n</code></pre>"},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.preferred_airline_beta","title":"preferred_airline_beta  <code>instance-attribute</code>","text":"<pre><code>preferred_airline_beta: float\n</code></pre>"},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.random_generator","title":"random_generator  <code>instance-attribute</code>","text":"<pre><code>random_generator: Generator\n</code></pre>"},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.__init__","title":"__init__","text":"<pre><code>__init__(name: str, type: Literal['logit', 'pods'])\n</code></pre>"},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.add_parm","title":"add_parm","text":"<pre><code>add_parm(\nname: str, value: float, value2: float = 0\n) -&gt; None\n</code></pre> <p>Add a parameter value to the choice model</p>"},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.serialize","title":"serialize","text":"<pre><code>serialize() -&gt; dict\n</code></pre> <p>Get all parameter values from the choice model.</p>"},{"location":"API/Core/Demand.html","title":"Demand","text":""},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.base_demand","title":"base_demand  <code>instance-attribute</code>","text":"<pre><code>base_demand: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.business","title":"business  <code>instance-attribute</code>","text":"<pre><code>business: bool\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.curve_number","title":"curve_number  <code>instance-attribute</code>","text":"<pre><code>curve_number: int\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.distance","title":"distance  <code>instance-attribute</code>","text":"<pre><code>distance: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.generated_demand","title":"generated_demand  <code>instance-attribute</code>","text":"<pre><code>generated_demand: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.gt_demand","title":"gt_demand  <code>instance-attribute</code>","text":"<pre><code>gt_demand: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.gt_eliminated_chose_nothing","title":"gt_eliminated_chose_nothing  <code>instance-attribute</code>","text":"<pre><code>gt_eliminated_chose_nothing: int\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.gt_eliminated_no_offers","title":"gt_eliminated_no_offers  <code>instance-attribute</code>","text":"<pre><code>gt_eliminated_no_offers: int\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.gt_eliminated_wtp","title":"gt_eliminated_wtp  <code>instance-attribute</code>","text":"<pre><code>gt_eliminated_wtp: int\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.gt_revenue","title":"gt_revenue  <code>instance-attribute</code>","text":"<pre><code>gt_revenue: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.gt_sold","title":"gt_sold  <code>instance-attribute</code>","text":"<pre><code>gt_sold: int\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.price","title":"price  <code>instance-attribute</code>","text":"<pre><code>price: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.reference_fare","title":"reference_fare  <code>instance-attribute</code>","text":"<pre><code>reference_fare: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.revenue","title":"revenue  <code>instance-attribute</code>","text":"<pre><code>revenue: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.scenario_demand","title":"scenario_demand  <code>instance-attribute</code>","text":"<pre><code>scenario_demand: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.segment","title":"segment  <code>instance-attribute</code>","text":"<pre><code>segment: str\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.sold","title":"sold  <code>instance-attribute</code>","text":"<pre><code>sold: int\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.__init__","title":"__init__","text":"<pre><code>__init__(\norig: str,\ndest: str,\nsegment: str = None,\nbase_demand: float = 0,\nscenario_demand: float = 0,\n)\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.add_choice_model","title":"add_choice_model","text":"<pre><code>add_choice_model(choicemodel: ChoiceModel)\n</code></pre> <p>Add a choice model to this market segment</p>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.add_curve","title":"add_curve","text":"<pre><code>add_curve(curve: BookingCurve)\n</code></pre> <p>Add a booking curve to this market segment</p>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.add_fare","title":"add_fare","text":"<pre><code>add_fare(fare: Fare)\n</code></pre> <p>Add a fare to this market segment</p>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.add_group_sizes","title":"add_group_sizes","text":"<pre><code>add_group_sizes(group_sizes: list[float])\n</code></pre> <p>Group sizes is an array, with proportion for each, i.e [0.5, 0.4, 0.1] has 40% of bookings with 2 passengers</p>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.add_path","title":"add_path","text":"<pre><code>add_path(path: Path)\n</code></pre> <p>Add an itinerary path to this market segment</p>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.get_airline_revenue","title":"get_airline_revenue","text":"<pre><code>get_airline_revenue(airline_code: str)\n</code></pre> <p>Get revenue for the specified airline code</p>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.get_airline_sold","title":"get_airline_sold","text":"<pre><code>get_airline_sold(airline_code: str)\n</code></pre> <p>Get sold for the specifed airline code</p>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.get_demand_dcp","title":"get_demand_dcp","text":"<pre><code>get_demand_dcp(dcp: int)\n</code></pre> <p>Get demand for the specified DCP</p>"},{"location":"API/Core/Fare.html","title":"Fare","text":""},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.adv_purch","title":"adv_purch  <code>instance-attribute</code>","text":"<pre><code>adv_purch: int\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.booking_class","title":"booking_class  <code>instance-attribute</code>","text":"<pre><code>booking_class: str\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.carrier","title":"carrier  <code>instance-attribute</code>","text":"<pre><code>carrier: str\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.gt_revenue","title":"gt_revenue  <code>instance-attribute</code>","text":"<pre><code>gt_revenue: float\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.gt_sold","title":"gt_sold  <code>instance-attribute</code>","text":"<pre><code>gt_sold: int\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.price","title":"price  <code>instance-attribute</code>","text":"<pre><code>price: float\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.sold","title":"sold  <code>instance-attribute</code>","text":"<pre><code>sold: int\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.sold_business","title":"sold_business  <code>instance-attribute</code>","text":"<pre><code>sold_business: int\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.__init__","title":"__init__","text":"<pre><code>__init__(\ncarrier: str,\norig: str,\ndest: str,\nbooking_class: str,\nprice: float,\n)\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.add_restriction","title":"add_restriction","text":"<pre><code>add_restriction(restriction: str) -&gt; None\n</code></pre> <p>Add a restriction code to this Fare.</p>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.get_restriction","title":"get_restriction","text":"<pre><code>get_restriction(n: int)\n</code></pre> <p>Get the n-th restriction code on this Fare</p>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.get_sales_by_dcp","title":"get_sales_by_dcp","text":"<pre><code>get_sales_by_dcp(dcp: int)\n</code></pre> <p>Get the sales by specified DCP</p>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.num_restrictions","title":"num_restrictions","text":"<pre><code>num_restrictions(selfself)\n</code></pre> <p>How many restrictions do we have on this fare?</p>"},{"location":"API/Core/Generator.html","title":"Generator","text":""},{"location":"API/Core/Generator.html#passengersim_core._Generator.Generator.bitgenerator","title":"bitgenerator  <code>instance-attribute</code>","text":"<pre><code>bitgenerator: np.random.BitGenerator\n</code></pre>"},{"location":"API/Core/Generator.html#passengersim_core._Generator.Generator.bitgenerator_class","title":"bitgenerator_class  <code>instance-attribute</code>","text":"<pre><code>bitgenerator_class: type[np.random.BitGenerator]\n</code></pre>"},{"location":"API/Core/Generator.html#passengersim_core._Generator.Generator.__init__","title":"__init__","text":"<pre><code>__init__(\nseed: int | None = None,\nbitgenerator_class: type[np.random.BitGenerator]\n| None = None,\n)\n</code></pre> <p>Initialize a random number generator.</p> <p>Parameters:</p> <ul> <li> seed             (<code>int or None</code>, default:                 <code>None</code> )         \u2013          <p>For reproducibility, provide a seed.  If no seed is provided, a random seed is provided by the operating system and generally the results will be different every time you reseed.</p> </li> <li> bitgenerator_class             (<code>type[numpy.random.BitGenerator]</code>, default:                 <code>None</code> )         \u2013          <p>This is the class used to create new BitGenerator objects when the seed is reset.</p> </li> </ul>"},{"location":"API/Core/Generator.html#passengersim_core._Generator.Generator.get_normal","title":"get_normal","text":"<pre><code>get_normal() -&gt; float\n</code></pre> <p>Return a random draw from a standard normal distribution.</p>"},{"location":"API/Core/Generator.html#passengersim_core._Generator.Generator.get_uniform","title":"get_uniform","text":"<pre><code>get_uniform() -&gt; float\n</code></pre> <p>Return a random draw standard uniform distribution.</p>"},{"location":"API/Core/Generator.html#passengersim_core._Generator.Generator.seed","title":"seed","text":"<pre><code>seed(seed: int | list[int] | None) -&gt; None\n</code></pre> <p>Reseed the random bit generator.</p>"},{"location":"API/Core/Leg.html","title":"Leg","text":""},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.arr_time","title":"arr_time  <code>instance-attribute</code>","text":"<pre><code>arr_time: int\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.bid_price","title":"bid_price  <code>instance-attribute</code>","text":"<pre><code>bid_price: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.bid_price_gradient","title":"bid_price_gradient  <code>instance-attribute</code>","text":"<pre><code>bid_price_gradient: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.buckets","title":"buckets  <code>instance-attribute</code>","text":"<pre><code>buckets: Iterator[Bucket]\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.capacity","title":"capacity  <code>instance-attribute</code>","text":"<pre><code>capacity: int\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.carrier","title":"carrier  <code>instance-attribute</code>","text":"<pre><code>carrier: str\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.dep_time","title":"dep_time  <code>instance-attribute</code>","text":"<pre><code>dep_time: int\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.displacement","title":"displacement  <code>instance-attribute</code>","text":"<pre><code>displacement: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.distance","title":"distance  <code>instance-attribute</code>","text":"<pre><code>distance: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.duration","title":"duration  <code>instance-attribute</code>","text":"<pre><code>duration: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.equipment","title":"equipment  <code>instance-attribute</code>","text":"<pre><code>equipment: str\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.fcst_mean","title":"fcst_mean  <code>instance-attribute</code>","text":"<pre><code>fcst_mean: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.fcst_std_dev","title":"fcst_std_dev  <code>instance-attribute</code>","text":"<pre><code>fcst_std_dev: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.flt_no","title":"flt_no  <code>instance-attribute</code>","text":"<pre><code>flt_no: int\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.gt_capacity","title":"gt_capacity  <code>instance-attribute</code>","text":"<pre><code>gt_capacity: int\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.gt_revenue","title":"gt_revenue  <code>instance-attribute</code>","text":"<pre><code>gt_revenue: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.gt_sold","title":"gt_sold  <code>instance-attribute</code>","text":"<pre><code>gt_sold: int\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.info","title":"info  <code>instance-attribute</code>","text":"<pre><code>info: Any\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.q_demand","title":"q_demand  <code>instance-attribute</code>","text":"<pre><code>q_demand: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.revenue","title":"revenue  <code>instance-attribute</code>","text":"<pre><code>revenue: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.sold","title":"sold  <code>instance-attribute</code>","text":"<pre><code>sold: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.__init__","title":"__init__","text":"<pre><code>__init__(\ncarrier: str,\nflt_no: int,\norig: str,\ndest: str,\ncapacity: int = 0,\nsold: int = 0,\nduration: int = 0,\nequipment: str = None,\ninfo: Any = None,\n)\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.add_bucket","title":"add_bucket","text":"<pre><code>add_bucket(*args: Bucket)\n</code></pre> <p>Add an inventory control bucket to the Leg.</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.bucket_number","title":"bucket_number","text":"<pre><code>bucket_number(i: int | str) -&gt; Bucket\n</code></pre> <p>Get the bucket from the leg.</p> <p>Parameters:</p> <ul> <li> i             (<code>int or str</code>)         \u2013          <p>If an integer, returns the bucket at this index position from the list of buckets attached to this Leg.  If given as a str, returns the bucket with the indicated booking class.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Bucket</code>         \u2013          </li> </ul>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.capture_dcp","title":"capture_dcp","text":"<pre><code>capture_dcp(i: int) -&gt; None\n</code></pre> <p>Grab a snapshot of important variables.</p> <p>Parameters:</p> <ul> <li> i             (<code>int</code>)         \u2013          <p>The index of the DCP to capture.</p> </li> </ul>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.get_bucket_auth","title":"get_bucket_auth","text":"<pre><code>get_bucket_auth(i: int | str) -&gt; int\n</code></pre> <p>Get the authorization for a bucket attached to this leg.</p> <p>Parameters:</p> <ul> <li> i             (<code>int or str</code>)         \u2013          <p>If an integer, returns the auth of the bucket at this index position from the list of buckets attached to this Leg.  If given as a str, returns the auth of the bucket with the indicated booking class.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>int</code>         \u2013          </li> </ul>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.get_bucket_decision_fare","title":"get_bucket_decision_fare","text":"<pre><code>get_bucket_decision_fare(bkt_ref: int | str) -&gt; float\n</code></pre> <p>Get the decision fare for a bucket, either by class name (string) or index (int)</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.get_bucket_fcst_mean","title":"get_bucket_fcst_mean","text":"<pre><code>get_bucket_fcst_mean(bkt_ref: int | str) -&gt; float\n</code></pre> <p>Get the forecast demand for a bucket, either by class name (string) or index (int)</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.get_bucket_fcst_revenue","title":"get_bucket_fcst_revenue","text":"<pre><code>get_bucket_fcst_revenue(bkt_ref: int | str) -&gt; float\n</code></pre> <p>Get the forecast revenue for a bucket, either by class name (string) or index (int)</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.get_bucket_fcst_std_dev","title":"get_bucket_fcst_std_dev","text":"<pre><code>get_bucket_fcst_std_dev(bkt_ref: int | str) -&gt; float\n</code></pre> <p>Get the forecast demand std. dev. for a bucket, either by class name (string) or index (int)</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.get_bucket_revenue","title":"get_bucket_revenue","text":"<pre><code>get_bucket_revenue(bkt_ref: int | str) -&gt; float\n</code></pre> <p>Get the revenue for a bucket, either by class name (string) or index (int)</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.get_bucket_sold","title":"get_bucket_sold","text":"<pre><code>get_bucket_sold(i: int | str) -&gt; int\n</code></pre> <p>Get the number of seats sold for a bucket attached to this leg.</p> <p>Parameters:</p> <ul> <li> i             (<code>int or str</code>)         \u2013          <p>If an integer, returns the number of seats sold for the bucket at this index position from the list of buckets attached to this Leg.  If given as a str, returns the number of seats sold for the bucket with the indicated booking class.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>int</code>         \u2013          </li> </ul>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.get_num_buckets","title":"get_num_buckets","text":"<pre><code>get_num_buckets() -&gt; int\n</code></pre> <p>Get the number of buckets attached to this leg.</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.print_bucket_detail","title":"print_bucket_detail","text":"<pre><code>print_bucket_detail()\n</code></pre> <p>Print a bunch of debugging info</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.print_bucket_history","title":"print_bucket_history","text":"<pre><code>print_bucket_history()\n</code></pre> <p>Print a bunch of debugging info</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.set_bucket_auth","title":"set_bucket_auth","text":"<pre><code>set_bucket_auth(bkt_ref: int | str, auth: int)\n</code></pre> <p>Set the authorization for a bucket, either by class name (string) or index (int)</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.set_bucket_decision_fare","title":"set_bucket_decision_fare","text":"<pre><code>set_bucket_decision_fare(bkt_ref: int | str, auth: int)\n</code></pre> <p>Set the decision fare for a bucket, either by class name (string) or index (int)</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.set_bucket_fcst_mean","title":"set_bucket_fcst_mean","text":"<pre><code>set_bucket_fcst_mean(bkt_ref: int | str, auth: int)\n</code></pre> <p>Set the forecast demand for a bucket, either by class name (string) or index (int)</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.set_bucket_fcst_revenue","title":"set_bucket_fcst_revenue","text":"<pre><code>set_bucket_fcst_revenue(bkt_ref: int | str, auth: int)\n</code></pre> <p>Set the revenue forecast for a bucket, either by class name (string) or index (int)</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.set_bucket_fcst_std_dev","title":"set_bucket_fcst_std_dev","text":"<pre><code>set_bucket_fcst_std_dev(bkt_ref: int | str, auth: int)\n</code></pre> <p>Set the forecast demand std. dev. for a bucket, either by class name (string) or index (int)</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.set_bucket_revenue","title":"set_bucket_revenue","text":"<pre><code>set_bucket_revenue(bkt_ref: int | str, auth: int)\n</code></pre> <p>Set the revenue for a bucket, either by class name (string) or index (int)</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.set_bucket_sold","title":"set_bucket_sold","text":"<pre><code>set_bucket_sold(bkt_ref: int | str, sold: int)\n</code></pre> <p>Set the seats sold for a bucket, either by class name (string) or index (int)</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.write_to_sqlite","title":"write_to_sqlite","text":"<pre><code>write_to_sqlite(\nsqlite_pointer: sqlite3.Connection,\nsim: SimulationEngine,\ndcp: int,\n)\n</code></pre> <p>Write to leg_bucket_detail.</p>"},{"location":"API/Core/Path.html","title":"Path","text":""},{"location":"API/Core/Path.html#passengersim_core._Path.Path.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.gt_revenue","title":"gt_revenue  <code>instance-attribute</code>","text":"<pre><code>gt_revenue: float\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.gt_sold","title":"gt_sold  <code>instance-attribute</code>","text":"<pre><code>gt_sold: int\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.path_quality_index","title":"path_quality_index  <code>instance-attribute</code>","text":"<pre><code>path_quality_index: float\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.price","title":"price  <code>instance-attribute</code>","text":"<pre><code>price: float\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.revenue","title":"revenue  <code>instance-attribute</code>","text":"<pre><code>revenue: float\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.sold","title":"sold  <code>instance-attribute</code>","text":"<pre><code>sold: int\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.utility","title":"utility  <code>instance-attribute</code>","text":"<pre><code>utility: float\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.__init__","title":"__init__","text":"<pre><code>__init__(orig: str, dest: str, price: float)\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.accumulate_forecasts","title":"accumulate_forecasts","text":"<pre><code>accumulate_forecasts()\n</code></pre> <p>Adds the path fcst to each leg</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.add_booking_class","title":"add_booking_class","text":"<pre><code>add_booking_class(booking_class: str)\n</code></pre> <p>Add a booking class to this Path</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.add_leg","title":"add_leg","text":"<pre><code>add_leg(leg: Leg) -&gt; None\n</code></pre> <p>Add a leg to this Path.</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.add_path_class","title":"add_path_class","text":"<pre><code>add_path_class(path_class: PathClass)\n</code></pre> <p>Add a path class to this Path</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.capture_dcp","title":"capture_dcp","text":"<pre><code>capture_dcp(dcp_index: int)\n</code></pre> <p>Save relevant information for this DCP</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.forecast","title":"forecast","text":"<pre><code>forecast(\ndcp_index: int, algorithm: str, debug: bool = False\n)\n</code></pre> <p>Run the forecast models for this path and any path-class items it has</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.get_class_decision_fare","title":"get_class_decision_fare","text":"<pre><code>get_class_decision_fare(pc_index: int | str) -&gt; float\n</code></pre> <p>Get the decision fare amount for a class, either by class name (string) or index (int)</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.get_class_fcst_mean","title":"get_class_fcst_mean","text":"<pre><code>get_class_fcst_mean(pc_index: int | str) -&gt; float\n</code></pre> <p>Get the demand forecast for a class, either by class name (string) or index (int)</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.get_class_sold","title":"get_class_sold","text":"<pre><code>get_class_sold(pc_index: int | str) -&gt; int\n</code></pre> <p>Get the number sold for a class, either by class name (string) or index (int)</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.get_class_std_dev","title":"get_class_std_dev","text":"<pre><code>get_class_std_dev(pc_index: int | str) -&gt; float\n</code></pre> <p>Get the demand forecast std. dev. for a class, either by class name (string) or index (int)</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.get_leg_bid_price","title":"get_leg_bid_price","text":"<pre><code>get_leg_bid_price(n: int) -&gt; float\n</code></pre> <p>Get the bid price on the n-th leg.</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.get_leg_carrier","title":"get_leg_carrier","text":"<pre><code>get_leg_carrier(n: int) -&gt; str\n</code></pre> <p>Get the carrier code for the n-th leg.</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.get_leg_fltno","title":"get_leg_fltno","text":"<pre><code>get_leg_fltno(n: int) -&gt; int\n</code></pre> <p>Get the flight number for the n-th leg.</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.num_classes","title":"num_classes","text":"<pre><code>num_classes() -&gt; int\n</code></pre> <p>Return the number of booking classes that are tracked for this Path</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.num_deps","title":"num_deps","text":"<pre><code>num_deps() -&gt; int\n</code></pre> <p>How many departures are on this path?</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.num_legs","title":"num_legs","text":"<pre><code>num_legs() -&gt; int\n</code></pre> <p>How many legs are on this path?</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.print_class_history","title":"print_class_history","text":"<pre><code>print_class_history(path_class_index: int)\n</code></pre> <p>Print some historical data to stdout, mostly for debugging</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.set_class_decision_fare","title":"set_class_decision_fare","text":"<pre><code>set_class_decision_fare(pc_index: int | str, fcst: float)\n</code></pre> <p>Set the decision fare amount for a class, either by class name (string) or index (int)</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.set_class_fcst_mean","title":"set_class_fcst_mean","text":"<pre><code>set_class_fcst_mean(pc_index: int | str, fcst: float)\n</code></pre> <p>Set the demand forecast for a class, either by class name (string) or index (int)</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.set_class_sold","title":"set_class_sold","text":"<pre><code>set_class_sold(pc_index: int | str, sold: int)\n</code></pre> <p>Set the number sold for a class, either by class name (string) or index (int)</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.set_class_std_dev","title":"set_class_std_dev","text":"<pre><code>set_class_std_dev(pc_index: int | str, fcst: float)\n</code></pre> <p>Set the demand forecast std. dev.for a class, either by class name (string) or index (int)</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.untruncate_demand","title":"untruncate_demand","text":"<pre><code>untruncate_demand(\ndcp_index: int, algorithm: str, debug: bool = False\n)\n</code></pre> <p>Run the demand untruncation models for this path and any path-class items it has</p>"},{"location":"API/Core/PathClass.html","title":"Path Class","text":""},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.booking_class","title":"booking_class  <code>instance-attribute</code>","text":"<pre><code>booking_class: str\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.contribution1","title":"contribution1  <code>instance-attribute</code>","text":"<pre><code>contribution1: float\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.contribution2","title":"contribution2  <code>instance-attribute</code>","text":"<pre><code>contribution2: float\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.decision_fare","title":"decision_fare  <code>instance-attribute</code>","text":"<pre><code>decision_fare: float\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.fcst_mean","title":"fcst_mean  <code>instance-attribute</code>","text":"<pre><code>fcst_mean: float\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.fcst_std_dev","title":"fcst_std_dev  <code>instance-attribute</code>","text":"<pre><code>fcst_std_dev: float\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.index1","title":"index1  <code>instance-attribute</code>","text":"<pre><code>index1: int\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.index2","title":"index2  <code>instance-attribute</code>","text":"<pre><code>index2: int\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.__init__","title":"__init__","text":"<pre><code>__init__(booking_class: Any)\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.add_fare","title":"add_fare","text":"<pre><code>add_fare(fare: Fare)\n</code></pre> <p>Add a Fare to the PathClass</p>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.set_indexes","title":"set_indexes","text":"<pre><code>set_indexes(i1: int, i2: int = 0) -&gt; None\n</code></pre> <p>Set the VN indexes for this PathClass.</p>"},{"location":"API/config/00-configs.html","title":"Config","text":""},{"location":"API/config/00-configs.html#passengersim.config.base.logger","title":"logger  <code>module-attribute</code>","text":"<pre><code>logger = logging.getLogger('passengersim.config')\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config","title":"Config","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>passengersim-public/passengersim/config/base.py</code> <pre><code>class Config(BaseModel, extra=\"forbid\"):\nscenario: str = Field(default_factory=random_label)\n\"\"\"Name for this scenario.\n    The scenario name is helpful when writing different simulations to the same\n    database so you can uniquely identify and query results for a particular\n    scenario.\"\"\"\nsimulation_controls: SimulationSettings = SimulationSettings()\n\"\"\"\n    Controls that apply broadly to the overall simulation.\n    See [SimulationSettings][passengersim.config.SimulationSettings] for detailed\n    documentation.\n    \"\"\"\ndb: DatabaseConfig = DatabaseConfig()\n\"\"\"\n    See [passengersim.config.DatabaseConfig][] for detailed documentation.\n    \"\"\"\nrm_systems: DictOfNamed[RmSystem] = []\n\"\"\"\n    The revenue management systems used by the carriers in this simulation.\n    See [RM Systems][rm-systems] for details.\n    \"\"\"\nchoice_models: DictOfNamed[ChoiceModel] = {}\n\"\"\"Several choice models are programmed behind the scenes.\n    The choice_models option allows the user to set the parameters used in the\n    utility model for a particular choice model. There are two choice models\n    currently programmed.\n    Need to explaining more here\"\"\"\nairlines: DictOfNamed[Airline] = {}\n\"\"\"A list of airlines.\n    One convention is to use Airline1, Airline2, ... to list the airlines in the\n    network.  Another convention is to use IATA industry-standard two-letter airline\n    codes.  See the\n    [IATA code search](https://www.iata.org/en/publications/directories/code-search/)\n    for more information.\"\"\"\nclasses: list[str] = []\n\"\"\"A list of fare classes.\n    One convention is to use Y0, Y1, ... to label fare classes from the highest\n    fare (Y0) to the lowest fare (Yn).  An example of classes is below.\n    Example\n    -------\n    ```{yaml}\n    classes:\n      - Y0\n      - Y1\n      - Y2\n      - Y3\n      - Y4\n      - Y5\n    ```\n    \"\"\"\ndcps: list[int] = []\n\"\"\"A list of DCPs (data collection points).\n    The DCPs are given as integers, which represent the number of days\n    before departure.   An example of data collection points is given below.\n    Note that typically as you get closer to day of departure (DCP=0) the number\n    of days between two consecutive DCP periods decreases.  The DCP intervals are\n    shorter because as you get closer to departure, customer arrival rates tend\n    to increase, and it is advantageous to forecast changes in demand for shorter\n    intervals.\n    Example\n    -------\n    ```{yaml}\n    dcps: [63, 56, 49, 42, 35, 31, 28, 24, 21, 17, 14, 10, 7, 5, 3, 1]\n    ```\n    \"\"\"\nbooking_curves: DictOfNamed[BookingCurve] = {}\n\"\"\"Booking curves\n    The booking curve points typically line up with the DCPs.\n    Example\n    -------\n    ```{yaml}\n    booking_curves:\n      - name: c1\n        curve:\n          63: 0.06\n          56: 0.11\n          49: 0.15\n          42: 0.2\n          35: 0.23\n          31: 0.25\n          28: 0.28\n          24: 0.31\n          21: 0.35\n          17: 0.4\n          14: 0.5\n          10: 0.62\n          7: 0.7\n          5: 0.78\n          3: 0.95\n          1: 1.0\n    \"\"\"\nlegs: list[Leg] = []\ndemands: list[Demand] = []\nfares: list[Fare] = []\npaths: list[Path] = []\nsnapshot_filters: list[SnapshotFilter] = []\n@model_validator(mode=\"after\")\ndef _airlines_have_rm_systems(cls, m: Config):\n\"\"\"Check that all airlines have RM systems that have been defined.\"\"\"\nfor airline in m.airlines.values():\nif airline.rm_system not in m.rm_systems:\nraise ValueError(\nf\"Airline {airline.name} has unknown RM system {airline.rm_system}\"\n)\nreturn m\n@model_validator(mode=\"after\")\ndef _booking_curves_match_dcps(cls, m: Config):\n\"\"\"Check that all booking curves are complete and valid.\"\"\"\nsorted_dcps = reversed(sorted(m.dcps))\nfor curve in m.booking_curves.values():\ni = 0\nfor dcp in sorted_dcps:\nassert (\ndcp in curve.curve\n), f\"booking curve {curve.name} is missing dcp {dcp}\"\nassert (\ncurve.curve[dcp] &gt;= i\n), f\"booking curve {curve.name} moves backwards at dcp {dcp}\"\ni = curve.curve[dcp]\nreturn m\n@classmethod\ndef _load_unformatted_yaml(\ncls,\nfilenames: str | pathlib.Path | list[str] | list[pathlib.Path],\n) -&gt; addicty.Dict:\n\"\"\"\n        Read from YAML to an unvalidated addicty.Dict.\n        Parameters\n        ----------\n        filenames : path-like or list[path-like]\n            If multiple filenames are provided, they are loaded in order\n            and values with matching keys defined in later files will overwrite\n            the ones found in earlier files.\n        Returns\n        -------\n        addicty.Dict\n        \"\"\"\nif isinstance(filenames, str | pathlib.Path):\nfilenames = [filenames]\nraw_config = addicty.Dict()\nfor filename in filenames:\nfilename = pathlib.Path(filename)\nopener = gzip.open if filename.suffix == \".gz\" else open\nwith opener(filename) as f:\ncontent = addicty.Dict.load(f, freeze=False)\ninclude = content.pop(\"include\", None)\nif include is not None:\nif isinstance(include, str):\nfilename.parent.joinpath(include)\ninclusions = [filename.parent.joinpath(include)]\nelse:\ninclusions = [filename.parent.joinpath(i) for i in include]\nraw_config.update(cls._load_unformatted_yaml(inclusions))\nraw_config.update(content)\nlogger.info(\"loaded config from %s\", filename)\nreturn raw_config\n@classmethod\ndef from_yaml(\ncls,\nfilenames: pathlib.Path | list[pathlib.Path],\n) -&gt; typing.Self:\n\"\"\"\n        Read from YAML to an unvalidated addicty.Dict.\n        Parameters\n        ----------\n        filenames : path-like or list[path-like]\n            If multiple filenames are provided, they are loaded in order\n            and values with matching keys defined in later files will overwrite\n            the ones found in earlier files.\n        Returns\n        -------\n        Config\n        \"\"\"\nraw_config = cls._load_unformatted_yaml(filenames)\nreturn cls.model_validate(raw_config.to_dict())\n@classmethod\ndef model_validate(\ncls,\n*args,\n**kwargs,\n) -&gt; typing.Self:\n\"\"\"Validate the passengersim Config inputs.\n        This method reloads the Config class to ensure all imported\n        RmSteps are properly registered before validation.\n        Parameters\n        ----------\n        obj\n            The object to validate.\n        strict : bool\n            Whether to raise an exception on invalid fields.\n        from_attributes\n            Whether to extract data from object attributes.\n        context\n            Additional context to pass to the validator.\n        Raises\n        ------\n        ValidationError\n            If the object could not be validated.\n        Returns\n        -------\n        Config\n            The validated model instance.\n        \"\"\"\n# reload these to refresh for any newly defined RmSteps\nmodule_parent = \".\".join(__name__.split(\".\")[:-1])\nimportlib.reload(sys.modules.get(f\"{module_parent}.rm_systems\"))\nimportlib.reload(sys.modules.get(__name__))\nmodule = importlib.reload(sys.modules.get(module_parent))\nreloaded_class = getattr(module, cls.__name__)\n# `__tracebackhide__` tells pytest and some other tools to omit this function from tracebacks\n__tracebackhide__ = True\nreturn reloaded_class.__pydantic_validator__.validate_python(*args, **kwargs)\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.airlines","title":"airlines  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>airlines: DictOfNamed[Airline] = {}\n</code></pre> <p>A list of airlines.</p> <p>One convention is to use Airline1, Airline2, ... to list the airlines in the network.  Another convention is to use IATA industry-standard two-letter airline codes.  See the IATA code search for more information.</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.booking_curves","title":"booking_curves  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>booking_curves: DictOfNamed[BookingCurve] = {}\n</code></pre> <p>Booking curves</p> <p>The booking curve points typically line up with the DCPs.</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.booking_curves--example","title":"Example","text":"<p>```{yaml} booking_curves:   - name: c1     curve:       63: 0.06       56: 0.11       49: 0.15       42: 0.2       35: 0.23       31: 0.25       28: 0.28       24: 0.31       21: 0.35       17: 0.4       14: 0.5       10: 0.62       7: 0.7       5: 0.78       3: 0.95       1: 1.0</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.choice_models","title":"choice_models  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>choice_models: DictOfNamed[ChoiceModel] = {}\n</code></pre> <p>Several choice models are programmed behind the scenes.</p> <p>The choice_models option allows the user to set the parameters used in the utility model for a particular choice model. There are two choice models currently programmed.</p> <p>Need to explaining more here</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.classes","title":"classes  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>classes: list[str] = []\n</code></pre> <p>A list of fare classes.</p> <p>One convention is to use Y0, Y1, ... to label fare classes from the highest fare (Y0) to the lowest fare (Yn).  An example of classes is below.</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.classes--example","title":"Example","text":"<pre><code>classes:\n  - Y0\n  - Y1\n  - Y2\n  - Y3\n  - Y4\n  - Y5\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.db","title":"db  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>db: DatabaseConfig = DatabaseConfig()\n</code></pre> <p>See passengersim.config.DatabaseConfig for detailed documentation.</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.dcps","title":"dcps  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>dcps: list[int] = []\n</code></pre> <p>A list of DCPs (data collection points).</p> <p>The DCPs are given as integers, which represent the number of days before departure.   An example of data collection points is given below. Note that typically as you get closer to day of departure (DCP=0) the number of days between two consecutive DCP periods decreases.  The DCP intervals are shorter because as you get closer to departure, customer arrival rates tend to increase, and it is advantageous to forecast changes in demand for shorter intervals.</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.dcps--example","title":"Example","text":"<pre><code>dcps: [63, 56, 49, 42, 35, 31, 28, 24, 21, 17, 14, 10, 7, 5, 3, 1]\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.demands","title":"demands  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>demands: list[Demand] = []\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.fares","title":"fares  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>fares: list[Fare] = []\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.legs","title":"legs  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>legs: list[Leg] = []\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.paths","title":"paths  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>paths: list[Path] = []\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.rm_systems","title":"rm_systems  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>rm_systems: DictOfNamed[RmSystem] = []\n</code></pre> <p>The revenue management systems used by the carriers in this simulation.</p> <p>See RM Systems for details.</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.scenario","title":"scenario  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>scenario: str = Field(default_factory=random_label)\n</code></pre> <p>Name for this scenario.</p> <p>The scenario name is helpful when writing different simulations to the same database so you can uniquely identify and query results for a particular scenario.</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.simulation_controls","title":"simulation_controls  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>simulation_controls: SimulationSettings = (\nSimulationSettings()\n)\n</code></pre> <p>Controls that apply broadly to the overall simulation.</p> <p>See SimulationSettings for detailed documentation.</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.snapshot_filters","title":"snapshot_filters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>snapshot_filters: list[SnapshotFilter] = []\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.from_yaml","title":"from_yaml  <code>classmethod</code>","text":"<pre><code>from_yaml(\nfilenames: pathlib.Path | list[pathlib.Path],\n) -&gt; typing.Self\n</code></pre> <p>Read from YAML to an unvalidated addicty.Dict.</p> <p>Parameters:</p> <ul> <li> filenames             (<code>path - like or list[path - like]</code>)         \u2013          <p>If multiple filenames are provided, they are loaded in order and values with matching keys defined in later files will overwrite the ones found in earlier files.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Config</code>         \u2013          </li> </ul> Source code in <code>passengersim-public/passengersim/config/base.py</code> <pre><code>@classmethod\ndef from_yaml(\ncls,\nfilenames: pathlib.Path | list[pathlib.Path],\n) -&gt; typing.Self:\n\"\"\"\n    Read from YAML to an unvalidated addicty.Dict.\n    Parameters\n    ----------\n    filenames : path-like or list[path-like]\n        If multiple filenames are provided, they are loaded in order\n        and values with matching keys defined in later files will overwrite\n        the ones found in earlier files.\n    Returns\n    -------\n    Config\n    \"\"\"\nraw_config = cls._load_unformatted_yaml(filenames)\nreturn cls.model_validate(raw_config.to_dict())\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.model_validate","title":"model_validate  <code>classmethod</code>","text":"<pre><code>model_validate(*args, **kwargs) -&gt; typing.Self\n</code></pre> <p>Validate the passengersim Config inputs.</p> <p>This method reloads the Config class to ensure all imported RmSteps are properly registered before validation.</p> <p>Parameters:</p> <ul> <li> obj         \u2013          <p>The object to validate.</p> </li> <li> strict             (<code>bool</code>)         \u2013          <p>Whether to raise an exception on invalid fields.</p> </li> <li> from_attributes         \u2013          <p>Whether to extract data from object attributes.</p> </li> <li> context         \u2013          <p>Additional context to pass to the validator.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>ValidationError</code>           \u2013          <p>If the object could not be validated.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Config</code>         \u2013          <p>The validated model instance.</p> </li> </ul> Source code in <code>passengersim-public/passengersim/config/base.py</code> <pre><code>@classmethod\ndef model_validate(\ncls,\n*args,\n**kwargs,\n) -&gt; typing.Self:\n\"\"\"Validate the passengersim Config inputs.\n    This method reloads the Config class to ensure all imported\n    RmSteps are properly registered before validation.\n    Parameters\n    ----------\n    obj\n        The object to validate.\n    strict : bool\n        Whether to raise an exception on invalid fields.\n    from_attributes\n        Whether to extract data from object attributes.\n    context\n        Additional context to pass to the validator.\n    Raises\n    ------\n    ValidationError\n        If the object could not be validated.\n    Returns\n    -------\n    Config\n        The validated model instance.\n    \"\"\"\n# reload these to refresh for any newly defined RmSteps\nmodule_parent = \".\".join(__name__.split(\".\")[:-1])\nimportlib.reload(sys.modules.get(f\"{module_parent}.rm_systems\"))\nimportlib.reload(sys.modules.get(__name__))\nmodule = importlib.reload(sys.modules.get(module_parent))\nreloaded_class = getattr(module, cls.__name__)\n# `__tracebackhide__` tells pytest and some other tools to omit this function from tracebacks\n__tracebackhide__ = True\nreturn reloaded_class.__pydantic_validator__.validate_python(*args, **kwargs)\n</code></pre>"},{"location":"API/config/01-simulation-controls.html","title":"Simulation Controls","text":""},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings","title":"SimulationSettings","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>passengersim-public/passengersim/config/simulation_controls.py</code> <pre><code>class SimulationSettings(BaseModel, extra=\"allow\"):\nnum_trials: conint(ge=1, le=1000) = 1\n\"\"\"The overall number of trials to run.\n    Each trial is a complete simulation, including burn-in training time as well\n    as study time.  It will have a number of sequentially developed samples, each of\n    which represents one \"typical\" day of travel.\n    See [Counting Simulations][counting-simulations] for more details.\n    \"\"\"\nnum_samples: conint(ge=1, le=1000) = 600\n\"\"\"The number of samples to run within each trial.\n    Each sample represents one \"typical\" day of travel.\n    See [Counting Simulations][counting-simulations] for more details.\n    \"\"\"\nburn_samples: conint(ge=1, le=1000) = 100\n\"\"\"The number of samples to burn when starting each trial.\n    Burned samples are used to populate a stable history of data to support\n    forecasting and optimization algorithms, but are not used to evaluate\n    performance results.\n    See [Counting Simulations][counting-simulations] for more details.\n    \"\"\"\nsys_k_factor: confloat(gt=0, lt=5.0) = 0.10\n\"\"\"\n    System-level randomness factor.\n    This factor controls the level of correlation in demand levels across the\n    entire system.\n    See [k-factors][demand-generation-k-factors]\n    for more details.\n    \"\"\"\nmkt_k_factor: confloat(gt=0, lt=5.0) = 0.20\n\"\"\"\n    Market-level randomness factor.\n    This factor controls the level of correlation in demand levels across origin-\n    destination markets.\n    See [k-factors][demand-generation-k-factors]\n    for more details.\n    \"\"\"\npax_type_k_factor: confloat(gt=0, lt=5.0) = 0.40\n\"\"\"\n    Passenger-type randomness factor.\n    This factor controls the level of correlation in demand levels across passenger\n    types.\n    See [k-factors][demand-generation-k-factors]\n    for more details.\n    \"\"\"\ntf_k_factor: confloat(gt=0) = 0.1\n\"\"\"\n    Time frame randomness factor.\n    This factor controls the dispersion of bookings over time, given a previously\n    identified level of total demand. See [k-factors]() for more details.\n    \"\"\"\nz_factor: confloat(gt=0, lt=5.0) = 2.0\n\"\"\"\n    Base level demand variance control.\n    See [k-factors][demand-generation-k-factors] for more details.\n    \"\"\"\nprorate_revenue: bool = True\ndwm_lite: bool = True\n\"\"\"\n    Use the \"lite\" decision window model.\n    The structure of this model is the same as that use by Boeing.\n    \"\"\"\nmax_connect_time: conint(ge=0) = 240\n\"\"\"\n    Maximum connection time for automatically generated paths.\n    Any generated path that has a connection time greater than this value (expressed\n    in minutes) is invalidated.\n    \"\"\"\ndisable_ap: bool = False\n\"\"\"\n    Remove all advance purchase settings used in the simulation.\n    This applies to all airlines and all fare products.\n    \"\"\"\ndemand_multiplier: confloat(gt=0) = 1.0\n\"\"\"\n    Scale all demand by this value.\n    Setting to a value other than 1.0 will increase or decrease all demand inputs\n    uniformly by the same multiplicative amount. This is helpful when exploring how\n    simulation results vary when you have \"low demand\" scenarios (e.g,\n    demand_multiplier = 0.8), or \"high demand\" scenarios (e.g., demand multiplier = 1.1).\n    \"\"\"\nmanual_paths: bool = True\n\"\"\"\n    The user has provided explicit paths and connections.\n    If set to False, the automatic path generation algorithm is applied.\n    \"\"\"\nwrite_raw_files: bool = False\nrandom_seed: int | None = None\nupdate_frequency: int | None = None\ncontroller_time_zone: int | float = -21600\n\"\"\"\n    The reference time zone for the controller (seconds relative to UTC).\n    Data collection points will be trigger at approximately midnight in this time zone.\n    This value can be input in hours instead of seconds, any absolute value less\n    than or equal to 12 will be assumed to be hours and scaled to seconds.\n    The default value is -6 hours, or US Central Standard Time.\n    \"\"\"\nbase_date: str = \"2020-03-01\"\n\"\"\"\n    The default date used to compute relative times for travel.\n    Future enhancements may include multi-day modeling.\n    \"\"\"\ndcp_hour: float = 6.0\n\"\"\"\n    The hour of the day that the RM recalculation events are triggered.\n    If set to zero, the events happen at midnight.  Other values can\n    delay the recalculation into later in the night (or the next day).\n    \"\"\"\n@field_validator(\"controller_time_zone\", mode=\"before\")\ndef _time_zone_convert_hours_to_seconds(cls, v):\nif -12 &lt;= v &lt;= 12:\nv *= 3600\nreturn v\ndef reference_epoch(self) -&gt; int:\n\"\"\"Get the reference travel datetime in unix time.\"\"\"\nreturn iso_to_unix(self.base_date) - self.controller_time_zone\n</code></pre>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.base_date","title":"base_date  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>base_date: str = '2020-03-01'\n</code></pre> <p>The default date used to compute relative times for travel.</p> <p>Future enhancements may include multi-day modeling.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.burn_samples","title":"burn_samples  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>burn_samples: conint(ge=1, le=1000) = 100\n</code></pre> <p>The number of samples to burn when starting each trial.</p> <p>Burned samples are used to populate a stable history of data to support forecasting and optimization algorithms, but are not used to evaluate performance results.</p> <p>See Counting Simulations for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.controller_time_zone","title":"controller_time_zone  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>controller_time_zone: int | float = -21600\n</code></pre> <p>The reference time zone for the controller (seconds relative to UTC).</p> <p>Data collection points will be trigger at approximately midnight in this time zone.</p> <p>This value can be input in hours instead of seconds, any absolute value less than or equal to 12 will be assumed to be hours and scaled to seconds.</p> <p>The default value is -6 hours, or US Central Standard Time.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.dcp_hour","title":"dcp_hour  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>dcp_hour: float = 6.0\n</code></pre> <p>The hour of the day that the RM recalculation events are triggered.</p> <p>If set to zero, the events happen at midnight.  Other values can delay the recalculation into later in the night (or the next day).</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.demand_multiplier","title":"demand_multiplier  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>demand_multiplier: confloat(gt=0) = 1.0\n</code></pre> <p>Scale all demand by this value.</p> <p>Setting to a value other than 1.0 will increase or decrease all demand inputs uniformly by the same multiplicative amount. This is helpful when exploring how simulation results vary when you have \"low demand\" scenarios (e.g, demand_multiplier = 0.8), or \"high demand\" scenarios (e.g., demand multiplier = 1.1).</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.disable_ap","title":"disable_ap  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>disable_ap: bool = False\n</code></pre> <p>Remove all advance purchase settings used in the simulation.</p> <p>This applies to all airlines and all fare products.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.dwm_lite","title":"dwm_lite  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>dwm_lite: bool = True\n</code></pre> <p>Use the \"lite\" decision window model.</p> <p>The structure of this model is the same as that use by Boeing.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.manual_paths","title":"manual_paths  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>manual_paths: bool = True\n</code></pre> <p>The user has provided explicit paths and connections.</p> <p>If set to False, the automatic path generation algorithm is applied.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.max_connect_time","title":"max_connect_time  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>max_connect_time: conint(ge=0) = 240\n</code></pre> <p>Maximum connection time for automatically generated paths.</p> <p>Any generated path that has a connection time greater than this value (expressed in minutes) is invalidated.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.mkt_k_factor","title":"mkt_k_factor  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>mkt_k_factor: confloat(gt=0, lt=5.0) = 0.2\n</code></pre> <p>Market-level randomness factor.</p> <p>This factor controls the level of correlation in demand levels across origin- destination markets.</p> <p>See k-factors for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.num_samples","title":"num_samples  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>num_samples: conint(ge=1, le=1000) = 600\n</code></pre> <p>The number of samples to run within each trial.</p> <p>Each sample represents one \"typical\" day of travel. See Counting Simulations for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.num_trials","title":"num_trials  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>num_trials: conint(ge=1, le=1000) = 1\n</code></pre> <p>The overall number of trials to run.</p> <p>Each trial is a complete simulation, including burn-in training time as well as study time.  It will have a number of sequentially developed samples, each of which represents one \"typical\" day of travel.</p> <p>See Counting Simulations for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.pax_type_k_factor","title":"pax_type_k_factor  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>pax_type_k_factor: confloat(gt=0, lt=5.0) = 0.4\n</code></pre> <p>Passenger-type randomness factor.</p> <p>This factor controls the level of correlation in demand levels across passenger types.</p> <p>See k-factors for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.prorate_revenue","title":"prorate_revenue  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>prorate_revenue: bool = True\n</code></pre>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.random_seed","title":"random_seed  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>random_seed: int | None = None\n</code></pre>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.sys_k_factor","title":"sys_k_factor  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>sys_k_factor: confloat(gt=0, lt=5.0) = 0.1\n</code></pre> <p>System-level randomness factor.</p> <p>This factor controls the level of correlation in demand levels across the entire system.</p> <p>See k-factors for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.tf_k_factor","title":"tf_k_factor  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tf_k_factor: confloat(gt=0) = 0.1\n</code></pre> <p>Time frame randomness factor.</p> <p>This factor controls the dispersion of bookings over time, given a previously identified level of total demand. See k-factors for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.update_frequency","title":"update_frequency  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>update_frequency: int | None = None\n</code></pre>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.write_raw_files","title":"write_raw_files  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>write_raw_files: bool = False\n</code></pre>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.z_factor","title":"z_factor  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>z_factor: confloat(gt=0, lt=5.0) = 2.0\n</code></pre> <p>Base level demand variance control.</p> <p>See k-factors for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.reference_epoch","title":"reference_epoch","text":"<pre><code>reference_epoch() -&gt; int\n</code></pre> <p>Get the reference travel datetime in unix time.</p> Source code in <code>passengersim-public/passengersim/config/simulation_controls.py</code> <pre><code>def reference_epoch(self) -&gt; int:\n\"\"\"Get the reference travel datetime in unix time.\"\"\"\nreturn iso_to_unix(self.base_date) - self.controller_time_zone\n</code></pre>"},{"location":"API/config/airlines.html","title":"Airlines","text":""},{"location":"API/config/airlines.html#passengersim.config.airlines.Airline","title":"Airline","text":"<p>             Bases: <code>Named</code></p> <p>Configuration for passengersim.Airline object.</p> Source code in <code>passengersim-public/passengersim/config/airlines.py</code> <pre><code>class Airline(Named, extra=\"forbid\"):\n\"\"\"Configuration for passengersim.Airline object.\"\"\"\nrm_system: str\n\"\"\"Name of the revenue management system used by this airline.\"\"\"\ncontrol: Literal[\"leg\", \"theft\", \"bp\", \"vn\", \"none\"] = \"leg\"\n\"\"\"Control method.\n    Allowed values include:\n    - \"leg\" (default): Uses leg-based controls.\n    - \"theft\": Theft.\n    - \"bp\": Bid price.\n    - \"vn\": Virtual nesting.\n    - \"none\": No controls.\n    \"\"\"\n</code></pre>"},{"location":"API/config/airlines.html#passengersim.config.airlines.Airline.control","title":"control  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>control: Literal[\"leg\", \"theft\", \"bp\", \"vn\", \"none\"] = \"leg\"\n</code></pre> <p>Control method.</p> <p>Allowed values include: - \"leg\" (default): Uses leg-based controls. - \"theft\": Theft. - \"bp\": Bid price. - \"vn\": Virtual nesting. - \"none\": No controls.</p>"},{"location":"API/config/airlines.html#passengersim.config.airlines.Airline.rm_system","title":"rm_system  <code>instance-attribute</code>","text":"<pre><code>rm_system: str\n</code></pre> <p>Name of the revenue management system used by this airline.</p>"},{"location":"API/config/booking_curves.html","title":"Booking Curves","text":""},{"location":"API/config/booking_curves.html#passengersim.config.booking_curves.BookingCurve","title":"BookingCurve","text":"<p>             Bases: <code>Named</code></p> <p>A mathematical description of the relative arrival rate of customers over time.</p> Source code in <code>passengersim-public/passengersim/config/booking_curves.py</code> <pre><code>class BookingCurve(Named, extra=\"forbid\"):\n\"\"\"\n    A mathematical description of the relative arrival rate of customers over time.\n    \"\"\"\ncurve: dict[int, float]\n\"\"\"Define a booking curve.\n    For a given customer type, the booking curve gives the cumulative fraction\n    of those customers who are expected to have already \"arrived\" at any given\n    data collection point (DCP).  An \"arriving\" customer is one who is interested\n    in booking, but may or may not actually purchase a travel product from one\n    of the carriers, depending on the availability of products at the time of their\n    arrival.\n    The values (cumulative fraction of customers arriving) should increase\n    monotonically as the keys (DCPs, e.g. days to departure) decrease.\n    Example\n    -------\n    ```{yaml}\n    - name: business\n      curve:\n        63: 0.01\n        56: 0.02\n        49: 0.05\n        42: 0.13\n        35: 0.19\n        31: 0.23\n        28: 0.29\n        24: 0.35\n        21: 0.45\n        17: 0.54\n        14: 0.67\n        10: 0.79\n        7: 0.86\n        5: 0.91\n        3: 0.96\n        1: 1.0\n    ```\n    \"\"\"\n@field_validator(\"curve\")\ndef _booking_curves_accumulate(cls, v: dict[int, float], info: FieldValidationInfo):\n\"\"\"Check that all curve values do not decrease as DCP keys decrease.\"\"\"\nsorted_dcps = reversed(sorted(v.keys()))\ni = 0\nfor dcp in sorted_dcps:\nassert (\nv[dcp] &gt;= i\n), f\"booking curve {info.data['name']} moves backwards at dcp {dcp}\"\ni = v[dcp]\nreturn v\n</code></pre>"},{"location":"API/config/booking_curves.html#passengersim.config.booking_curves.BookingCurve.curve","title":"curve  <code>instance-attribute</code>","text":"<pre><code>curve: dict[int, float]\n</code></pre> <p>Define a booking curve.</p> <p>For a given customer type, the booking curve gives the cumulative fraction of those customers who are expected to have already \"arrived\" at any given data collection point (DCP).  An \"arriving\" customer is one who is interested in booking, but may or may not actually purchase a travel product from one of the carriers, depending on the availability of products at the time of their arrival.</p> <p>The values (cumulative fraction of customers arriving) should increase monotonically as the keys (DCPs, e.g. days to departure) decrease.</p>"},{"location":"API/config/booking_curves.html#passengersim.config.booking_curves.BookingCurve.curve--example","title":"Example","text":"<pre><code>- name: business\n  curve:\n    63: 0.01\n    56: 0.02\n    49: 0.05\n    42: 0.13\n    35: 0.19\n    31: 0.23\n    28: 0.29\n    24: 0.35\n    21: 0.45\n    17: 0.54\n    14: 0.67\n    10: 0.79\n    7: 0.86\n    5: 0.91\n    3: 0.96\n    1: 1.0\n</code></pre>"},{"location":"API/config/choice_model.html","title":"Choice Models","text":""},{"location":"API/config/choice_model.html#passengersim.config.choice_model.ChoiceModel","title":"ChoiceModel  <code>module-attribute</code>","text":"<pre><code>ChoiceModel = Annotated[\nPodsChoiceModel | LogitChoiceModel,\nField(discriminator=\"kind\"),\n]\n</code></pre> <p>Two types of choice models are available in PassengerSim.</p> <p>Use the <code>kind</code> key to select which kind of choice model you wish to parameterize.</p>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel","title":"LogitChoiceModel","text":"<p>             Bases: <code>Named</code></p> Source code in <code>passengersim-public/passengersim/config/choice_model.py</code> <pre><code>class LogitChoiceModel(Named, extra=\"forbid\"):\nkind: Literal[\"logit\"]\nintercept: float = 0\n\"\"\"This is the alternative specific constant for the no-purchase alternative.\"\"\"\nnonstop: float = 0\nduration: float = 0\nprice: float = 0\n\"\"\"This is the parameter for the price of each alternative.\"\"\"\ntod_sin2p: float = 0\n\"\"\"Schedule parameter.\n    If $t$ is departure time (in minutes after midnight local time) divided\n    by 1440, this parameter is multiplied by $sin( 2 \\pi t)$ and the result is\n    added to the utility of the particular alternative.\"\"\"\ntod_sin4p: float = 0\n\"\"\"Schedule parameter.\n    If $t$ is departure time (in minutes after midnight local time) divided\n    by 1440, this parameter is multiplied by $sin( 4 \\pi t)$ and the result is\n    added to the utility of the particular alternative.\"\"\"\ntod_sin6p: float = 0\ntod_cos2p: float = 0\ntod_cos4p: float = 0\ntod_cos6p: float = 0\nfree_bag: float = 0\nearly_boarding: float = 0\nsame_day_change: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.duration","title":"duration  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>duration: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.early_boarding","title":"early_boarding  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>early_boarding: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.free_bag","title":"free_bag  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>free_bag: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.intercept","title":"intercept  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>intercept: float = 0\n</code></pre> <p>This is the alternative specific constant for the no-purchase alternative.</p>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.kind","title":"kind  <code>instance-attribute</code>","text":"<pre><code>kind: Literal['logit']\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.nonstop","title":"nonstop  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>nonstop: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.price","title":"price  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>price: float = 0\n</code></pre> <p>This is the parameter for the price of each alternative.</p>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.same_day_change","title":"same_day_change  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>same_day_change: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.tod_cos2p","title":"tod_cos2p  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tod_cos2p: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.tod_cos4p","title":"tod_cos4p  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tod_cos4p: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.tod_cos6p","title":"tod_cos6p  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tod_cos6p: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.tod_sin2p","title":"tod_sin2p  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tod_sin2p: float = 0\n</code></pre> <p>Schedule parameter.</p> <p>If \\(t\\) is departure time (in minutes after midnight local time) divided by 1440, this parameter is multiplied by \\(sin( 2 \\pi t)\\) and the result is added to the utility of the particular alternative.</p>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.tod_sin4p","title":"tod_sin4p  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tod_sin4p: float = 0\n</code></pre> <p>Schedule parameter.</p> <p>If \\(t\\) is departure time (in minutes after midnight local time) divided by 1440, this parameter is multiplied by \\(sin( 4 \\pi t)\\) and the result is added to the utility of the particular alternative.</p>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.tod_sin6p","title":"tod_sin6p  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tod_sin6p: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel","title":"PodsChoiceModel","text":"<p>             Bases: <code>Named</code></p> Source code in <code>passengersim-public/passengersim/config/choice_model.py</code> <pre><code>class PodsChoiceModel(Named, extra=\"forbid\"):\nkind: Literal[\"pods\"]\nemult: float | None = None\nbasefare_mult: float | None = None\nconnect_disutility: float | None = None\npath_quality: tuple[float, float] | None = None\npreferred_airline: tuple[float, float] | None = None\nr1: float | None = None\nr2: float | None = None\nr3: float | None = None\nr4: float | None = None\ntolerance: float | None = None\nnon_stop_multiplier: float | None = None\nconnection_multiplier: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.basefare_mult","title":"basefare_mult  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>basefare_mult: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.connect_disutility","title":"connect_disutility  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>connect_disutility: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.connection_multiplier","title":"connection_multiplier  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>connection_multiplier: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.emult","title":"emult  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>emult: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.kind","title":"kind  <code>instance-attribute</code>","text":"<pre><code>kind: Literal['pods']\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.non_stop_multiplier","title":"non_stop_multiplier  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>non_stop_multiplier: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.path_quality","title":"path_quality  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>path_quality: tuple[float, float] | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.preferred_airline","title":"preferred_airline  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>preferred_airline: tuple[float, float] | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.r1","title":"r1  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>r1: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.r2","title":"r2  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>r2: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.r3","title":"r3  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>r3: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.r4","title":"r4  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>r4: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.tolerance","title":"tolerance  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tolerance: float | None = None\n</code></pre>"},{"location":"API/config/database.html","title":"Database","text":""},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig","title":"DatabaseConfig","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>passengersim-public/passengersim/config/database.py</code> <pre><code>class DatabaseConfig(BaseModel, extra=\"forbid\", validate_assignment=True):\nengine: Literal[\"sqlite\", \"mysql\", None] = \"sqlite\"\n\"\"\"Database engine to use.\n    Currently only `sqlite` is fully implemented.\"\"\"\nfilename: pathlib.Path | None = \"airsim-output.sqlite\"\n\"\"\"Name of file for SQLite output.\"\"\"\nfast: bool = False\n\"\"\"Whether to use pre-compiled SQL write instructions.\"\"\"\npragmas: list[str] = []\n\"\"\"A list of PRAGMA commands to execute upon opening a database connection.\"\"\"\ncommit_count_delay: int | None = 250\n\"\"\"Commit transactions to the database will only be honored this frequently.\n    By setting this number greater than 1, the transaction frequency will be reduced,\n    improving overall runtime performance by storing more data in RAM and writing to\n    persistent storage less frequently.\n    \"\"\"\nwrite_items: set[\nLiteral[\n\"leg\",\n\"bucket\",\n\"fare\",\n\"demand\",\n\"leg_final\",\n\"bucket_final\",\n\"fare_final\",\n\"demand_final\",\n\"bookings\",\n]\n] = {\"leg_final\", \"fare_final\", \"demand_final\", \"bookings\"}\n\"\"\"Which items should be written to the database.\n    The following values can be provided in this set:\n    - *leg*: write every leg to the `leg_detail` table at every DCP.\n    - *leg_final*: write every leg to the `leg_detail` table only at DCP 0.\n    - *bucket*: write every leg bucket to the `leg_bucket_detail` table at every DCP.\n    - *bucket_final*: write every leg bucket to the `leg_bucket_detail` table only\n        at DCP 0.\n    - *fare*: write every fare to the `fare_detail` table at every DCP.\n    - *fare_final*: write every fare to the `fare_detail` table only at DCP 0.\n    - *demand*: write every demand to the `demand_detail` table at every DCP.\n    - *bookings*: store booking summary data at every DCP and write an aggregate\n        summary of bookings by DCP to the `bookings_by_timeframe` table at the end\n        of the simulation.\n    \"\"\"\ndcp_write_hooks: list[Callable] = []\n\"\"\"Additional callable functions that write to the database at each DCP.\n    Each should have a signature matching `f(db, sim, dcp)`.\n    \"\"\"\n@field_validator(\"engine\", mode=\"before\")\ndef _interpret_none(cls, v):\n\"\"\"Allow engine to be \"none\".\"\"\"\nif isinstance(v, str) and v.lower() == \"none\":\nv = None\nreturn v\n</code></pre>"},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig.commit_count_delay","title":"commit_count_delay  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>commit_count_delay: int | None = 250\n</code></pre> <p>Commit transactions to the database will only be honored this frequently.</p> <p>By setting this number greater than 1, the transaction frequency will be reduced, improving overall runtime performance by storing more data in RAM and writing to persistent storage less frequently.</p>"},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig.dcp_write_hooks","title":"dcp_write_hooks  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>dcp_write_hooks: list[Callable] = []\n</code></pre> <p>Additional callable functions that write to the database at each DCP.</p> <p>Each should have a signature matching <code>f(db, sim, dcp)</code>.</p>"},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig.engine","title":"engine  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>engine: Literal['sqlite', 'mysql', None] = 'sqlite'\n</code></pre> <p>Database engine to use.</p> <p>Currently only <code>sqlite</code> is fully implemented.</p>"},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig.fast","title":"fast  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>fast: bool = False\n</code></pre> <p>Whether to use pre-compiled SQL write instructions.</p>"},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig.filename","title":"filename  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>filename: pathlib.Path | None = 'airsim-output.sqlite'\n</code></pre> <p>Name of file for SQLite output.</p>"},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig.pragmas","title":"pragmas  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>pragmas: list[str] = []\n</code></pre> <p>A list of PRAGMA commands to execute upon opening a database connection.</p>"},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig.write_items","title":"write_items  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>write_items: set[\nLiteral[\n\"leg\",\n\"bucket\",\n\"fare\",\n\"demand\",\n\"leg_final\",\n\"bucket_final\",\n\"fare_final\",\n\"demand_final\",\n\"bookings\",\n]\n] = {\"leg_final\", \"fare_final\", \"demand_final\", \"bookings\"}\n</code></pre> <p>Which items should be written to the database.</p> <p>The following values can be provided in this set:</p> <ul> <li>leg: write every leg to the <code>leg_detail</code> table at every DCP.</li> <li>leg_final: write every leg to the <code>leg_detail</code> table only at DCP 0.</li> <li>bucket: write every leg bucket to the <code>leg_bucket_detail</code> table at every DCP.</li> <li>bucket_final: write every leg bucket to the <code>leg_bucket_detail</code> table only     at DCP 0.</li> <li>fare: write every fare to the <code>fare_detail</code> table at every DCP.</li> <li>fare_final: write every fare to the <code>fare_detail</code> table only at DCP 0.</li> <li>demand: write every demand to the <code>demand_detail</code> table at every DCP.</li> <li>bookings: store booking summary data at every DCP and write an aggregate     summary of bookings by DCP to the <code>bookings_by_timeframe</code> table at the end     of the simulation.</li> </ul>"},{"location":"API/config/demands.html","title":"Demands","text":""},{"location":"API/config/demands.html#passengersim.config.demands.Demand","title":"Demand","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>passengersim-public/passengersim/config/demands.py</code> <pre><code>class Demand(BaseModel, extra=\"forbid\"):\norig: str\ndest: str\nsegment: str\nbase_demand: float\nreference_fare: float\nchoice_model: str | None = None\n\"\"\"The name of the choice model that is applied for this demand.\"\"\"\ncurve: str | None = None\n\"\"\"The name of the booking curve that is applied for this demand.\n    Each demand is attached to a booking curve that describes the temporal\n    distribution of customer arrivals.\"\"\"\n@property\ndef choice_model_(self):\n\"\"\"Choice model, falling back to segment name if not set explicitly.\"\"\"\nreturn self.choice_model or self.segment\n@field_validator(\"curve\", mode=\"before\")\ndef curve_integer_name(cls, v):\n\"\"\"Booking curves can have integer names, treat as string.\"\"\"\nif isinstance(v, int):\nv = str(v)\nreturn v\n</code></pre>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.base_demand","title":"base_demand  <code>instance-attribute</code>","text":"<pre><code>base_demand: float\n</code></pre>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.choice_model","title":"choice_model  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>choice_model: str | None = None\n</code></pre> <p>The name of the choice model that is applied for this demand.</p>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.choice_model_","title":"choice_model_  <code>property</code>","text":"<pre><code>choice_model_\n</code></pre> <p>Choice model, falling back to segment name if not set explicitly.</p>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.curve","title":"curve  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>curve: str | None = None\n</code></pre> <p>The name of the booking curve that is applied for this demand.</p> <p>Each demand is attached to a booking curve that describes the temporal distribution of customer arrivals.</p>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.reference_fare","title":"reference_fare  <code>instance-attribute</code>","text":"<pre><code>reference_fare: float\n</code></pre>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.segment","title":"segment  <code>instance-attribute</code>","text":"<pre><code>segment: str\n</code></pre>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.curve_integer_name","title":"curve_integer_name","text":"<pre><code>curve_integer_name(v)\n</code></pre> <p>Booking curves can have integer names, treat as string.</p> Source code in <code>passengersim-public/passengersim/config/demands.py</code> <pre><code>@field_validator(\"curve\", mode=\"before\")\ndef curve_integer_name(cls, v):\n\"\"\"Booking curves can have integer names, treat as string.\"\"\"\nif isinstance(v, int):\nv = str(v)\nreturn v\n</code></pre>"},{"location":"API/config/fares.html","title":"Fares","text":""},{"location":"API/config/fares.html#passengersim.config.fares.Fare","title":"Fare","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>passengersim-public/passengersim/config/fares.py</code> <pre><code>class Fare(BaseModel, extra=\"forbid\"):\ncarrier: str\norig: str\ndest: str\nbooking_class: str\nprice: float\nadvance_purchase: int\nrestrictions: list[str] = []\n@field_validator(\"restrictions\", mode=\"before\")\ndef allow_unrestricted(cls, v):\n\"\"\"Allow restrictions to be None or missing.\"\"\"\nif v is None:\nv = []\nreturn v\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.advance_purchase","title":"advance_purchase  <code>instance-attribute</code>","text":"<pre><code>advance_purchase: int\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.booking_class","title":"booking_class  <code>instance-attribute</code>","text":"<pre><code>booking_class: str\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.carrier","title":"carrier  <code>instance-attribute</code>","text":"<pre><code>carrier: str\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.price","title":"price  <code>instance-attribute</code>","text":"<pre><code>price: float\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.restrictions","title":"restrictions  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>restrictions: list[str] = []\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.allow_unrestricted","title":"allow_unrestricted","text":"<pre><code>allow_unrestricted(v)\n</code></pre> <p>Allow restrictions to be None or missing.</p> Source code in <code>passengersim-public/passengersim/config/fares.py</code> <pre><code>@field_validator(\"restrictions\", mode=\"before\")\ndef allow_unrestricted(cls, v):\n\"\"\"Allow restrictions to be None or missing.\"\"\"\nif v is None:\nv = []\nreturn v\n</code></pre>"},{"location":"API/config/legs.html","title":"Legs","text":""},{"location":"API/config/legs.html#passengersim.config.legs.Leg","title":"Leg","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>passengersim-public/passengersim/config/legs.py</code> <pre><code>class Leg(BaseModel, extra=\"forbid\"):\ncarrier: str\nfltno: int\n\"\"\"A unique identifier for this leg.\n    Each leg in a network should have a globally unique identifier (i.e. even\n    if the carrier is different, `fltno` values should be unique.\n    \"\"\"\norig: str\n\"\"\"Origination location for this leg.\"\"\"\ndest: str\n\"\"\"Destination location for this leg.\"\"\"\ndate: datetime = datetime.fromisoformat(\"2020-03-01\")\n\"\"\"Date for this leg.\"\"\"\ndep_time: int\n\"\"\"Departure time for this leg in Unix time.\n    In input files, this can be specified as a string in the format \"HH:MM\",\n    with the hour in 24-hour format.\n    Unix time is the number of seconds since 00:00:00 UTC on 1 Jan 1970.\"\"\"\narr_time: int\n\"\"\"Arrival time for this leg in Unix time.\n    In input files, this can be specified as a string in the format \"HH:MM\",\n    with the hour in 24-hour format.\n    Unix time is the number of seconds since 00:00:00 UTC on 1 Jan 1970.\"\"\"\ncapacity: int\ndistance: float | None = None\n@field_validator(\"date\", mode=\"before\")\ndef _date_from_string(cls, v):\nif isinstance(v, str):\nv = datetime.fromisoformat(v)\nreturn v\n@field_validator(\"dep_time\", \"arr_time\", mode=\"before\")\ndef _timestring_to_int(cls, v, info: FieldValidationInfo):\nif isinstance(v, str) and \":\" in v:\ndep_time_str = v.split(\":\")\nhh, mm = int(dep_time_str[0]), int(dep_time_str[1])\nv = create_timestamp(info.data[\"date\"], 0, hh, mm)\nif info.field_name == \"arr_time\":\nif v &lt; info.data[\"dep_time\"]:\nv += 86400  # add a day (in seconds) as arr time is next day\nreturn v\n</code></pre>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.arr_time","title":"arr_time  <code>instance-attribute</code>","text":"<pre><code>arr_time: int\n</code></pre> <p>Arrival time for this leg in Unix time.</p> <p>In input files, this can be specified as a string in the format \"HH:MM\", with the hour in 24-hour format.</p> <p>Unix time is the number of seconds since 00:00:00 UTC on 1 Jan 1970.</p>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.capacity","title":"capacity  <code>instance-attribute</code>","text":"<pre><code>capacity: int\n</code></pre>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.carrier","title":"carrier  <code>instance-attribute</code>","text":"<pre><code>carrier: str\n</code></pre>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.date","title":"date  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>date: datetime = datetime.fromisoformat('2020-03-01')\n</code></pre> <p>Date for this leg.</p>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.dep_time","title":"dep_time  <code>instance-attribute</code>","text":"<pre><code>dep_time: int\n</code></pre> <p>Departure time for this leg in Unix time.</p> <p>In input files, this can be specified as a string in the format \"HH:MM\", with the hour in 24-hour format.</p> <p>Unix time is the number of seconds since 00:00:00 UTC on 1 Jan 1970.</p>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre> <p>Destination location for this leg.</p>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.distance","title":"distance  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>distance: float | None = None\n</code></pre>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.fltno","title":"fltno  <code>instance-attribute</code>","text":"<pre><code>fltno: int\n</code></pre> <p>A unique identifier for this leg.</p> <p>Each leg in a network should have a globally unique identifier (i.e. even if the carrier is different, <code>fltno</code> values should be unique.</p>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre> <p>Origination location for this leg.</p>"},{"location":"API/config/legs.html#passengersim.config.legs.create_timestamp","title":"create_timestamp","text":"<pre><code>create_timestamp(base_date, offset, hh, mm) -&gt; int\n</code></pre> <p>Create Unix time from base date, offset (days) and time</p> Source code in <code>passengersim-public/passengersim/config/legs.py</code> <pre><code>def create_timestamp(base_date, offset, hh, mm) -&gt; int:\n\"\"\"Create Unix time from base date, offset (days) and time\"\"\"\ntd = timedelta(days=offset, hours=hh, minutes=mm)\ntmp = base_date + td\nreturn int(time.mktime(tmp.timetuple()))\n</code></pre>"},{"location":"API/config/named.html","title":"Named","text":"<p>This module contains utilities for managing named objects.</p>"},{"location":"API/config/named.html#passengersim.config.named.DictOfNamed","title":"DictOfNamed  <code>module-attribute</code>","text":"<pre><code>DictOfNamed = Annotated[\ndict[str, T], BeforeValidator(enforce_name)\n]\n</code></pre>"},{"location":"API/config/named.html#passengersim.config.named.T","title":"T  <code>module-attribute</code>","text":"<pre><code>T = TypeVar('T', bound=Named)\n</code></pre>"},{"location":"API/config/named.html#passengersim.config.named.Named","title":"Named","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>passengersim-public/passengersim/config/named.py</code> <pre><code>class Named(BaseModel):\nname: str\n</code></pre>"},{"location":"API/config/named.html#passengersim.config.named.Named.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre>"},{"location":"API/config/named.html#passengersim.config.named.enforce_name","title":"enforce_name","text":"<pre><code>enforce_name(x: dict[str, T] | list[T]) -&gt; dict[str, T]\n</code></pre> <p>Enforce that each item has a unique name.</p> <p>If you provide a list, this will ensure that each item in the list has a name. If you provide a dict, the names are given by the keys of the dictionary, and this will ensure that for each value, if it also has an explicitly defined name, that name matches its key-derived name.</p> Source code in <code>passengersim-public/passengersim/config/named.py</code> <pre><code>def enforce_name(x: dict[str, T] | list[T]) -&gt; dict[str, T]:\n\"\"\"Enforce that each item has a unique name.\n    If you provide a list, this will ensure that each item in the list has a name.\n    If you provide a dict, the names are given by the keys of the dictionary, and\n    this will ensure that for each value, if it also has an explicitly defined name,\n    that name matches its key-derived name.\n    \"\"\"\nif isinstance(x, list):\nx_ = {}\nfor n, i in enumerate(x):\nk = i.get(\"name\")\nif k is None:\nraise ValueError(f\"missing name in position {n}\")\nx_[k] = i\nx = x_\nfor k, v in x.items():\nif \"name\" not in v or not v[\"name\"]:\nv[\"name\"] = k\nif v[\"name\"] != k:\nraise ValueError(\"explict name does not match key\")\nreturn x\n</code></pre>"},{"location":"API/config/paths.html","title":"Paths","text":""},{"location":"API/config/paths.html#passengersim.config.paths.Path","title":"Path","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>passengersim-public/passengersim/config/paths.py</code> <pre><code>class Path(BaseModel, extra=\"forbid\"):\norig: str\ndest: str\npath_quality_index: float\nlegs: list[int]\n\"\"\"Flight numbers of legs comprising the path.\"\"\"\n@field_validator(\"legs\", mode=\"before\")\ndef allow_single_leg(cls, v):\n\"\"\"Allow a single leg path to be just an int not a list of one int.\"\"\"\nif isinstance(v, int):\nv = [v]\nreturn v\n@field_validator(\"legs\")\ndef at_least_one_leg(cls, v):\n\"\"\"There must be at least one leg.\"\"\"\nif len(v) &lt; 1:\nraise ValueError(\"path must have at least one leg\")\nreturn v\n</code></pre>"},{"location":"API/config/paths.html#passengersim.config.paths.Path.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre>"},{"location":"API/config/paths.html#passengersim.config.paths.Path.legs","title":"legs  <code>instance-attribute</code>","text":"<pre><code>legs: list[int]\n</code></pre> <p>Flight numbers of legs comprising the path.</p>"},{"location":"API/config/paths.html#passengersim.config.paths.Path.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre>"},{"location":"API/config/paths.html#passengersim.config.paths.Path.path_quality_index","title":"path_quality_index  <code>instance-attribute</code>","text":"<pre><code>path_quality_index: float\n</code></pre>"},{"location":"API/config/paths.html#passengersim.config.paths.Path.allow_single_leg","title":"allow_single_leg","text":"<pre><code>allow_single_leg(v)\n</code></pre> <p>Allow a single leg path to be just an int not a list of one int.</p> Source code in <code>passengersim-public/passengersim/config/paths.py</code> <pre><code>@field_validator(\"legs\", mode=\"before\")\ndef allow_single_leg(cls, v):\n\"\"\"Allow a single leg path to be just an int not a list of one int.\"\"\"\nif isinstance(v, int):\nv = [v]\nreturn v\n</code></pre>"},{"location":"API/config/paths.html#passengersim.config.paths.Path.at_least_one_leg","title":"at_least_one_leg","text":"<pre><code>at_least_one_leg(v)\n</code></pre> <p>There must be at least one leg.</p> Source code in <code>passengersim-public/passengersim/config/paths.py</code> <pre><code>@field_validator(\"legs\")\ndef at_least_one_leg(cls, v):\n\"\"\"There must be at least one leg.\"\"\"\nif len(v) &lt; 1:\nraise ValueError(\"path must have at least one leg\")\nreturn v\n</code></pre>"},{"location":"API/config/rm_steps.html","title":"RM Steps","text":""},{"location":"API/config/rm_steps.html#passengersim.config.rm_steps.DummyStep","title":"DummyStep","text":"<p>             Bases: <code>RmStepBase</code></p> Source code in <code>passengersim-public/passengersim/config/rm_steps.py</code> <pre><code>class DummyStep(RmStepBase):\nstep_type: Literal[\"dummy\"]\n</code></pre>"},{"location":"API/config/rm_steps.html#passengersim.config.rm_steps.DummyStep.step_type","title":"step_type  <code>instance-attribute</code>","text":"<pre><code>step_type: Literal['dummy']\n</code></pre>"},{"location":"API/config/rm_steps.html#passengersim.config.rm_steps.RmStepBase","title":"RmStepBase","text":"<p>             Bases: <code>BaseModel</code></p> <p>Base class for RmSteps.</p> <p>Every non-abstract derived class must have a <code>step_type</code> class attribute, annotated with a <code>Literal</code> value type.</p> <p>See <code>DummyStep</code> below for an example.</p> Source code in <code>passengersim-public/passengersim/config/rm_steps.py</code> <pre><code>class RmStepBase(BaseModel, extra=\"forbid\"):\n\"\"\"\n    Base class for RmSteps.\n    Every non-abstract derived class must have a `step_type` class attribute,\n    annotated with a `Literal` value type.\n    See `DummyStep` below for an example.\n    \"\"\"\n__subclasses: ClassVar[set[type[RmStepBase]]] = set()\ndef __init_subclass__(cls, **kwargs):\n\"\"\"Capture a list of all concrete subclasses, including nested levels\"\"\"\nsuper().__init_subclass__(**kwargs)\nif inspect.isabstract(cls):\nreturn  # do not consider intermediate abstract base classes\nannotations = inspect.get_annotations(cls, eval_str=True)\nassert \"step_type\" in annotations, \"step_type not in annotations\"\nannotation_step_type = typing.get_origin(annotations[\"step_type\"])\nassert annotation_step_type == Literal, (\nf\"annotation {annotations['step_type']} for `{cls.__name__}.step_type` \"\nf\"is not Literal but {annotation_step_type}\"\n)\nfound_step_type = typing.get_args(annotations[\"step_type\"])[0]\nif cls.__name__.lower().endswith(\"step\"):\nassert found_step_type == cls.__name__.lower()[:-4], (\nf\"annotation Literal value {found_step_type!r} \"\nf\"for `{cls.__name__}.step_type` is not the same as the class name \"\nf\"(omitting 'step' suffix)\"\n)\nelse:\nassert found_step_type == cls.__name__.lower(), (\nf\"annotation Literal value {found_step_type!r} \"\nf\"for `{cls.__name__}.step_type` is not the same as the class name\"\n)\ncls.__subclasses.add(cls)\n@classmethod\ndef as_pydantic_field(cls):\n\"\"\"Pydantic field type as a union of all subclasses, discriminated on step_type.\"\"\"\nif len(cls.__subclasses) &gt; 1:\nreturn Annotated[\nreduce(operator.__or__, cls.__subclasses),\nField(discriminator=\"step_type\"),\n]\nelse:  # only the DummyStep\nreturn Annotated[reduce(operator.__or__, cls.__subclasses), Field()]\ndef _factory(self):\n\"\"\"Generate a deep copy of this RmStep.\"\"\"\nreturn self.model_copy(deep=True)\n</code></pre>"},{"location":"API/config/rm_steps.html#passengersim.config.rm_steps.RmStepBase.__subclasses","title":"__subclasses  <code>class-attribute</code>","text":"<pre><code>__subclasses: set[type[RmStepBase]] = set()\n</code></pre>"},{"location":"API/config/rm_steps.html#passengersim.config.rm_steps.RmStepBase.__init_subclass__","title":"__init_subclass__","text":"<pre><code>__init_subclass__(**kwargs)\n</code></pre> <p>Capture a list of all concrete subclasses, including nested levels</p> Source code in <code>passengersim-public/passengersim/config/rm_steps.py</code> <pre><code>def __init_subclass__(cls, **kwargs):\n\"\"\"Capture a list of all concrete subclasses, including nested levels\"\"\"\nsuper().__init_subclass__(**kwargs)\nif inspect.isabstract(cls):\nreturn  # do not consider intermediate abstract base classes\nannotations = inspect.get_annotations(cls, eval_str=True)\nassert \"step_type\" in annotations, \"step_type not in annotations\"\nannotation_step_type = typing.get_origin(annotations[\"step_type\"])\nassert annotation_step_type == Literal, (\nf\"annotation {annotations['step_type']} for `{cls.__name__}.step_type` \"\nf\"is not Literal but {annotation_step_type}\"\n)\nfound_step_type = typing.get_args(annotations[\"step_type\"])[0]\nif cls.__name__.lower().endswith(\"step\"):\nassert found_step_type == cls.__name__.lower()[:-4], (\nf\"annotation Literal value {found_step_type!r} \"\nf\"for `{cls.__name__}.step_type` is not the same as the class name \"\nf\"(omitting 'step' suffix)\"\n)\nelse:\nassert found_step_type == cls.__name__.lower(), (\nf\"annotation Literal value {found_step_type!r} \"\nf\"for `{cls.__name__}.step_type` is not the same as the class name\"\n)\ncls.__subclasses.add(cls)\n</code></pre>"},{"location":"API/config/rm_steps.html#passengersim.config.rm_steps.RmStepBase.as_pydantic_field","title":"as_pydantic_field  <code>classmethod</code>","text":"<pre><code>as_pydantic_field()\n</code></pre> <p>Pydantic field type as a union of all subclasses, discriminated on step_type.</p> Source code in <code>passengersim-public/passengersim/config/rm_steps.py</code> <pre><code>@classmethod\ndef as_pydantic_field(cls):\n\"\"\"Pydantic field type as a union of all subclasses, discriminated on step_type.\"\"\"\nif len(cls.__subclasses) &gt; 1:\nreturn Annotated[\nreduce(operator.__or__, cls.__subclasses),\nField(discriminator=\"step_type\"),\n]\nelse:  # only the DummyStep\nreturn Annotated[reduce(operator.__or__, cls.__subclasses), Field()]\n</code></pre>"},{"location":"API/config/rm_systems.html","title":"RM Systems","text":""},{"location":"API/config/rm_systems.html#passengersim.config.rm_systems.RmStep","title":"RmStep  <code>module-attribute</code>","text":"<pre><code>RmStep = RmStepBase.as_pydantic_field()\n</code></pre>"},{"location":"API/config/rm_systems.html#passengersim.config.rm_systems.RmSystem","title":"RmSystem","text":"<p>             Bases: <code>Named</code></p> Source code in <code>passengersim-public/passengersim/config/rm_systems.py</code> <pre><code>class RmSystem(Named, extra=\"forbid\"):\nsteps: list[RmStep]\n</code></pre>"},{"location":"API/config/rm_systems.html#passengersim.config.rm_systems.RmSystem.steps","title":"steps  <code>instance-attribute</code>","text":"<pre><code>steps: list[RmStep]\n</code></pre>"},{"location":"API/config/snapshot_filter.html","title":"Snapshot filter","text":""},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter","title":"SnapshotFilter","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>passengersim-public/passengersim/config/snapshot_filter.py</code> <pre><code>class SnapshotFilter(BaseModel):\ntype: Literal[\n\"forecast\", \"leg_untruncation\", \"path_untruncation\", \"rm\", \"pro_bp\", None\n] = None\ntitle: str = \"\"\nairline: str = \"\"\nsample: list[int] = []\ndcp: list[int] = []\norig: list[str] = []\ndest: list[str] = []\nflt_no: list[int] = []\nlogger: str | None = None\n@field_validator(\"sample\", \"dcp\", \"orig\", \"dest\", \"flt_no\", mode=\"before\")\ndef _allow_singletons(cls, v):\n\"\"\"Allow a singleton value that is converted to a list of one item.\"\"\"\nif not isinstance(v, list | tuple):\nv = [v]\nreturn v\ndef run(self, sim, leg=None, path=None):\n# Check the filter conditions\ninfo = \"\"\nif len(self.sample) &gt; 0 and sim.sample not in self.sample:\nreturn False\ninfo += f\"  sample={sim.sample}\"\nif len(self.dcp) &gt; 0 and sim.last_dcp not in self.dcp:\nreturn False\ninfo += f\"  dcp={sim.last_dcp}\"\nif leg is not None:\nif len(self.orig) &gt; 0 and leg.orig not in self.orig:\nreturn False\ninfo += f\"  orig={leg.orig}\"\nif len(self.dest) &gt; 0 and leg.dest not in self.dest:\nreturn False\ninfo += f\"  dest={leg.dest}\"\nif len(self.flt_no) &gt; 0 and leg.flt_no not in self.flt_no:\nreturn False\ninfo += f\"  flt_no={leg.flt_no}\"\nif path is not None:\nif len(self.orig) &gt; 0 and path.orig not in self.orig:\nreturn False\ninfo += f\"  orig={path.orig}\"\nif len(self.dest) &gt; 0 and path.dest not in self.dest:\nreturn False\ninfo += f\"  dest={path.dest}\"\nif len(self.flt_no) &gt; 0 and path.get_leg_fltno(0) not in self.flt_no:\nreturn False\ninfo += f\"  flt_no={path.get_leg_fltno(0)}\"\n# Now do something\nif len(self.title) &gt; 0:\nif self.logger:\nlogging.getLogger(self.logger)\nprint(f\"{self.title}:{info}\")\nif self.type in [\"leg_untruncation\", \"path_untruncation\"]:\nreturn (\nTrue  # We have a match but, for now, the caller will print the output\n)\nelif self.type == \"forecast\":\npass  # Haven't decided on the approach to this yet\nelif self.type == \"rm\":\nleg.print_bucket_detail()\nelif self.type == \"pro_bp\":\nreturn True\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.airline","title":"airline  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>airline: str = ''\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.dcp","title":"dcp  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>dcp: list[int] = []\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.dest","title":"dest  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>dest: list[str] = []\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.flt_no","title":"flt_no  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>flt_no: list[int] = []\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.logger","title":"logger  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>logger: str | None = None\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.orig","title":"orig  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>orig: list[str] = []\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.sample","title":"sample  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>sample: list[int] = []\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.title","title":"title  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>title: str = ''\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.type","title":"type  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>type: Literal[\n\"forecast\",\n\"leg_untruncation\",\n\"path_untruncation\",\n\"rm\",\n\"pro_bp\",\nNone,\n] = None\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.run","title":"run","text":"<pre><code>run(sim, leg = None, path = None)\n</code></pre> Source code in <code>passengersim-public/passengersim/config/snapshot_filter.py</code> <pre><code>def run(self, sim, leg=None, path=None):\n# Check the filter conditions\ninfo = \"\"\nif len(self.sample) &gt; 0 and sim.sample not in self.sample:\nreturn False\ninfo += f\"  sample={sim.sample}\"\nif len(self.dcp) &gt; 0 and sim.last_dcp not in self.dcp:\nreturn False\ninfo += f\"  dcp={sim.last_dcp}\"\nif leg is not None:\nif len(self.orig) &gt; 0 and leg.orig not in self.orig:\nreturn False\ninfo += f\"  orig={leg.orig}\"\nif len(self.dest) &gt; 0 and leg.dest not in self.dest:\nreturn False\ninfo += f\"  dest={leg.dest}\"\nif len(self.flt_no) &gt; 0 and leg.flt_no not in self.flt_no:\nreturn False\ninfo += f\"  flt_no={leg.flt_no}\"\nif path is not None:\nif len(self.orig) &gt; 0 and path.orig not in self.orig:\nreturn False\ninfo += f\"  orig={path.orig}\"\nif len(self.dest) &gt; 0 and path.dest not in self.dest:\nreturn False\ninfo += f\"  dest={path.dest}\"\nif len(self.flt_no) &gt; 0 and path.get_leg_fltno(0) not in self.flt_no:\nreturn False\ninfo += f\"  flt_no={path.get_leg_fltno(0)}\"\n# Now do something\nif len(self.title) &gt; 0:\nif self.logger:\nlogging.getLogger(self.logger)\nprint(f\"{self.title}:{info}\")\nif self.type in [\"leg_untruncation\", \"path_untruncation\"]:\nreturn (\nTrue  # We have a match but, for now, the caller will print the output\n)\nelif self.type == \"forecast\":\npass  # Haven't decided on the approach to this yet\nelif self.type == \"rm\":\nleg.print_bucket_detail()\nelif self.type == \"pro_bp\":\nreturn True\n</code></pre>"},{"location":"Tutorials/index.html","title":"Tutorials","text":"<p>Here are some examples, illustrated using Jupyter notebooks.</p>"},{"location":"Tutorials/demo-3mkt-2carrier.html","title":"Three Market Two Carrier Test","text":"In\u00a0[\u00a0]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[\u00a0]: Copied! <pre>input_file = pax.demo_network(\"3mkt-2carrier\")\n</pre> input_file = pax.demo_network(\"3mkt-2carrier\") In\u00a0[\u00a0]: Copied! <pre>input_file\n</pre> input_file In\u00a0[\u00a0]: Copied! <pre>sim = pax.Simulation.from_yaml(input_file)\n</pre> sim = pax.Simulation.from_yaml(input_file) In\u00a0[\u00a0]: Copied! <pre>sim.sim.snapshot_filters\n</pre> sim.sim.snapshot_filters In\u00a0[\u00a0]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) In\u00a0[\u00a0]: Copied! <pre>summary.demands\n</pre> summary.demands In\u00a0[\u00a0]: Copied! <pre>summary.legs\n</pre> summary.legs In\u00a0[\u00a0]: Copied! <pre>summary.paths\n</pre> summary.paths In\u00a0[\u00a0]: Copied! <pre>summary.airlines\n</pre> summary.airlines In\u00a0[\u00a0]: Copied! <pre>summary.airlines.set_index(\"name\")[[\"asm\", \"rpm\"]].plot.bar();\n</pre> summary.airlines.set_index(\"name\")[[\"asm\", \"rpm\"]].plot.bar(); In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_loads()\n</pre> summary.fig_carrier_loads()"},{"location":"Tutorials/demo-3mkt-2carrier.html#three-market-two-carrier-test","title":"Three Market Two Carrier Test\u00b6","text":"<p>One carrier uses EMSR, the other ProBP.</p>"},{"location":"Tutorials/demo-3mkt-2carrier.nbconvert.html","title":"Three Market Two Carrier Test","text":"In\u00a0[1]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[2]: Copied! <pre>input_file = pax.demo_network(\"3mkt-2carrier\")\n</pre> input_file = pax.demo_network(\"3mkt-2carrier\") In\u00a0[3]: Copied! <pre>input_file\n</pre> input_file Out[3]: <pre>PosixPath('/Users/jpn/Git/pxsim/passengersim-public/passengersim/networks/3mkt-2carrier.yaml')</pre> In\u00a0[4]: Copied! <pre>sim = pax.Simulation.from_yaml(input_file)\n</pre> sim = pax.Simulation.from_yaml(input_file) <pre>[2023-08-27 19:05:51,208] passengersim.config.INFO: loaded config from /Users/jpn/Git/pxsim/passengersim-public/passengersim/networks/3mkt-2carrier.yaml\n[2023-08-27 19:05:51,222] passengersim.database.INFO: connecting to sqlite database: airsim-output.sqlite\n[2023-08-27 19:05:51,222] passengersim.database.INFO: initializing sqlite tables\n</pre> In\u00a0[5]: Copied! <pre>sim.sim.snapshot_filters\n</pre> sim.sim.snapshot_filters Out[5]: <pre>[SnapshotFilter(type='path_untruncation', title='Snapshot of path untruncation', airline='', sample=[35], dcp=[0], orig=[], dest=[], flt_no=[202], logger=None),\n SnapshotFilter(type='rm', title='Testing the snapshot filters', airline='', sample=[20, 30], dcp=[7], orig=[], dest=[], flt_no=[101], logger=None),\n SnapshotFilter(type='pro_bp', title='Testing the snapshot filters again', airline='', sample=[20, 30], dcp=[56], orig=[], dest=[], flt_no=[201], logger=None)]</pre> In\u00a0[6]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) <pre>Testing the snapshot filters again:  sample=20  dcp=56\nTesting the snapshot filters:  sample=20  dcp=7  orig=BOS  dest=ORD  flt_no=101\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=0.00706833, contrib=324.993, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00706833, contrib=249.993, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00706833, contrib=199.993, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.000516564, contrib=324.999, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.000516564, contrib=249.999, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.000516564, contrib=199.999, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.0653137, contrib=324.935, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.0653137, contrib=249.935, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.0653137, contrib=199.935, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.0300823, contrib=324.97, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.0300823, contrib=249.97, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.0300823, contrib=199.97, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0, agg_fare=324.993, rev_low=249.993, agg_mu=1.92394, agg_sigma=1Testing the snapshot filters again:  sample=30  dcp=56\nTesting the snapshot filters:  sample=30  dcp=7  orig=BOS  dest=ORD  flt_no=101\n.02157, prot=1.17176, auth=88\nClass , sold=0, n=2, mu=0, agg_fare=265.888, rev_low=199.993, agg_mu=9.07783, agg_sigma=2.50609, prot=7.37036, auth=86\nClass , sold=0, n=3, mu=0, agg_fare=218.352, rev_low=150, agg_mu=32.5827, agg_sigma=9.98299, prot=27.7184, auth=80\nClass , sold=0, n=4, mu=0, agg_fare=200.313, rev_low=125, agg_mu=44.2652, agg_sigma=10.5318, prot=40.9364, auth=60\nClass , sold=0, n=5, mu=0, agg_fare=192.565, rev_low=100, agg_mu=49.3411, agg_sigma=10.6798, prot=48.8241, auth=47\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 12, bid_price = 0.0653137\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.92    324.99     0      1     88\n    BOS-LAX   Y4  250.00    7.15    249.99     1      7     86\n    BOS-LAX   Y5  200.00   23.50    199.99     2     28     80\n    BOS-ORD   Y3  150.00   11.68    150.00     3     41     60\n    BOS-ORD   Y4  125.00    5.08    125.00     4     49     47\n    BOS-ORD   Y5  100.00   13.67    100.00     5      0     39\n    EMSRc, flt=201, \u03bc=49.34, \u03c3=10.68, z=3.62, agg_fare=192.56, cap=100, prob=0.00, emsr_c=0.03\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.03, contrib=324.97, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.03, contrib=249.97, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.03, contrib=199.97, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.02, contrib=324.98, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.02, contrib=249.98, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.02, contrib=199.98, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 12, bid_price = 0.03\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.92    325.00     0      1     88\n    BOS-LAX   Y4  250.00    7.15    250.00     1      7     86\n    BOS-LAX   Y5  200.00   23.50    200.00     2     28     80\n    BOS-ORD   Y3  150.00   11.68    150.00     3     41     60\n    BOS-ORD   Y4  125.00    5.08    125.00     4     49     47\n    BOS-ORD   Y5  100.00   13.67    100.00     5      0     39\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=325.00, rev_low=250.00, agg_mu=1.92, agg_sigma=1.02, prot=1.17, auth=88\nClass , sold=0, n=2, mu=0.00, agg_fare=265.89, rev_low=200.00, agg_mu=9.08, agg_sigma=2.51, prot=7.37, auth=86\nClass , sold=0, n=3, mu=0.00, agg_fare=218.36, rev_low=150.00, agg_mu=32.58, agg_sigma=9.98, prot=27.72, auth=80\nClass , sold=0, n=4, mu=0.00, agg_fare=200.32, rev_low=125.00, agg_mu=44.27, agg_sigma=10.53, prot=40.94, auth=60\nClass , sold=0, n=5, mu=0.00, agg_fare=192.57, rev_low=100.00, agg_mu=49.34, agg_sigma=10.68, prot=48.82, auth=47\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 12, bid_price = 0.03\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.92    325.00     0      1     88\n    BOS-LAX   Y4  250.00    7.15    250.00     1      7     86\n    BOS-LAX   Y5  200.00   23.50    200.00     2     28     80\n    BOS-ORD   Y3  150.00   11.68    150.00     3     41     60\n    BOS-ORD   Y4  125.00    5.08    125.00     4     49     47\n    BOS-ORD   Y5  100.00   13.67    100.00     5      0     39\n    EMSRc, flt=201, \u03bc=49.34, \u03c3=10.68, z=3.62, agg_fare=192.57, cap=100, prob=0.00, emsr_c=0.03\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, Snapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=LAX  flt_no=202\nSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=ORD  flt_no=202\nbp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.03, contrib=324.97, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.03, contrib=249.97, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.03, contrib=199.97, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.02, contrib=324.98, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.02, contrib=249.98, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.02, contrib=199.98, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 12, bid_price = 0.03\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.92    325.00     0      1     88\n    BOS-LAX   Y4  250.00    7.15    250.00     1      7     86\n    BOS-LAX   Y5  200.00   23.50    200.00     2     28     80\n    BOS-ORD   Y3  150.00   11.68    150.00     3     41     60\n    BOS-ORD   Y4  125.00    5.08    125.00     4     49     47\n    BOS-ORD   Y5  100.00   13.67    100.00     5      0     39\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=325.00, rev_low=250.00, agg_mu=1.92, agg_sigma=1.02, prot=1.17, auth=88\nClass , sold=0, n=2, mu=0.00, agg_fare=265.89, rev_low=200.00, agg_mu=9.08, agg_sigma=2.51, prot=7.37, auth=86\nClass , sold=0, n=3, mu=0.00, agg_fare=218.36, rev_low=150.00, agg_mu=32.58, agg_sigma=9.98, prot=27.72, auth=80\nClass , sold=0, n=4, mu=0.00, agg_fare=200.32, rev_low=125.00, agg_mu=44.27, agg_sigma=10.53, prot=40.94, auth=60\nClass , sold=0, n=5, mu=0.00, agg_fare=192.57, rev_low=100.00, agg_mu=49.34, agg_sigma=10.68, prot=48.82, auth=47\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 12, bid_price = 0.03\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.92    325.00     0      1     88\n    BOS-LAX   Y4  250.00    7.15    250.00     1      7     86\n    BOS-LAX   Y5  200.00   23.50    200.00     2     28     80\n    BOS-ORD   Y3  150.00   11.68    150.00     3     41     60\n    BOS-ORD   Y4  125.00    5.08    125.00     4     49     47\n    BOS-ORD   Y5  100.00   13.67    100.00     5      0     39\n    EMSRc, flt=201, \u03bc=49.34, \u03c3=10.68, z=3.62, agg_fare=192.57, cap=100, prob=0.00, emsr_c=0.03\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.03, contrib=324.97, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.03, contrib=249.97, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.03, contrib=199.97, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.02, contrib=324.98, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.02, contrib=249.98, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.02, contrib=199.98, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 12, bid_price = 0.03\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.92    325.00     0      1     88\n    BOS-LAX   Y4  250.00    7.15    250.00     1      7     86\n    BOS-LAX   Y5  200.00   23.50    200.00     2     28     80\n    BOS-ORD   Y3  150.00   11.68    150.00     3     41     60\n    BOS-ORD   Y4  125.00    5.08    125.00     4     49     47\n    BOS-ORD   Y5  100.00   13.67    100.00     5      0     39\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 87, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    13\n    Y1     4  625.00   10.85    2.92  300.00    10    13\n    Y2     9  422.22    6.08    1.69  200.00    16     3\n    Y3    27  266.67    0.00    0.00  150.00    17     0\n    Y4    19  217.11    0.00    0.00  125.00    18     0\n    Y5    28  167.86    0.00    0.00  100.00     0     0\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.01, contrib=199.99, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.02, contrib=324.98, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.02, contrib=249.98, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.02, contrib=199.98, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.05, contrib=324.95, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.05, contrib=249.95, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.05, contrib=199.95, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=325.00, rev_low=250.00, agg_mu=1.53, agg_sigma=0.84, prot=0.91, auth=75\nClass , sold=0, n=2, mu=0.00, agg_fare=262.71, rev_low=200.00, agg_mu=9.04, agg_sigma=2.58, prot=7.21, auth=74\nClass , sold=0, n=3, mu=0.00, agg_fare=219.67, rev_low=150.00, agg_mu=28.80, agg_sigma=9.98, prot=24.06, auth=67\nClass , sold=0, n=4, mu=0.00, agg_fare=199.81, rev_low=125.00, agg_mu=40.29, agg_sigma=10.48, prot=36.93, auth=50\nClass , sold=0, n=5, mu=0.00, agg_fare=191.76, rev_low=100.00, agg_mu=45.15, agg_sigma=10.64, prot=44.57, auth=38\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 25, bid_price = 0.02\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.53    325.00     0      1     75\n    BOS-LAX   Y4  250.00    7.51    250.00     1      7     74\n    BOS-LAX   Y5  200.00   19.77    200.00     2     24     67\n    BOS-ORD   Y3  150.00   11.48    150.00     3     37     50\n    BOS-ORD   Y4  125.00    4.86    125.00     4     45     38\n    BOS-ORD   Y5  100.00   13.96    100.00     5      0     30\n    EMSRc, flt=201, \u03bc=45.15, \u03c3=10.64, z=2.81, agg_fare=191.76, cap=100, prob=0.00, emsr_c=0.48\nLeg1: AL2 201: BOS-ORD, bp=0.27, contrib=324.73, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.27, contrib=249.73, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.27, contrib=199.73, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.48, contrib=324.52, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.48, contrib=249.52, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.48, contrib=199.52, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.15, contrib=324.85, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.15, contrib=249.85, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.15, contrib=199.85, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 25, bid_price = 0.48\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.53    324.73     0      1     75\n    BOS-LAX   Y4  250.00    7.51    249.73     1      7     74\n    BOS-LAX   Y5  200.00   19.77    199.73     2     24     67\n    BOS-ORD   Y3  150.00   11.48    150.00     3     37     50\n    BOS-ORD   Y4  125.00    4.86    125.00     4     45     38\n    BOS-ORD   Y5  100.00   13.96    100.00     5      0     30\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.73, rev_low=249.73, agg_mu=1.53, agg_sigma=0.84, prot=0.91, auth=75\nClass , sold=0, n=2, mu=0.00, agg_fare=262.45, rev_low=199.73, agg_mu=9.04, agg_sigma=2.58, prot=7.21, auth=74\nClass , sold=0, n=3, mu=0.00, agg_fare=219.41, rev_low=150.00, agg_mu=28.80, agg_sigma=9.98, prot=24.03, auth=67\nClass , sold=0, n=4, mu=0.00, agg_fare=199.62, rev_low=125.00, agg_mu=40.29, agg_sigma=10.48, prot=36.92, auth=50\nClass , sold=0, n=5, mu=0.00, agg_fare=191.59, rev_low=100.00, agg_mu=45.15, agg_sigma=10.64, prot=44.56, auth=38\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 25, bid_price = 0.48\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.53    324.73     0      1     75\n    BOS-LAX   Y4  250.00    7.51    249.73     1      7     74\n    BOS-LAX   Y5  200.00   19.77    199.73     2     24     67\n    BOS-ORD   Y3  150.00   11.48    150.00     3     37     50\n    BOS-ORD   Y4  125.00    4.86    125.00     4     45     38\n    BOS-ORD   Y5  100.00   13.96    100.00     5      0     30\n    EMSRc, flt=201, \u03bc=45.15, \u03c3=10.64, z=2.81, agg_fare=191.59, cap=100, prob=0.00, emsr_c=0.48\nLeg1: AL2 201: BOS-ORD, bp=0.27, contrib=324.73, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.27, contrib=249.73, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.27, contrib=199.73, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.48, contrib=324.52, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.48, contrib=249.52, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.48, contrib=199.52, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.15, contrib=324.85, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.15, contrib=249.85, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.15, contrib=199.85, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 25, bid_price = 0.48\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.53    324.73     0      1     75\n    BOS-LAX   Y4  250.00    7.51    249.73     1      7     74\n    BOS-LAX   Y5  200.00   19.77    199.73     2     24     67\n    BOS-ORD   Y3  150.00   11.48    150.00     3     37     50\n    BOS-ORD   Y4  125.00    4.86    125.00     4     45     38\n    BOS-ORD   Y5  100.00   13.96    100.00     5      0     30\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.73, rev_low=249.73, agg_mu=1.53, agg_sigma=0.84, prot=0.91, auth=75\nClass , sold=0, n=2, mu=0.00, agg_fare=262.45, rev_low=199.73, agg_mu=9.04, agg_sigma=2.58, prot=7.21, auth=74\nClass , sold=0, n=3, mu=0.00, agg_fare=219.41, rev_low=150.00, agg_mu=28.80, agg_sigma=9.98, prot=24.03, auth=67\nClass , sold=0, n=4, mu=0.00, agg_fare=199.62, rev_low=125.00, agg_mu=40.29, agg_sigma=10.48, prot=36.92, auth=50\nClass , sold=0, n=5, mu=0.00, agg_fare=191.59, rev_low=100.00, agg_mu=45.15, agg_sigma=10.64, prot=44.56, auth=38\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 25, bid_price = 0.48\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.53    324.73     0      1     75\n    BOS-LAX   Y4  250.00    7.51    249.73     1      7     74\n    BOS-LAX   Y5  200.00   19.77    199.73     2     24     67\n    BOS-ORD   Y3  150.00   11.48    150.00     3     37     50\n    BOS-ORD   Y4  125.00    4.86    125.00     4     45     38\n    BOS-ORD   Y5  100.00   13.96    100.00     5      0     30\n    EMSRc, flt=201, \u03bc=45.15, \u03c3=10.64, z=2.81, agg_fare=191.59, cap=100, prob=0.00, emsr_c=0.48\nLeg1: AL2 201: BOS-ORD, bp=0.27, contrib=324.73, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.27, contrib=249.73, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.27, contrib=199.73, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.48, contrib=324.52, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.48, contrib=249.52, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.48, contrib=199.52, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.15, contrib=324.85, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.15, contrib=249.85, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.15, contrib=199.85, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 25, bid_price = 0.48\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.53    324.73     0      1     75\n    BOS-LAX   Y4  250.00    7.51    249.73     1      7     74\n    BOS-LAX   Y5  200.00   19.77    199.73     2     24     67\n    BOS-ORD   Y3  150.00   11.48    150.00     3     37     50\n    BOS-ORD   Y4  125.00    4.86    125.00     4     45     38\n    BOS-ORD   Y5  100.00   13.96    100.00     5      0     30\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 85, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    15\n    Y1     2  462.50   12.22    3.70  300.00    11    15\n    Y2    16  340.62    7.16    1.96  200.00    19     4\n    Y3    26  230.77    0.00    0.00  150.00    20     0\n    Y4    15  216.67    0.00    0.00  125.00    21     0\n    Y5    26  119.23    0.00    0.00  100.00     0     0\n***** Class History, total demand = 9.00\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    0.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    2.00 |    0    1    0    0    1    0    0    0    0    2    1    1    1    3    1    0    1    1    1    0    1    0    1    0    0    1 \n     2    1.00 |    2    2    1    1    2    0    0    0    0    2    1    2    2    4    2    1    1    2    1    2    2    0    2    2    0    3 \n     3    1.05 |    3    2    1    1    3    0    0    1    0    2    1    2    3    4    2    1    2    3    1    2    2    0    2    2    0    3 \n     4    0.52 |    3-   3    3    1-   3    1-   0    1-   2    3    3    3    3    4    3    1    2    3    3    2    2    2    2    3    2    3 \n     5    0.50 |    3-   3-   3-   1-   3-   1-   0-   1-   2    3    3    4    3    4    4    1    3    3-   4    3    2    2    2    3    2    4 \n     6    0.66 |    3-   3-   3-   1-   3-   1-   0-   1-   2    3-   3    4    3    4    4    1    3    3-   5    3    2    2    4    3    2    4-\n     7    1.32 |    3-   3-   3-   1-   3-   1-   0-   1-   2    3-   3-   4-   3-   4-   5-   1    3-   3-   5-   4-   2-   2-   4    4    3-   4-\n     8    1.95 |    3-   3-   3-   1-   3-   1-   0-   1-   3-   3-   3-   4-   3-   4-   5-   1-   3-   3-   5-   4-   2-   2-   5    6    3-   4-\n     9    0.00 |    3-   3-   3-   1-   3-   1-   0-   1-   3-   3-   3-   4-   3-   4-   5-   1-   3-   3-   5-   4-   2-   2-   7-   8-   3-   4-\n    10    0.00 |    3-   3-   3-   1-   3-   1-   0-   1-   3-   3-   3-   4-   3-   4-   5-   1-   3-   3-   5-   4-   2-   2-   7-   8-   3-   4-\n    11    0.00 |    3-   3-   3-   1-   3-   1-   0-   1-   3-   3-   3-   4-   3-   4-   5-   1-   3-   3-   5-   4-   2-   2-   7-   8-   3-   4-\n    12    0.00 |    3-   3-   3-   1-   3-   1-   0-   1-   3-   3-   3-   4-   3-   4-   5-   1-   3-   3-   5-   4-   2-   2-   7-   8-   3-   4-\n    13    0.00 |    3-   3-   3-   1-   3-   1-   0-   1-   3-   3-   3-   4-   3-   4-   5-   1-   3-   3-   5-   4-   2-   2-   7-   8-   3-   4-\n    14    0.00 |    3-   3-   3-   1-   3-   1-   0-   1-   3-   3-   3-   4-   3-   4-   5-   1-   3-   3-   5-   4-   2-   2-   7-   8-   3-   4-\n    15    0.00 |    3-   3-   3-   1-   3-   1-   0-   1-   3-   3-   3-   4-   3-   4-   5-   1-   3-   3-   5-   4-   2-   2-   7-   8-   3-   4-\n    16    0.00 |    3-   3-   3-   1-   3-   1-   0-   1-   3-   3-   3-   4-   3-   4-   5-   1-   3-   3-   5-   4-   2-   2-   7-   8-   3-   4-\n***** Class History, total demand = 10.79\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    1.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    1.00 |    1    1    1    1    1    0    1    3    0    0    1    0    1    1    1    1    0    0    0    1    0    0    0    0    1    0 \n     2    0.00 |    2    1    1    1    2    0    2    3    1    0    2    0    1    2    1    1    0    0    0    2    1    0    0    0    1    1 \n     3    1.22 |    2    1    2    1    2    0    2    3    1    1    2    0    1    3    1    2    1    0    1    2    1    0    1    0    1    1 \n     4    0.60 |    3-   1    2-   1    2-   0    2    3-   1    2    3    0    1    4    1    3    1    0    1    2    1    0    1    1    2    1 \n     5    0.51 |    3-   2-   2-   2-   2-   0    2-   3-   1    2    3    1    1    4    1    3    2    0-   1    2    1    2    1    1    2    1 \n     6    0.50 |    3-   2-   2-   2-   2-   0-   2-   3-   1    3-   3-   1-   2    4    1    3    2    0-   1    2    1-   3-   1    2    2    1-\n     7    0.00 |    3-   2-   2-   2-   2-   0-   2-   3-   1    3-   3-   1-   2-   4    1-   3    3    0-   1-   2    1-   3-   2    2    3-   1-\n     8    0.82 |    3-   2-   2-   2-   2-   0-   2-   3-   1    3-   3-   1-   2-   4    1-   3    3    0-   1-   2-   1-   3-   2-   2    3-   1-\n     9    0.60 |    3-   2-   2-   2-   2-   0-   2-   3-   1    3-   3-   1-   2-   5    1-   4    5    0-   1-   2-   1-   3-   2-   2    3-   1-\n    10    2.96 |    3-   2-   2-   2-   2-   0-   2-   3-   2    3-   3-   1-   2-   5    1-   5    5    0-   1-   2-   1-   3-   2-   3    3-   1-\n    11    1.56 |    3-   2-   2-   2-   2-   0-   2-   3-   5    3-   3-   1-   2-   6-   1-   8    8-   0-   1-   2-   1-   3-   2-   6    3-   1-\n    12    0.00 |    3-   2-   2-   2-   2-   0-   2-   3-   6    3-   3-   1-   2-   6-   1-  10    8-   0-   1-   2-   1-   3-   2-   8    3-   1-\n    13    0.00 |    3-   2-   2-   2-   2-   0-   2-   3-   6    3-   3-   1-   2-   6-   1-  10    8-   0-   1-   2-   1-   3-   2-   8    3-   1-\n    14    0.00 |    3-   2-   2-   2-   2-   0-   2-   3-   6    3-   3-   1-   2-   6-   1-  10    8-   0-   1-   2-   1-   3-   2-   8    3-   1-\n    15    0.00 |    3-   2-   2-   2-   2-   0-   2-   3-   6    3-   3-   1-   2-   6-   1-  10    8-   0-   1-   2-   1-   3-   2-   8    3-   1-\n    16    0.00 |    3-   2-   2-   2-   2-   0-   2-   3-   6    3-   3-   1-   2-   6-   1-  10    8-   0-   1-   2-   1-   3-   2-   8    3-   1-\nTesting the snapshot filters again:  sample=20  dcp=56\nTesting the snapshot filters:  sample=20  dcp=7  orig=BOS  dest=ORD  flt_no=101\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=0.32, contrib=324.68, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.32, contrib=249.68, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.32, contrib=199.68, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.79, contrib=324.21, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.79, contrib=249.21, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.79, contrib=199.21, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.89, contrib=324.11, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.89, contrib=249.11, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.89, contrib=199.11, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=5.02, contrib=319.98, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=5.02, contrib=244.98, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=5.02, contrib=194.98, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.68, rev_low=249.68, agg_mu=1.80, agg_sigma=0.89, prot=1.14, auth=81\nClass , sold=0, n=2, mu=0.00, agg_fare=266.37, rev_low=199.68, agg_mu=8.10, agg_sigma=2.07, prot=6.71, auth=79\nClass , sold=0, n=3, mu=0.00, agg_fare=214.40, rev_low=150.00, agg_mu=36.70, agg_sigma=9.29, prot=31.83, auth=74\nClass , sold=0, n=4, mu=0.00, agg_fare=202.82, rev_low=125.00, agg_mu=44.73, agg_sigma=9.52, prot=41.92, auth=49\nClass , sold=0, n=5, mu=0.00, agg_fare=196.55, rev_low=100.00, agg_mu=48.66, agg_sigma=9.66, prot=48.44, auth=39\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 19, bid_price = 0.89\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.80    324.68     0      1     81\n    BOS-LAX   Y4  250.00    6.30    249.68     1      7     79\n    BOS-LAX   Y5  200.00   28.60    199.68     2     32     74\n    BOS-ORD   Y3  150.00    8.04    150.00     3     42     49\n    BOS-ORD   Y4  125.00    3.92    125.00     4     48     39\n    BOS-ORD   Y5  100.00   14.08    100.00     5      0     33\n    EMSRc, flt=201, \u03bc=48.66, \u03c3=9.66, z=3.35, agg_fare=196.55, cap=100, prob=0.00, emsr_c=0.08\nLeg1: AL2 201: BOS-ORD, bp=3.11, contrib=321.89, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.11, contrib=246.89, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.11, contrib=196.89, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.36, contrib=324.64, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.36, contrib=249.64, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.36, contrib=199.64, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.08, contrib=324.92, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.08, contrib=249.92, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.08, contrib=199.92, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.75, contrib=322.25, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.75, contrib=247.25, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.75, contrib=197.25, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 19, bid_price = 0.08\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.80    321.89     0      1     81\n    BOS-LAX   Y4  250.00    6.30    246.89     1      7     79\n    BOS-LAX   Y5  200.00   28.60    196.89     2     32     74\n    BOS-ORD   Y3  150.00    8.04    150.00     3     42     49\n    BOS-ORD   Y4  125.00    3.92    125.00     4     48     39\n    BOS-ORD   Y5  100.00   14.08    100.00     5      0     33\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=321.89, rev_low=246.89, agg_mu=1.80, agg_sigma=0.89, prot=1.15, auth=81\nClass , sold=0, n=2, mu=0.00, agg_fare=263.58, rev_low=196.89, agg_mu=8.10, agg_sigma=2.07, prot=6.72, auth=79\nClass , sold=0, n=3, mu=0.00, agg_fare=211.61, rev_low=150.00, agg_mu=36.70, agg_sigma=9.29, prot=31.59, auth=74\nClass , sold=0, n=4, mu=0.00, agg_fare=200.54, rev_low=125.00, agg_mu=44.73, agg_sigma=9.52, prot=41.74, auth=49\nClass , sold=0, n=5, mu=0.00, agg_fare=194.45, rev_low=100.00, agg_mu=48.66, agg_sigma=9.66, prot=48.31, auth=39\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 19, bid_price = 0.08\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.80    321.89     0      1     81\n    BOS-LAX   Y4  250.00    6.30    246.89     1      7     79\n    BOS-LAX   Y5  200.00   28.60    196.89     2     32     74\n    BOS-ORD   Y3  150.00    8.04    150.00     3     42     49\n    BOS-ORD   Y4  125.00    3.92    125.00     4     48     39\n    BOS-ORD   Y5  100.00   14.08    100.00     5      0     33\n    EMSRc, flt=201, \u03bc=48.66, \u03c3=9.66, z=3.35, agg_fare=194.45, cap=100, prob=0.00, emsr_c=0.08\nLeg1: AL2 201: BOS-ORD, bp=3.12, contrib=321.88, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.12, contrib=246.88, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.12, contrib=196.88, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.36, contrib=324.64, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.36, contrib=249.64, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.36, contrib=199.64, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.08, contrib=324.92, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.08, contrib=249.92, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.08, contrib=199.92, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.75, contrib=322.25, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.75, contrib=247.25, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.75, contrib=197.25, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 19, bid_price = 0.08\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.80    321.88     0      1     81\n    BOS-LAX   Y4  250.00    6.30    246.88     1      7     79\n    BOS-LAX   Y5  200.00   28.60    196.88     2     32     74\n    BOS-ORD   Y3  150.00    8.04    150.00     3     42     49\n    BOS-ORD   Y4  125.00    3.92    125.00     4     48     39\n    BOS-ORD   Y5  100.00   14.08    100.00     5      0     33\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=321.88, rev_low=246.88, agg_mu=1.80, agg_sigma=0.89, prot=1.15, auth=81\nClass , sold=0, n=2, mu=0.00, agg_fare=263.57, rev_low=196.88, agg_mu=8.10, agg_sigma=2.07, prot=6.72, auth=79\nClass , sold=0, n=3, mu=0.00, agg_fare=211.60, rev_low=150.00, agg_mu=36.70, agg_sigma=9.29, prot=31.59, auth=74\nClass , sold=0, n=4, mu=0.00, agg_fare=200.53, rev_low=125.00, agg_mu=44.73, agg_sigma=9.52, prot=41.74, auth=49\nClass , sold=0, n=5, mu=0.00, agg_fare=194.44, rev_low=100.00, agg_mu=48.66, agg_sigma=9.66, prot=48.31, auth=39\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 19, bid_price = 0.08\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.80    321.88     0      1     81\n    BOS-LAX   Y4  250.00    6.30    246.88     1      7     79\n    BOS-LAX   Y5  200.00   28.60    196.88     2     32     74\n    BOS-ORD   Y3  150.00    8.04    150.00     3     42     49\n    BOS-ORD   Y4  125.00    3.92    125.00     4     48     39\n    BOS-ORD   Y5  100.00   14.08    100.00     5      0     33\n    EMSRc, flt=201, \u03bc=48.66, \u03c3=9.66, z=3.35, agg_fare=194.44, cap=100, prob=0.00, emsr_c=0.08\nLeg1: AL2 201: BOS-ORD, bp=3.12, contrib=321.88, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.12, contrib=246.88, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.12, contrib=196.88, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.36, contrib=324.64, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.36, contrib=249.64, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.36, contrib=199.64, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.08, contrib=324.92, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.08, contrib=249.92, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.08, contrib=199.92, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.75, contrib=322.25, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.75, contrib=247.25, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.75, contrib=197.25, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 19, bid_price = 0.08\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.80    321.88     0      1     81\n    BOS-LAX   Y4  250.00    6.30    246.88     1      7     79\n    BOS-LAX   Y5  200.00   28.60    196.88     2     32     74\n    BOS-ORD   Y3  150.00    8.04    150.00     3     42     49\n    BOS-ORD   Y4  125.00    3.92    125.00     4     48     39\n    BOS-ORD   Y5  100.00   14.08    100.00     5      0     33\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 80, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    20\n    Y1     0    0.00   13.64    4.98  300.00    11    20\n    Y2    17  347.06    8.26    2.64  200.00    21     8\n    Y3    41  273.78    0.00    0.00  150.00    22     0\n    Y4    10  125.00    0.00    0.00  125.00    24     0\n    Y5    12  100.00    0.00    0.00  100.00     0     0\nTesting the snapshot filters again:  sample=30  dcp=56\nTesting the snapshot filters:  sample=30  dcp=7  orig=BOS  dest=ORD  flt_no=101\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=0.04, contrib=324.96, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.04, contrib=249.96, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.04, contrib=199.96, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.40, contrib=324.60, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.40, contrib=249.60, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.40, contrib=199.60, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.24, contrib=324.76, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.24, contrib=249.76, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.24, contrib=199.76, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.05, contrib=323.95, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.05, contrib=248.95, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.05, contrib=198.95, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.96, rev_low=249.96, agg_mu=2.17, agg_sigma=1.16, prot=1.31, auth=91\nClass , sold=0, n=2, mu=0.00, agg_fare=281.15, rev_low=199.96, agg_mu=5.21, agg_sigma=1.79, prot=4.22, auth=89\nClass , sold=0, n=3, mu=0.00, agg_fare=212.43, rev_low=150.00, agg_mu=33.94, agg_sigma=9.76, prot=28.65, auth=86\nClass , sold=0, n=4, mu=0.00, agg_fare=203.24, rev_low=125.00, agg_mu=39.80, agg_sigma=9.98, prot=36.88, auth=62\nClass , sold=0, n=5, mu=0.00, agg_fare=197.15, rev_low=100.00, agg_mu=43.16, agg_sigma=10.12, prot=42.98, auth=54\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 9, bid_price = 0.24\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.17    324.96     0      1     91\n    BOS-LAX   Y4  250.00    3.05    249.96     1      4     89\n    BOS-LAX   Y5  200.00   28.73    199.96     2     29     86\n    BOS-ORD   Y3  150.00    5.85    150.00     3     37     62\n    BOS-ORD   Y4  125.00    3.36    125.00     4     43     54\n    BOS-ORD   Y5  100.00   10.38    100.00     5      0     48\n    EMSRc, flt=201, \u03bc=43.16, \u03c3=10.12, z=4.73, agg_fare=197.15, cap=100, prob=0.00, emsr_c=0.00\nLeg1: AL2 201: BOS-ORD, bp=0.02, contrib=324.98, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.02, contrib=249.98, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.02, contrib=199.98, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.89, contrib=323.11, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.89, contrib=248.11, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.89, contrib=198.11, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.18, contrib=324.82, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.18, contrib=249.82, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.18, contrib=199.82, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 9, bid_price = 0.00\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.17    324.98     0      1     91\n    BOS-LAX   Y4  250.00    3.05    249.98     1      4     89\n    BOS-LAX   Y5  200.00   28.73    199.98     2     29     86\n    BOS-ORD   Y3  150.00    5.85    150.00     3     37     62\n    BOS-ORD   Y4  125.00    3.36    125.00     4     43     54\n    BOS-ORD   Y5  100.00   10.38    100.00     5      0     48\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.98, rev_low=249.98, agg_mu=2.17, agg_sigma=1.16, prot=1.31, auth=91\nClass , sold=0, n=2, mu=0.00, agg_fare=281.18, rev_low=199.98, agg_mu=5.21, agg_sigma=1.79, prot=4.22, auth=89\nClass , sold=0, n=3, mu=0.00, agg_fare=212.46, rev_low=150.00, agg_mu=33.94, agg_sigma=9.76, prot=28.66, auth=86\nClass , sold=0, n=4, mu=0.00, agg_fare=203.27, rev_low=125.00, agg_mu=39.80, agg_sigma=9.98, prot=36.88, auth=62\nClass , sold=0, n=5, mu=0.00, agg_fare=197.17, rev_low=100.00, agg_mu=43.16, agg_sigma=10.12, prot=42.98, auth=54\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 9, bid_price = 0.00\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.17    324.98     0      1     91\n    BOS-LAX   Y4  250.00    3.05    249.98     1      4     89\n    BOS-LAX   Y5  200.00   28.73    199.98     2     29     86\n    BOS-ORD   Y3  150.00    5.85    150.00     3     37     62\n    BOS-ORD   Y4  125.00    3.36    125.00     4     43     54\n    BOS-ORD   Y5  100.00   10.38    100.00     5      0     48\n    EMSRc, flt=201, \u03bc=43.16, \u03c3=10.12, z=4.73, agg_fare=197.17, cap=100, prob=0.00, emsr_c=0.00\nLeg1: AL2 201: BOS-ORD, bp=0.02, contrib=324.98, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.02, contrib=249.98, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.02, contrib=199.98, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.90, contrib=323.10, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.90, contrib=248.10, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.90, contrib=198.10, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.18, contrib=324.82, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.18, contrib=249.82, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.18, contrib=199.82, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 9, bid_price = 0.00\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.17    324.98     0      1     91\n    BOS-LAX   Y4  250.00    3.05    249.98     1      4     89\n    BOS-LAX   Y5  200.00   28.73    199.98     2     29     86\n    BOS-ORD   Y3  150.00    5.85    150.00     3     37     62\n    BOS-ORD   Y4  125.00    3.36    125.00     4     43     54\n    BOS-ORD   Y5  100.00   10.38    100.00     5      0     48\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.98, rev_low=249.98, agg_mu=2.17, agg_sigma=1.16, prot=1.31, auth=91\nClass , sold=0, n=2, mu=0.00, agg_fare=281.18, rev_low=199.98, agg_mu=5.21, agg_sigma=1.79, prot=4.22, auth=89\nClass , sold=0, n=3, mu=0.00, agg_fare=212.46, rev_low=150.00, agg_mu=33.94, agg_sigma=9.76, prot=28.66, auth=86\nClass , sold=0, n=4, mu=0.00, agg_fare=203.27, rev_low=125.00, agg_mu=39.80, agg_sigma=9.98, prot=36.88, auth=62\nClass , sold=0, n=5, mu=0.00, agg_fare=197.17, rev_low=100.00, agg_mu=43.16, agg_sigma=10.12, prot=42.98, auth=54\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 9, bid_price = 0.00\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.17    324.98     0      1     91\n    BOS-LAX   Y4  250.00    3.05    249.98     1      4     89\n    BOS-LAX   Y5  200.00   28.73    199.98     2     29     86\n    BOS-ORD   Y3  150.00    5.85    150.00     3     37     62\n    BOS-ORD   Y4  125.00    3.36    125.00     4     43     54\n    BOS-ORD   Y5  100.00   10.38    100.00     5      0     48\n    EMSRc, flt=201, \u03bc=43.16, \u03c3=10.12, z=4.73, agg_fare=197.17, cap=100, prob=0.00, emsr_c=0.00\nLeg1: AL2 201: BOS-ORD, bp=0.02, contrib=324.98, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.02, contrib=249.98, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.02, contrib=199.98, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.90, contrib=323.10, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.90, contrib=248.10, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.90, contrib=198.10, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.18, contrib=324.82, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.18, contrib=249.82, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.18, contrib=199.82, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 9, bid_price = 0.00\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.17    324.98     0      1     91\n    BOS-LAX   Y4  250.00    3.05    249.98     1      4     89\n    BOS-LAX   Y5  200.00   28.73    199.98     2     29     86\n    BOS-ORD   Y3  150.00    5.85    150.00     3     37     62\n    BOS-ORD   Y4  125.00    3.36    125.00     4     43     54\n    BOS-ORD   Y5  100.00   10.38    100.00     5      0     48\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 50, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    50\n    Y1     1  625.00   10.91    5.29  300.00     9    50\n    Y2    12  450.00    6.86    3.56  200.00    17    41\n    Y3    26  277.88    0.00    0.00  150.00    18    33\n    Y4     2  125.00    0.00    0.00  125.00    20    31\n    Y5     9  100.00    0.00    0.00  100.00     0    30\nSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=LAX  flt_no=202\nSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=ORD  flt_no=202\n***** Class History, total demand = 8.09\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    2.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    2.00 |    2    0    1    1    1    1    1    0    0    0    0    1    0    1    1    0    1    0    2    3    1    2    0    0    0    0 \n     2    0.00 |    4    1    1    1    3    2    3    0    0    0-   1    2    0    1    5    0    2    0    2    4    1    2    0    3    0    0 \n     3    1.00 |    4    1    1-   2    3-   3    4    1    1-   0-   2    2    0-   3    5-   1    3-   1    2-   5    1    4    0    3-   1-   0 \n     4    0.56 |    5    1-   1-   2-   3-   3-   5-   1-   1-   0-   3    2    0-   5    5-   1    3-   1-   2-   5-   1-   4-   0    3-   1-   0 \n     5    0.00 |    5-   1-   1-   2-   3-   3-   5-   1-   1-   0-   4    2-   0-   5-   5-   1    3-   1-   2-   5-   1-   4-   1-   3-   1-   0 \n     6    0.63 |    5-   1-   1-   2-   3-   3-   5-   1-   1-   0-   4-   2-   0-   5-   5-   1    3-   1-   2-   5-   1-   4-   1-   3-   1-   0 \n     7    0.00 |    5-   1-   1-   2-   3-   3-   5-   1-   1-   0-   4-   2-   0-   5-   5-   2    3-   1-   2-   5-   1-   4-   1-   3-   1-   0-\n     8    0.63 |    5-   1-   1-   2-   3-   3-   5-   1-   1-   0-   4-   2-   0-   5-   5-   2    3-   1-   2-   5-   1-   4-   1-   3-   1-   0-\n     9    1.26 |    5-   1-   1-   2-   3-   3-   5-   1-   1-   0-   4-   2-   0-   5-   5-   3    3-   1-   2-   5-   1-   4-   1-   3-   1-   0-\n    10    0.00 |    5-   1-   1-   2-   3-   3-   5-   1-   1-   0-   4-   2-   0-   5-   5-   5    3-   1-   2-   5-   1-   4-   1-   3-   1-   0-\n    11    0.00 |    5-   1-   1-   2-   3-   3-   5-   1-   1-   0-   4-   2-   0-   5-   5-   5    3-   1-   2-   5-   1-   4-   1-   3-   1-   0-\n    12    0.00 |    5-   1-   1-   2-   3-   3-   5-   1-   1-   0-   4-   2-   0-   5-   5-   5    3-   1-   2-   5-   1-   4-   1-   3-   1-   0-\n    13    0.00 |    5-   1-   1-   2-   3-   3-   5-   1-   1-   0-   4-   2-   0-   5-   5-   5    3-   1-   2-   5-   1-   4-   1-   3-   1-   0-\n    14    0.00 |    5-   1-   1-   2-   3-   3-   5-   1-   1-   0-   4-   2-   0-   5-   5-   5    3-   1-   2-   5-   1-   4-   1-   3-   1-   0-\n    15    0.00 |    5-   1-   1-   2-   3-   3-   5-   1-   1-   0-   4-   2-   0-   5-   5-   5    3-   1-   2-   5-   1-   4-   1-   3-   1-   0-\n    16    0.00 |    5-   1-   1-   2-   3-   3-   5-   1-   1-   0-   4-   2-   0-   5-   5-   5    3-   1-   2-   5-   1-   4-   1-   3-   1-   0-\n***** Class History, total demand = 7.47\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    0.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    1.00 |    0    1    0    0    1    1    0    0    2    2    0    1    0    0    1    0    0    0    0    1    1    0    0    0    0    0 \n     2    0.00 |    1    1    0    0    1    2    0    0    2    2    0    1    0    0    1    0    0    0    0    1    1    0    1    1    0    0 \n     3    1.00 |    1    1    0    0    1    2    1    0    2    2    0    1    1    0    1    0    0-   0    1    1-   1    1    2    1    0-   0 \n     4    0.44 |    2    2    1    0    1    2    2-   0    2-   2    1    1    2    0    1    0    0-   1-   1-   1-   2    2    2    1-   0-   3 \n     5    0.00 |    2-   2    2-   1    1    2-   2-   0    2-   2    1-   1    2    0-   1    0    0-   1-   1-   1-   3    2    2-   1-   0-   3 \n     6    0.45 |    2-   2    2-   1    1    2-   2-   0    2-   2-   1-   1    2    0-   1-   0    0-   1-   1-   1-   3    2    2-   1-   0-   3 \n     7    0.38 |    2-   2    2-   2    1    2-   2-   0-   2-   2-   1-   1    2    0-   1-   0    0-   1-   1-   1-   4    3    2-   1-   0-   3 \n     8    0.00 |    2-   2    2-   3    1    2-   2-   0-   2-   2-   1-   1    2-   0-   1-   0    0-   1-   1-   1-   4    4    2-   1-   0-   3 \n     9    0.47 |    2-   2    2-   3    1    2-   2-   0-   2-   2-   1-   1    2-   0-   1-   0    0-   1-   1-   1-   4    4    2-   1-   0-   3 \n    10    1.87 |    2-   3    2-   4    1    2-   2-   0-   2-   2-   1-   1    2-   0-   1-   0    0-   1-   1-   1-   4    5    2-   1-   0-   3 \n    11    1.85 |    2-   6    2-   4    2    2-   2-   0-   2-   2-   1-   2    2-   0-   1-   3    0-   1-   1-   1-   6    8    2-   1-   0-   5 \n    12    0.00 |    2-   8    2-   6    3    2-   2-   0-   2-   2-   1-   3    2-   0-   1-   5    0-   1-   1-   1-   7-  11    2-   1-   0-   7 \n    13    0.00 |    2-   8    2-   6    3    2-   2-   0-   2-   2-   1-   3    2-   0-   1-   5    0-   1-   1-   1-   7-  11    2-   1-   0-   7 \n    14    0.00 |    2-   8    2-   6    3    2-   2-   0-   2-   2-   1-   3    2-   0-   1-   5    0-   1-   1-   1-   7-  11    2-   1-   0-   7 \n    15    0.00 |    2-   8    2-   6    3    2-   2-   0-   2-   2-   1-   3    2-   0-   1-   5    0-   1-   1-   1-   7-  11    2-   1-   0-   7 \n    16    0.00 |    2-   8    2-   6    3    2-   2-   0-   2-   2-   1-   3    2-   0-   1-   5    0-   1-   1-   1-   7-  11    2-   1-   0-   7 \nTesting the snapshot filters again:  sample=20  dcp=56\nTesting the snapshot filters:  sample=20  dcp=7  orig=BOS  dest=ORD  flt_no=101\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=5.53, contrib=319.47, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=5.53, contrib=244.47, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=5.53, contrib=194.47, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=8.95, contrib=316.05, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=8.95, contrib=241.05, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=8.95, contrib=191.05, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=5.40, contrib=319.60, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=5.40, contrib=244.60, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=5.40, contrib=194.60, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=6.16, contrib=318.84, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=6.16, contrib=243.84, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=6.16, contrib=193.84, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=319.47, rev_low=244.47, agg_mu=5.97, agg_sigma=1.50, prot=4.88, auth=78\nClass , sold=0, n=2, mu=0.00, agg_fare=272.89, rev_low=194.47, agg_mu=15.76, agg_sigma=3.30, prot=13.91, auth=73\nClass , sold=0, n=3, mu=0.00, agg_fare=222.56, rev_low=150.00, agg_mu=43.99, agg_sigma=10.58, prot=39.22, auth=64\nClass , sold=0, n=4, mu=0.00, agg_fare=209.62, rev_low=125.00, agg_mu=53.54, agg_sigma=10.83, prot=50.90, auth=38\nClass , sold=0, n=5, mu=0.00, agg_fare=201.39, rev_low=100.00, agg_mu=59.30, agg_sigma=11.00, prot=59.40, auth=27\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 22, bid_price = 5.40\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    5.97    319.47     0      5     78\n    BOS-LAX   Y4  250.00    9.79    244.47     1     14     73\n    BOS-LAX   Y5  200.00   28.23    194.47     2     39     64\n    BOS-ORD   Y3  150.00    9.55    150.00     3     51     38\n    BOS-ORD   Y4  125.00    5.76    125.00     4     59     27\n    BOS-ORD   Y5  100.00   14.71    100.00     5      0     19\n    EMSRc, flt=201, \u03bc=59.30, \u03c3=11.00, z=1.70, agg_fare=201.39, cap=100, prob=0.04, emsr_c=8.97\nLeg1: AL2 201: BOS-ORD, bp=3.85, contrib=321.15, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.85, contrib=246.15, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.85, contrib=196.15, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=9.27, contrib=315.73, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=9.27, contrib=240.73, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=9.27, contrib=190.73, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=8.97, contrib=316.03, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=8.97, contrib=241.03, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=8.97, contrib=191.03, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.01, contrib=323.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.01, contrib=248.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.01, contrib=198.99, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 22, bid_price = 8.97\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    5.97    321.15     0      5     78\n    BOS-LAX   Y4  250.00    9.79    246.15     1     14     73\n    BOS-LAX   Y5  200.00   28.23    196.15     2     39     64\n    BOS-ORD   Y3  150.00    9.55    150.00     3     51     38\n    BOS-ORD   Y4  125.00    5.76    125.00     4     59     27\n    BOS-ORD   Y5  100.00   14.71    100.00     5      0     19\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=321.15, rev_low=246.15, agg_mu=5.97, agg_sigma=1.50, prot=4.88, auth=78\nClass , sold=0, n=2, mu=0.00, agg_fare=274.57, rev_low=196.15, agg_mu=15.76, agg_sigma=3.30, prot=13.89, auth=73\nClass , sold=0, n=3, mu=0.00, agg_fare=224.25, rev_low=150.00, agg_mu=43.99, agg_sigma=10.58, prot=39.37, auth=64\nClass , sold=0, n=4, mu=0.00, agg_fare=211.00, rev_low=125.00, agg_mu=53.54, agg_sigma=10.83, prot=51.01, auth=38\nClass , sold=0, n=5, mu=0.00, agg_fare=202.64, rev_low=100.00, agg_mu=59.30, agg_sigma=11.00, prot=59.48, auth=26\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 22, bid_price = 8.97\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    5.97    321.15     0      5     78\n    BOS-LAX   Y4  250.00    9.79    246.15     1     14     73\n    BOS-LAX   Y5  200.00   28.23    196.15     2     39     64\n    BOS-ORD   Y3  150.00    9.55    150.00     3     51     38\n    BOS-ORD   Y4  125.00    5.76    125.00     4     59     26\n    BOS-ORD   Y5  100.00   14.71    100.00     5      0     19\n    EMSRc, flt=201, \u03bc=59.30, \u03c3=11.00, z=1.70, agg_fare=202.64, cap=100, prob=0.04, emsr_c=9.02\nLeg1: AL2 201: BOS-ORD, bp=3.81, contrib=321.19, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.81, contrib=246.19, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.81, contrib=196.19, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=9.41, contrib=315.59, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=9.41, contrib=240.59, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=9.41, contrib=190.59, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=9.02, contrib=315.98, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=9.02, contrib=240.98, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=9.02, contrib=190.98, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.01, contrib=323.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.01, contrib=248.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.01, contrib=198.99, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 22, bid_price = 9.02\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    5.97    321.19     0      5     78\n    BOS-LAX   Y4  250.00    9.79    246.19     1     14     73\n    BOS-LAX   Y5  200.00   28.23    196.19     2     39     64\n    BOS-ORD   Y3  150.00    9.55    150.00     3     51     38\n    BOS-ORD   Y4  125.00    5.76    125.00     4     59     26\n    BOS-ORD   Y5  100.00   14.71    100.00     5      0     19\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=321.19, rev_low=246.19, agg_mu=5.97, agg_sigma=1.50, prot=4.88, auth=78\nClass , sold=0, n=2, mu=0.00, agg_fare=274.61, rev_low=196.19, agg_mu=15.76, agg_sigma=3.30, prot=13.89, auth=73\nClass , sold=0, n=3, mu=0.00, agg_fare=224.29, rev_low=150.00, agg_mu=43.99, agg_sigma=10.58, prot=39.37, auth=64\nClass , sold=0, n=4, mu=0.00, agg_fare=211.03, rev_low=125.00, agg_mu=53.54, agg_sigma=10.83, prot=51.01, auth=38\nClass , sold=0, n=5, mu=0.00, agg_fare=202.67, rev_low=100.00, agg_mu=59.30, agg_sigma=11.00, prot=59.48, auth=26\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 22, bid_price = 9.02\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    5.97    321.19     0      5     78\n    BOS-LAX   Y4  250.00    9.79    246.19     1     14     73\n    BOS-LAX   Y5  200.00   28.23    196.19     2     39     64\n    BOS-ORD   Y3  150.00    9.55    150.00     3     51     38\n    BOS-ORD   Y4  125.00    5.76    125.00     4     59     26\n    BOS-ORD   Y5  100.00   14.71    100.00     5      0     19\n    EMSRc, flt=201, \u03bc=59.30, \u03c3=11.00, z=1.70, agg_fare=202.67, cap=100, prob=0.04, emsr_c=9.02\nLeg1: AL2 201: BOS-ORD, bp=3.81, contrib=321.19, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.81, contrib=246.19, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.81, contrib=196.19, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=9.41, contrib=315.59, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=9.41, contrib=240.59, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=9.41, contrib=190.59, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=9.02, contrib=315.98, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=9.02, contrib=240.98, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=9.02, contrib=190.98, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.01, contrib=323.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.01, contrib=248.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.01, contrib=198.99, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 22, bid_price = 9.02\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    5.97    321.19     0      5     78\n    BOS-LAX   Y4  250.00    9.79    246.19     1     14     73\n    BOS-LAX   Y5  200.00   28.23    196.19     2     39     64\n    BOS-ORD   Y3  150.00    9.55    150.00     3     51     38\n    BOS-ORD   Y4  125.00    5.76    125.00     4     59     26\n    BOS-ORD   Y5  100.00   14.71    100.00     5      0     19\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 83, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    17\n    Y1     6  408.33   14.16    3.48  300.00    13    17\n    Y2    13  411.54   10.03    2.35  200.00    23     4\n    Y3    40  246.25    0.00    0.00  150.00    24     0\n    Y4    17  176.47    0.00    0.00  125.00    25     0\n    Y5     7  100.00    0.00    0.00  100.00     0     0\nTesting the snapshot filters again:  sample=30  dcp=56\nTesting the snapshot filters:  sample=30  dcp=7  orig=BOS  dest=ORD  flt_no=101\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=0.13, contrib=324.87, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.13, contrib=249.87, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.13, contrib=199.87, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.89, contrib=323.11, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.89, contrib=248.11, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.89, contrib=198.11, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.83, contrib=324.17, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.83, contrib=249.17, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.83, contrib=199.17, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.82, contrib=323.18, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.82, contrib=248.18, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.82, contrib=198.18, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.87, rev_low=249.87, agg_mu=4.41, agg_sigma=1.25, prot=3.49, auth=88\nClass , sold=0, n=2, mu=0.00, agg_fare=277.57, rev_low=199.87, agg_mu=11.94, agg_sigma=2.96, prot=10.22, auth=84\nClass , sold=0, n=3, mu=0.00, agg_fare=225.95, rev_low=150.00, agg_mu=35.58, agg_sigma=9.47, prot=31.58, auth=77\nClass , sold=0, n=4, mu=0.00, agg_fare=209.03, rev_low=125.00, agg_mu=45.78, agg_sigma=9.72, prot=43.36, auth=56\nClass , sold=0, n=5, mu=0.00, agg_fare=201.52, rev_low=100.00, agg_mu=50.27, agg_sigma=9.84, prot=50.37, auth=44\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 12, bid_price = 0.83\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.41    324.87     0      3     88\n    BOS-LAX   Y4  250.00    7.53    249.87     1     10     84\n    BOS-LAX   Y5  200.00   23.63    199.87     2     32     77\n    BOS-ORD   Y3  150.00   10.20    150.00     3     43     56\n    BOS-ORD   Y4  125.00    4.50    125.00     4     50     44\n    BOS-ORD   Y5  100.00   14.32    100.00     5      0     38\n    EMSRc, flt=201, \u03bc=50.27, \u03c3=9.84, z=3.84, agg_fare=201.52, cap=100, prob=0.00, emsr_c=0.01\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.12, contrib=323.88, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.12, contrib=248.88, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.12, contrib=198.88, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=199.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.11, contrib=324.89, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.11, contrib=249.89, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.11, contrib=199.89, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 12, bid_price = 0.01\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.41    325.00     0      3     88\n    BOS-LAX   Y4  250.00    7.53    250.00     1     10     84\n    BOS-LAX   Y5  200.00   23.63    200.00     2     32     77\n    BOS-ORD   Y3  150.00   10.20    150.00     3     43     56\n    BOS-ORD   Y4  125.00    4.50    125.00     4     50     44\n    BOS-ORD   Y5  100.00   14.32    100.00     5      0     38\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=325.00, rev_low=250.00, agg_mu=4.41, agg_sigma=1.25, prot=3.49, auth=88\nClass , sold=0, n=2, mu=0.00, agg_fare=277.70, rev_low=200.00, agg_mu=11.94, agg_sigma=2.96, prot=10.22, auth=84\nClass , sold=0, n=3, mu=0.00, agg_fare=226.08, rev_low=150.00, agg_mu=35.58, agg_sigma=9.47, prot=31.59, auth=77\nClass , sold=0, n=4, mu=0.00, agg_fare=209.14, rev_low=125.00, agg_mu=45.78, agg_sigma=9.72, prot=43.37, auth=56\nClass , sold=0, n=5, mu=0.00, agg_fare=201.61, rev_low=100.00, agg_mu=50.27, agg_sigma=9.84, prot=50.37, auth=44\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 12, bid_price = 0.01\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.41    325.00     0      3     88\n    BOS-LAX   Y4  250.00    7.53    250.00     1     10     84\n    BOS-LAX   Y5  200.00   23.63    200.00     2     32     77\n    BOS-ORD   Y3  150.00   10.20    150.00     3     43     56\n    BOS-ORD   Y4  125.00    4.50    125.00     4     50     44\n    BOS-ORD   Y5  100.00   14.32    100.00     5      0     38\n    EMSRc, flt=201, \u03bc=50.27, \u03c3=9.84, z=3.84, agg_fare=201.61, cap=100, prob=0.00, emsr_c=0.01\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.12, contrib=323.88, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.12, contrib=248.88, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.12, contrib=198.88, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=199.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.11, contrib=324.89, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.11, contrib=249.89, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.11, contrib=199.89, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 12, bid_price = 0.01\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.41    325.00     0      3     88\n    BOS-LAX   Y4  250.00    7.53    250.00     1     10     84\n    BOS-LAX   Y5  200.00   23.63    200.00     2     32     77\n    BOS-ORD   Y3  150.00   10.20    150.00     3     43     56\n    BOS-ORD   Y4  125.00    4.50    125.00     4     50     44\n    BOS-ORD   Y5  100.00   14.32    100.00     5      0     38\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=325.00, rev_low=250.00, agg_mu=4.41, agg_sigma=1.25, prot=3.49, auth=88\nClass , sold=0, n=2, mu=0.00, agg_fare=277.70, rev_low=200.00, agg_mu=11.94, agg_sigma=2.96, prot=10.22, auth=84\nClass , sold=0, n=3, mu=0.00, agg_fare=226.08, rev_low=150.00, agg_mu=35.58, agg_sigma=9.47, prot=31.59, auth=77\nClass , sold=0, n=4, mu=0.00, agg_fare=209.14, rev_low=125.00, agg_mu=45.78, agg_sigma=9.72, prot=43.37, auth=56\nClass , sold=0, n=5, mu=0.00, agg_fare=201.61, rev_low=100.00, agg_mu=50.27, agg_sigma=9.84, prot=50.37, auth=44\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 12, bid_price = 0.01\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.41    325.00     0      3     88\n    BOS-LAX   Y4  250.00    7.53    250.00     1     10     84\n    BOS-LAX   Y5  200.00   23.63    200.00     2     32     77\n    BOS-ORD   Y3  150.00   10.20    150.00     3     43     56\n    BOS-ORD   Y4  125.00    4.50    125.00     4     50     44\n    BOS-ORD   Y5  100.00   14.32    100.00     5      0     38\n    EMSRc, flt=201, \u03bc=50.27, \u03c3=9.84, z=3.84, agg_fare=201.61, cap=100, prob=0.00, emsr_c=0.01\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.12, contrib=323.88, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.12, contrib=248.88, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.12, contrib=198.88, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=199.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.11, contrib=324.89, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.11, contrib=249.89, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.11, contrib=199.89, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 12, bid_price = 0.01\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.41    325.00     0      3     88\n    BOS-LAX   Y4  250.00    7.53    250.00     1     10     84\n    BOS-LAX   Y5  200.00   23.63    200.00     2     32     77\n    BOS-ORD   Y3  150.00   10.20    150.00     3     43     56\n    BOS-ORD   Y4  125.00    4.50    125.00     4     50     44\n    BOS-ORD   Y5  100.00   14.32    100.00     5      0     38\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 32, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    68\n    Y1     0    0.00   14.65    4.38  300.00    13    68\n    Y2     0    0.00    9.74    3.33  200.00    23    55\n    Y3    22  301.14    0.00    0.00  150.00    25    44\n    Y4     4  250.00    0.00    0.00  125.00    26    43\n    Y5     6  100.00    0.00    0.00  100.00     0    42\nSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=LAX  flt_no=202\nSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=ORD  flt_no=202\n***** Class History, total demand = 5.32\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    1.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    1.00 |    1    2    1    0    2    0    1    1    1    0    2    1    2    2    2    1    2    1    1    0    1    0    1    0    2    2 \n     2    1.23 |    2    3    1    1    3    0    2    1    1    1    2    1    3    2    2    1    3    1-   2    0    1    1    1    2    2    5 \n     3    0.76 |    2-   3-   1-   3    4    1    3-   2    1-   1-   2-   2    3-   2    2    1    4-   1-   2    0-   1-   1    4-   2-   2-   6 \n     4    0.69 |    2-   3-   1-   3-   5    1-   3-   2-   1-   1-   2-   2    3-   3    3-   1-   4-   1-   2-   0-   1-   1-   4-   2-   2-   6-\n     5    0.63 |    2-   3-   1-   3-   6    1-   3-   2-   1-   1-   2-   3-   3-   3    3-   1-   4-   1-   2-   0-   1-   1-   4-   2-   2-   6-\n     6    0.00 |    2-   3-   1-   3-   6-   1-   3-   2-   1-   1-   2-   3-   3-   4    3-   1-   4-   1-   2-   0-   1-   1-   4-   2-   2-   6-\n     7    0.00 |    2-   3-   1-   3-   6-   1-   3-   2-   1-   1-   2-   3-   3-   4-   3-   1-   4-   1-   2-   0-   1-   1-   4-   2-   2-   6-\n     8    0.00 |    2-   3-   1-   3-   6-   1-   3-   2-   1-   1-   2-   3-   3-   4-   3-   1-   4-   1-   2-   0-   1-   1-   4-   2-   2-   6-\n     9    0.00 |    2-   3-   1-   3-   6-   1-   3-   2-   1-   1-   2-   3-   3-   4-   3-   1-   4-   1-   2-   0-   1-   1-   4-   2-   2-   6-\n    10    0.00 |    2-   3-   1-   3-   6-   1-   3-   2-   1-   1-   2-   3-   3-   4-   3-   1-   4-   1-   2-   0-   1-   1-   4-   2-   2-   6-\n    11    0.00 |    2-   3-   1-   3-   6-   1-   3-   2-   1-   1-   2-   3-   3-   4-   3-   1-   4-   1-   2-   0-   1-   1-   4-   2-   2-   6-\n    12    0.00 |    2-   3-   1-   3-   6-   1-   3-   2-   1-   1-   2-   3-   3-   4-   3-   1-   4-   1-   2-   0-   1-   1-   4-   2-   2-   6-\n    13    0.00 |    2-   3-   1-   3-   6-   1-   3-   2-   1-   1-   2-   3-   3-   4-   3-   1-   4-   1-   2-   0-   1-   1-   4-   2-   2-   6-\n    14    0.00 |    2-   3-   1-   3-   6-   1-   3-   2-   1-   1-   2-   3-   3-   4-   3-   1-   4-   1-   2-   0-   1-   1-   4-   2-   2-   6-\n    15    0.00 |    2-   3-   1-   3-   6-   1-   3-   2-   1-   1-   2-   3-   3-   4-   3-   1-   4-   1-   2-   0-   1-   1-   4-   2-   2-   6-\n    16    0.00 |    2-   3-   1-   3-   6-   1-   3-   2-   1-   1-   2-   3-   3-   4-   3-   1-   4-   1-   2-   0-   1-   1-   4-   2-   2-   6-\n***** Class History, total demand = 4.01\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    1.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    0.00 |    1    0    1    0    0    0    1    1    0    0    0    0    2    0    1    0    0    0    0    0    1    0    0    1    0    1 \n     2    0.66 |    1    0    1    0    0    2    2    1    2    0    0    0    3    0    3    0    0    0    1    0    1    0    1    1    1    1 \n     3    0.43 |    1-   0-   1-   0    0    3    2-   2    3    0-   0-   1    3-   0    3    1    1    0    2    0-   1-   0    1    2-   1-   2 \n     4    0.56 |    1-   0-   1-   0-   1    4-   2-   2    3    0-   0-   1    3-   0    3    1    1-   0-   2-   0-   1-   0-   1-   2-   1-   2-\n     5    0.51 |    1-   0-   1-   0-   2    4-   2-   3-   3    0-   0-   1    3-   0    3-   2    1-   0-   2-   0-   1-   0-   1-   2-   1-   2-\n     6    0.84 |    1-   0-   1-   0-   3    4-   2-   3-   4    0-   0-   1-   3-   0    3-   2    1-   0-   2-   0-   1-   0-   1-   2-   1-   2-\n     7    0.00 |    1-   0-   1-   0-   4    4-   2-   3-   4-   0-   0-   1-   3-   0-   3-   3    1-   0-   2-   0-   1-   0-   1-   2-   1-   2-\n     8    0.00 |    1-   0-   1-   0-   4-   4-   2-   3-   4-   0-   0-   1-   3-   0-   3-   3    1-   0-   2-   0-   1-   0-   1-   2-   1-   2-\n     9    0.00 |    1-   0-   1-   0-   4-   4-   2-   3-   4-   0-   0-   1-   3-   0-   3-   3-   1-   0-   2-   0-   1-   0-   1-   2-   1-   2-\n    10    0.00 |    1-   0-   1-   0-   4-   4-   2-   3-   4-   0-   0-   1-   3-   0-   3-   3-   1-   0-   2-   0-   1-   0-   1-   2-   1-   2-\n    11    0.00 |    1-   0-   1-   0-   4-   4-   2-   3-   4-   0-   0-   1-   3-   0-   3-   3-   1-   0-   2-   0-   1-   0-   1-   2-   1-   2-\n    12    0.00 |    1-   0-   1-   0-   4-   4-   2-   3-   4-   0-   0-   1-   3-   0-   3-   3-   1-   0-   2-   0-   1-   0-   1-   2-   1-   2-\n    13    0.00 |    1-   0-   1-   0-   4-   4-   2-   3-   4-   0-   0-   1-   3-   0-   3-   3-   1-   0-   2-   0-   1-   0-   1-   2-   1-   2-\n    14    0.00 |    1-   0-   1-   0-   4-   4-   2-   3-   4-   0-   0-   1-   3-   0-   3-   3-   1-   0-   2-   0-   1-   0-   1-   2-   1-   2-\n    15    0.00 |    1-   0-   1-   0-   4-   4-   2-   3-   4-   0-   0-   1-   3-   0-   3-   3-   1-   0-   2-   0-   1-   0-   1-   2-   1-   2-\n    16    0.00 |    1-   0-   1-   0-   4-   4-   2-   3-   4-   0-   0-   1-   3-   0-   3-   3-   1-   0-   2-   0-   1-   0-   1-   2-   1-   2-\nTesting the snapshot filters again:  sample=20  dcp=56\nTesting the snapshot filters:  sample=20  dcp=7  orig=BOS  dest=ORD  flt_no=101\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=1.86, contrib=323.14, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.86, contrib=248.14, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.86, contrib=198.14, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.65, contrib=323.35, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.65, contrib=248.35, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.65, contrib=198.35, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.35, contrib=324.65, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.35, contrib=249.65, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.35, contrib=199.65, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.06, contrib=320.94, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.06, contrib=245.94, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.06, contrib=195.94, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=323.14, rev_low=248.14, agg_mu=0.69, agg_sigma=0.65, prot=0.21, auth=80\nClass , sold=0, n=2, mu=0.00, agg_fare=254.65, rev_low=198.14, agg_mu=7.95, agg_sigma=2.31, prot=6.17, auth=79\nClass , sold=0, n=3, mu=0.00, agg_fare=211.28, rev_low=150.00, agg_mu=34.18, agg_sigma=9.59, prot=28.88, auth=73\nClass , sold=0, n=4, mu=0.00, agg_fare=198.28, rev_low=125.00, agg_mu=43.39, agg_sigma=9.87, prot=40.10, auth=51\nClass , sold=0, n=5, mu=0.00, agg_fare=191.00, rev_low=100.00, agg_mu=48.17, agg_sigma=10.03, prot=47.58, auth=39\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.35\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    0.69    323.14     0      0     80\n    BOS-LAX   Y4  250.00    7.26    248.14     1      6     79\n    BOS-LAX   Y5  200.00   26.24    198.14     2     29     73\n    BOS-ORD   Y3  150.00    9.21    150.00     3     40     51\n    BOS-ORD   Y4  125.00    4.78    125.00     4     48     39\n    BOS-ORD   Y5  100.00   14.08    100.00     5      0     32\n    EMSRc, flt=201, \u03bc=47.48, \u03c3=10.01, z=3.25, agg_fare=189.08, cap=100, prob=0.00, emsr_c=0.11\nLeg1: AL2 201: BOS-ORD, bp=15.14, contrib=309.86, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=15.14, contrib=234.86, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=15.14, contrib=184.86, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.60, contrib=324.40, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.60, contrib=249.40, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.60, contrib=199.40, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.11, contrib=324.89, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.11, contrib=249.89, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.11, contrib=199.89, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.52, contrib=322.48, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.52, contrib=247.48, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.52, contrib=197.48, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.11\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    0.69    309.86     0      0     80\n    BOS-LAX   Y4  250.00    7.26    234.86     1      6     79\n    BOS-LAX   Y5  200.00   26.24    184.86     2     29     73\n    BOS-ORD   Y3  150.00    9.21    150.00     3     40     51\n    BOS-ORD   Y4  125.00    4.78    125.00     4     48     39\n    BOS-ORD   Y5  100.00   14.08    100.00     5      0     32\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=309.86, rev_low=234.86, agg_mu=0.69, agg_sigma=0.65, prot=0.24, auth=80\nClass , sold=0, n=2, mu=0.00, agg_fare=241.36, rev_low=184.86, agg_mu=7.95, agg_sigma=2.31, prot=6.27, auth=79\nClass , sold=0, n=3, mu=0.00, agg_fare=197.99, rev_low=150.00, agg_mu=34.18, agg_sigma=9.59, prot=27.48, auth=73\nClass , sold=0, n=4, mu=0.00, agg_fare=187.81, rev_low=125.00, agg_mu=43.39, agg_sigma=9.87, prot=39.16, auth=52\nClass , sold=0, n=5, mu=0.00, agg_fare=181.57, rev_low=100.00, agg_mu=48.17, agg_sigma=10.03, prot=46.89, auth=40\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.11\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    0.69    309.86     0      0     80\n    BOS-LAX   Y4  250.00    7.26    234.86     1      6     79\n    BOS-LAX   Y5  200.00   26.24    184.86     2     27     73\n    BOS-ORD   Y3  150.00    9.21    150.00     3     39     52\n    BOS-ORD   Y4  125.00    4.78    125.00     4     47     40\n    BOS-ORD   Y5  100.00   14.08    100.00     5      0     33\n    EMSRc, flt=201, \u03bc=47.48, \u03c3=10.01, z=3.25, agg_fare=179.71, cap=100, prob=0.00, emsr_c=0.10\nLeg1: AL2 201: BOS-ORD, bp=15.15, contrib=309.85, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=15.15, contrib=234.85, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=15.15, contrib=184.85, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.60, contrib=324.40, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.60, contrib=249.40, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.60, contrib=199.40, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.10, contrib=324.90, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.10, contrib=249.90, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.10, contrib=199.90, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.53, contrib=322.47, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.53, contrib=247.47, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.53, contrib=197.47, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.10\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    0.69    309.85     0      0     80\n    BOS-LAX   Y4  250.00    7.26    234.85     1      6     79\n    BOS-LAX   Y5  200.00   26.24    184.85     2     27     73\n    BOS-ORD   Y3  150.00    9.21    150.00     3     39     52\n    BOS-ORD   Y4  125.00    4.78    125.00     4     47     40\n    BOS-ORD   Y5  100.00   14.08    100.00     5      0     33\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=309.85, rev_low=234.85, agg_mu=0.69, agg_sigma=0.65, prot=0.24, auth=80\nClass , sold=0, n=2, mu=0.00, agg_fare=241.35, rev_low=184.85, agg_mu=7.95, agg_sigma=2.31, prot=6.27, auth=79\nClass , sold=0, n=3, mu=0.00, agg_fare=197.98, rev_low=150.00, agg_mu=34.18, agg_sigma=9.59, prot=27.48, auth=73\nClass , sold=0, n=4, mu=0.00, agg_fare=187.80, rev_low=125.00, agg_mu=43.39, agg_sigma=9.87, prot=39.16, auth=52\nClass , sold=0, n=5, mu=0.00, agg_fare=181.56, rev_low=100.00, agg_mu=48.17, agg_sigma=10.03, prot=46.89, auth=40\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.10\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    0.69    309.85     0      0     80\n    BOS-LAX   Y4  250.00    7.26    234.85     1      6     79\n    BOS-LAX   Y5  200.00   26.24    184.85     2     27     73\n    BOS-ORD   Y3  150.00    9.21    150.00     3     39     52\n    BOS-ORD   Y4  125.00    4.78    125.00     4     47     40\n    BOS-ORD   Y5  100.00   14.08    100.00     5      0     33\n    EMSRc, flt=201, \u03bc=47.48, \u03c3=10.01, z=3.25, agg_fare=179.70, cap=100, prob=0.00, emsr_c=0.10\nLeg1: AL2 201: BOS-ORD, bp=15.15, contrib=309.85, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=15.15, contrib=234.85, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=15.15, contrib=184.85, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.60, contrib=324.40, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.60, contrib=249.40, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.60, contrib=199.40, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.10, contrib=324.90, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.10, contrib=249.90, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.10, contrib=199.90, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.53, contrib=322.47, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.53, contrib=247.47, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.53, contrib=197.47, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.10\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    0.69    309.85     0      0     80\n    BOS-LAX   Y4  250.00    7.26    234.85     1      6     79\n    BOS-LAX   Y5  200.00   26.24    184.85     2     27     73\n    BOS-ORD   Y3  150.00    9.21    150.00     3     39     52\n    BOS-ORD   Y4  125.00    4.78    125.00     4     47     40\n    BOS-ORD   Y5  100.00   14.08    100.00     5      0     33\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 81, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    19\n    Y1     6  625.00   11.64    4.49  300.00    10    19\n    Y2    10  425.00    7.58    3.59  200.00    18     9\n    Y3    42  266.67    0.00    0.00  150.00    20     0\n    Y4     9  180.56    0.00    0.00  125.00    21     0\n    Y5    14  100.00    0.00    0.00  100.00     0     0\nTesting the snapshot filters again:  sample=30  dcp=56\nTesting the snapshot filters:  sample=30  dcp=7  orig=BOS  dest=ORD  flt_no=101\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=3.99, contrib=321.01, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.99, contrib=246.01, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.99, contrib=196.01, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.98, contrib=324.02, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.98, contrib=249.02, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.98, contrib=199.02, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.63, contrib=324.37, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.63, contrib=249.37, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.63, contrib=199.37, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.66, contrib=323.34, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.66, contrib=248.34, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.66, contrib=198.34, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=321.01, rev_low=246.01, agg_mu=1.18, agg_sigma=0.74, prot=0.64, auth=81\nClass , sold=0, n=2, mu=0.00, agg_fare=256.09, rev_low=196.01, agg_mu=8.78, agg_sigma=2.34, prot=7.09, auth=80\nClass , sold=0, n=3, mu=0.00, agg_fare=212.03, rev_low=150.00, agg_mu=32.95, agg_sigma=11.01, prot=26.94, auth=73\nClass , sold=0, n=4, mu=0.00, agg_fare=200.77, rev_low=125.00, agg_mu=40.26, agg_sigma=11.20, prot=36.76, auth=54\nClass , sold=0, n=5, mu=0.00, agg_fare=193.02, rev_low=100.00, agg_mu=44.85, agg_sigma=11.34, prot=44.33, auth=44\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 19, bid_price = 0.63\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.18    321.01     0      1     81\n    BOS-LAX   Y4  250.00    7.60    246.01     1      7     80\n    BOS-LAX   Y5  200.00   24.17    196.01     2     27     73\n    BOS-ORD   Y3  150.00    7.31    150.00     3     37     54\n    BOS-ORD   Y4  125.00    4.59    125.00     4     44     44\n    BOS-ORD   Y5  100.00   10.96    100.00     5      0     37\n    EMSRc, flt=201, \u03bc=44.85, \u03c3=11.34, z=3.19, agg_fare=193.02, cap=100, prob=0.00, emsr_c=0.14\nLeg1: AL2 201: BOS-ORD, bp=3.62, contrib=321.38, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.62, contrib=246.38, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.62, contrib=196.38, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.09, contrib=324.91, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.09, contrib=249.91, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.09, contrib=199.91, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=324.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=249.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=199.86, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.23, contrib=324.77, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.23, contrib=249.77, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.23, contrib=199.77, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 19, bid_price = 0.14\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.18    321.38     0      1     81\n    BOS-LAX   Y4  250.00    7.60    246.38     1      7     80\n    BOS-LAX   Y5  200.00   24.17    196.38     2     27     73\n    BOS-ORD   Y3  150.00    7.31    150.00     3     37     54\n    BOS-ORD   Y4  125.00    4.59    125.00     4     44     44\n    BOS-ORD   Y5  100.00   10.96    100.00     5      0     37\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=321.38, rev_low=246.38, agg_mu=1.18, agg_sigma=0.74, prot=0.64, auth=81\nClass , sold=0, n=2, mu=0.00, agg_fare=256.45, rev_low=196.38, agg_mu=8.78, agg_sigma=2.34, prot=7.09, auth=80\nClass , sold=0, n=3, mu=0.00, agg_fare=212.39, rev_low=150.00, agg_mu=32.95, agg_sigma=11.01, prot=26.98, auth=73\nClass , sold=0, n=4, mu=0.00, agg_fare=201.07, rev_low=125.00, agg_mu=40.26, agg_sigma=11.20, prot=36.79, auth=54\nClass , sold=0, n=5, mu=0.00, agg_fare=193.29, rev_low=100.00, agg_mu=44.85, agg_sigma=11.34, prot=44.35, auth=44\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 19, bid_price = 0.14\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.18    321.38     0      1     81\n    BOS-LAX   Y4  250.00    7.60    246.38     1      7     80\n    BOS-LAX   Y5  200.00   24.17    196.38     2     27     73\n    BOS-ORD   Y3  150.00    7.31    150.00     3     37     54\n    BOS-ORD   Y4  125.00    4.59    125.00     4     44     44\n    BOS-ORD   Y5  100.00   10.96    100.00     5      0     37\n    EMSRc, flt=201, \u03bc=44.85, \u03c3=11.34, z=3.19, agg_fare=193.29, cap=100, prob=0.00, emsr_c=0.14\nLeg1: AL2 201: BOS-ORD, bp=3.63, contrib=321.37, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.63, contrib=246.37, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.63, contrib=196.37, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.09, contrib=324.91, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.09, contrib=249.91, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.09, contrib=199.91, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=324.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=249.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=199.86, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.23, contrib=324.77, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.23, contrib=249.77, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.23, contrib=199.77, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 19, bid_price = 0.14\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.18    321.37     0      1     81\n    BOS-LAX   Y4  250.00    7.60    246.37     1      7     80\n    BOS-LAX   Y5  200.00   24.17    196.37     2     27     73\n    BOS-ORD   Y3  150.00    7.31    150.00     3     37     54\n    BOS-ORD   Y4  125.00    4.59    125.00     4     44     44\n    BOS-ORD   Y5  100.00   10.96    100.00     5      0     37\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=321.37, rev_low=246.37, agg_mu=1.18, agg_sigma=0.74, prot=0.64, auth=81\nClass , sold=0, n=2, mu=0.00, agg_fare=256.45, rev_low=196.37, agg_mu=8.78, agg_sigma=2.34, prot=7.09, auth=80\nClass , sold=0, n=3, mu=0.00, agg_fare=212.39, rev_low=150.00, agg_mu=32.95, agg_sigma=11.01, prot=26.98, auth=73\nClass , sold=0, n=4, mu=0.00, agg_fare=201.06, rev_low=125.00, agg_mu=40.26, agg_sigma=11.20, prot=36.79, auth=54\nClass , sold=0, n=5, mu=0.00, agg_fare=193.28, rev_low=100.00, agg_mu=44.85, agg_sigma=11.34, prot=44.35, auth=44\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 19, bid_price = 0.14\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.18    321.37     0      1     81\n    BOS-LAX   Y4  250.00    7.60    246.37     1      7     80\n    BOS-LAX   Y5  200.00   24.17    196.37     2     27     73\n    BOS-ORD   Y3  150.00    7.31    150.00     3     37     54\n    BOS-ORD   Y4  125.00    4.59    125.00     4     44     44\n    BOS-ORD   Y5  100.00   10.96    100.00     5      0     37\n    EMSRc, flt=201, \u03bc=44.85, \u03c3=11.34, z=3.19, agg_fare=193.28, cap=100, prob=0.00, emsr_c=0.14\nLeg1: AL2 201: BOS-ORD, bp=3.63, contrib=321.37, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.63, contrib=246.37, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.63, contrib=196.37, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.09, contrib=324.91, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.09, contrib=249.91, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.09, contrib=199.91, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=324.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=249.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=199.86, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.23, contrib=324.77, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.23, contrib=249.77, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.23, contrib=199.77, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 19, bid_price = 0.14\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.18    321.37     0      1     81\n    BOS-LAX   Y4  250.00    7.60    246.37     1      7     80\n    BOS-LAX   Y5  200.00   24.17    196.37     2     27     73\n    BOS-ORD   Y3  150.00    7.31    150.00     3     37     54\n    BOS-ORD   Y4  125.00    4.59    125.00     4     44     44\n    BOS-ORD   Y5  100.00   10.96    100.00     5      0     37\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 62, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    38\n    Y1     0    0.00   14.26    5.28  300.00    12    38\n    Y2     0    0.00    9.05    3.53  200.00    22    26\n    Y3    33  261.36    0.00    0.00  150.00    24    15\n    Y4    16  195.31    0.00    0.00  125.00    25    14\n    Y5    13  100.00    0.00    0.00  100.00     0    13\nSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=LAX  flt_no=202\nSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=ORD  flt_no=202\n***** Class History, total demand = 4.57\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    0.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    1.00 |    0    1    1    1    0    3    1    0    0    0    0    1    0    0    0    1    2    0    3    0    1    2    1    3    1    1 \n     2    1.00 |    1    1    2    2    1    3    1    0    0    0    0    3    2    1    0    1    4-   3-   5    0    2    3    3    4    1    1 \n     3    0.59 |    2    2-   2    2    2    3    1-   0    0    3-   0-   4-   3    2-   0    2    4-   3-   7-   1    3    5    3-   4-   2    1 \n     4    0.69 |    2-   2-   2-   2    2    4-   1-   0    1-   3-   0-   4-   3-   2-   1-   2    4-   3-   7-   1-   3-   5-   3-   4-   3    1 \n     5    0.00 |    2-   2-   2-   2-   2-   4-   1-   1-   1-   3-   0-   4-   3-   2-   1-   2    4-   3-   7-   1-   3-   5-   3-   4-   3-   2 \n     6    0.00 |    2-   2-   2-   2-   2-   4-   1-   1-   1-   3-   0-   4-   3-   2-   1-   2-   4-   3-   7-   1-   3-   5-   3-   4-   3-   2 \n     7    0.00 |    2-   2-   2-   2-   2-   4-   1-   1-   1-   3-   0-   4-   3-   2-   1-   2-   4-   3-   7-   1-   3-   5-   3-   4-   3-   2 \n     8    1.29 |    2-   2-   2-   2-   2-   4-   1-   1-   1-   3-   0-   4-   3-   2-   1-   2-   4-   3-   7-   1-   3-   5-   3-   4-   3-   2 \n     9    0.00 |    2-   2-   2-   2-   2-   4-   1-   1-   1-   3-   0-   4-   3-   2-   1-   2-   4-   3-   7-   1-   3-   5-   3-   4-   3-   3-\n    10    0.00 |    2-   2-   2-   2-   2-   4-   1-   1-   1-   3-   0-   4-   3-   2-   1-   2-   4-   3-   7-   1-   3-   5-   3-   4-   3-   3-\n    11    0.00 |    2-   2-   2-   2-   2-   4-   1-   1-   1-   3-   0-   4-   3-   2-   1-   2-   4-   3-   7-   1-   3-   5-   3-   4-   3-   3-\n    12    0.00 |    2-   2-   2-   2-   2-   4-   1-   1-   1-   3-   0-   4-   3-   2-   1-   2-   4-   3-   7-   1-   3-   5-   3-   4-   3-   3-\n    13    0.00 |    2-   2-   2-   2-   2-   4-   1-   1-   1-   3-   0-   4-   3-   2-   1-   2-   4-   3-   7-   1-   3-   5-   3-   4-   3-   3-\n    14    0.00 |    2-   2-   2-   2-   2-   4-   1-   1-   1-   3-   0-   4-   3-   2-   1-   2-   4-   3-   7-   1-   3-   5-   3-   4-   3-   3-\n    15    0.00 |    2-   2-   2-   2-   2-   4-   1-   1-   1-   3-   0-   4-   3-   2-   1-   2-   4-   3-   7-   1-   3-   5-   3-   4-   3-   3-\n    16    0.00 |    2-   2-   2-   2-   2-   4-   1-   1-   1-   3-   0-   4-   3-   2-   1-   2-   4-   3-   7-   1-   3-   5-   3-   4-   3-   3-\n***** Class History, total demand = 5.01\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    0.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    0.00 |    0    1    1    0    0    0    0    1    0    0    1    0    2    1    2    0    0    0    1    0    0    0    0    1    0    0 \n     2    0.00 |    0    1    1    1    0    2    0    1    0    0    1-   0    2    1    3    0    0    0-   1    0    0    0    1    1    1    0 \n     3    0.00 |    0    2    2    1    1    3    0-   1    0    0    1-   0    3    1-   3    0    0-   0-   2-   1    0    1    1-   2    1    1 \n     4    0.57 |    0    2    2    2    1    3-   0-   1    1    0-   1-   1-   3-   1-   4    2    0-   0-   2-   1    0    2-   1-   3-   2    1 \n     5    0.47 |    0-   2-   2    3-   1    3-   0-   1-   1    0-   1-   1-   3-   1-   4    2-   0-   0-   2-   2    1    2-   1-   3-   3-   1 \n     6    0.33 |    0-   2-   2    3-   1-   3-   0-   1-   1    0-   1-   1-   3-   1-   5-   2-   0-   0-   2-   3    1    2-   1-   3-   3-   1 \n     7    0.33 |    0-   2-   3    3-   1-   3-   0-   1-   1    0-   1-   1-   3-   1-   5-   2-   0-   0-   2-   3    1-   2-   1-   3-   3-   1 \n     8    0.33 |    0-   2-   3    3-   1-   3-   0-   1-   1    0-   1-   1-   3-   1-   5-   2-   0-   0-   2-   4    1-   2-   1-   3-   3-   1 \n     9    0.51 |    0-   2-   3    3-   1-   3-   0-   1-   2    0-   1-   1-   3-   1-   5-   2-   0-   0-   2-   4    1-   2-   1-   3-   3-   1 \n    10    0.79 |    0-   2-   3    3-   1-   3-   0-   1-   3    0-   1-   1-   3-   1-   5-   2-   0-   0-   2-   4    1-   2-   1-   3-   3-   2 \n    11    1.68 |    0-   2-   3    3-   1-   3-   0-   1-   4    0-   1-   1-   3-   1-   5-   2-   0-   0-   2-   4    1-   2-   1-   3-   3-   4 \n    12    0.00 |    0-   2-   3    3-   1-   3-   0-   1-   5    0-   1-   1-   3-   1-   5-   2-   0-   0-   2-   5-   1-   2-   1-   3-   3-   8 \n    13    0.00 |    0-   2-   3    3-   1-   3-   0-   1-   5    0-   1-   1-   3-   1-   5-   2-   0-   0-   2-   5-   1-   2-   1-   3-   3-   8 \n    14    0.00 |    0-   2-   3    3-   1-   3-   0-   1-   5    0-   1-   1-   3-   1-   5-   2-   0-   0-   2-   5-   1-   2-   1-   3-   3-   8 \n    15    0.00 |    0-   2-   3    3-   1-   3-   0-   1-   5    0-   1-   1-   3-   1-   5-   2-   0-   0-   2-   5-   1-   2-   1-   3-   3-   8 \n    16    0.00 |    0-   2-   3    3-   1-   3-   0-   1-   5    0-   1-   1-   3-   1-   5-   2-   0-   0-   2-   5-   1-   2-   1-   3-   3-   8 \nTesting the snapshot filters again:  sample=20  dcp=56\nTesting the snapshot filters:  sample=20  dcp=7  orig=BOS  dest=ORD  flt_no=101\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=3.06, contrib=321.94, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.06, contrib=246.94, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.06, contrib=196.94, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.74, contrib=321.26, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.74, contrib=246.26, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.74, contrib=196.26, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=1.14, contrib=323.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=1.14, contrib=248.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=1.14, contrib=198.86, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=6.76, contrib=318.24, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=6.76, contrib=243.24, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=6.76, contrib=193.24, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=321.94, rev_low=246.94, agg_mu=4.62, agg_sigma=1.14, prot=3.79, auth=75\nClass , sold=0, n=2, mu=0.00, agg_fare=273.41, rev_low=196.94, agg_mu=13.09, agg_sigma=2.86, prot=11.43, auth=71\nClass , sold=0, n=3, mu=0.00, agg_fare=221.33, rev_low=150.00, agg_mu=41.06, agg_sigma=9.75, prot=36.56, auth=63\nClass , sold=0, n=4, mu=0.00, agg_fare=210.21, rev_low=125.00, agg_mu=48.64, agg_sigma=9.99, prot=46.25, auth=38\nClass , sold=0, n=5, mu=0.00, agg_fare=204.09, rev_low=100.00, agg_mu=52.41, agg_sigma=10.13, prot=52.66, auth=28\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 25, bid_price = 1.14\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.62    321.94     0      4     75\n    BOS-LAX   Y4  250.00    8.47    246.94     1     11     71\n    BOS-LAX   Y5  200.00   27.96    196.94     2     37     63\n    BOS-ORD   Y3  150.00    7.58    150.00     3     46     38\n    BOS-ORD   Y4  125.00    3.76    125.00     4     53     28\n    BOS-ORD   Y5  100.00   12.79    100.00     5      0     22\n    EMSRc, flt=201, \u03bc=52.41, \u03c3=10.13, z=2.23, agg_fare=204.09, cap=100, prob=0.01, emsr_c=2.63\nLeg1: AL2 201: BOS-ORD, bp=3.77, contrib=321.23, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.77, contrib=246.23, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.77, contrib=196.23, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=11.40, contrib=313.60, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=11.40, contrib=238.60, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=11.40, contrib=188.60, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.63, contrib=322.37, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.63, contrib=247.37, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.63, contrib=197.37, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=24.07, contrib=300.93, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=24.07, contrib=225.93, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=24.07, contrib=175.93, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 25, bid_price = 2.63\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.62    321.23     0      4     75\n    BOS-LAX   Y4  250.00    8.47    246.23     1     11     71\n    BOS-LAX   Y5  200.00   27.96    196.23     2     37     63\n    BOS-ORD   Y3  150.00    7.58    150.00     3     46     38\n    BOS-ORD   Y4  125.00    3.76    125.00     4     53     28\n    BOS-ORD   Y5  100.00   12.79    100.00     5      0     22\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=321.23, rev_low=246.23, agg_mu=4.62, agg_sigma=1.14, prot=3.79, auth=75\nClass , sold=0, n=2, mu=0.00, agg_fare=272.69, rev_low=196.23, agg_mu=13.09, agg_sigma=2.86, prot=11.43, auth=71\nClass , sold=0, n=3, mu=0.00, agg_fare=220.61, rev_low=150.00, agg_mu=41.06, agg_sigma=9.75, prot=36.50, auth=63\nClass , sold=0, n=4, mu=0.00, agg_fare=209.60, rev_low=125.00, agg_mu=48.64, agg_sigma=9.99, prot=46.21, auth=38\nClass , sold=0, n=5, mu=0.00, agg_fare=203.53, rev_low=100.00, agg_mu=52.41, agg_sigma=10.13, prot=52.63, auth=28\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 25, bid_price = 2.63\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.62    321.23     0      4     75\n    BOS-LAX   Y4  250.00    8.47    246.23     1     11     71\n    BOS-LAX   Y5  200.00   27.96    196.23     2     36     63\n    BOS-ORD   Y3  150.00    7.58    150.00     3     46     38\n    BOS-ORD   Y4  125.00    3.76    125.00     4     53     28\n    BOS-ORD   Y5  100.00   12.79    100.00     5      0     22\n    EMSRc, flt=201, \u03bc=52.41, \u03c3=10.13, z=2.23, agg_fare=203.53, cap=100, prob=0.01, emsr_c=2.62\nLeg1: AL2 201: BOS-ORD, bp=3.76, contrib=321.24, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.76, contrib=246.24, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.76, contrib=196.24, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.82, contrib=314.18, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.82, contrib=239.18, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.82, contrib=189.18, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.62, contrib=322.38, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.62, contrib=247.38, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.62, contrib=197.38, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=23.41, contrib=301.59, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=23.41, contrib=226.59, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=23.41, contrib=176.59, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 25, bid_price = 2.62\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.62    321.24     0      4     75\n    BOS-LAX   Y4  250.00    8.47    246.24     1     11     71\n    BOS-LAX   Y5  200.00   27.96    196.24     2     36     63\n    BOS-ORD   Y3  150.00    7.58    150.00     3     46     38\n    BOS-ORD   Y4  125.00    3.76    125.00     4     53     28\n    BOS-ORD   Y5  100.00   12.79    100.00     5      0     22\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=321.24, rev_low=246.24, agg_mu=4.62, agg_sigma=1.14, prot=3.79, auth=75\nClass , sold=0, n=2, mu=0.00, agg_fare=272.71, rev_low=196.24, agg_mu=13.09, agg_sigma=2.86, prot=11.43, auth=71\nClass , sold=0, n=3, mu=0.00, agg_fare=220.63, rev_low=150.00, agg_mu=41.06, agg_sigma=9.75, prot=36.50, auth=63\nClass , sold=0, n=4, mu=0.00, agg_fare=209.62, rev_low=125.00, agg_mu=48.64, agg_sigma=9.99, prot=46.21, auth=38\nClass , sold=0, n=5, mu=0.00, agg_fare=203.54, rev_low=100.00, agg_mu=52.41, agg_sigma=10.13, prot=52.63, auth=28\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 25, bid_price = 2.62\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.62    321.24     0      4     75\n    BOS-LAX   Y4  250.00    8.47    246.24     1     11     71\n    BOS-LAX   Y5  200.00   27.96    196.24     2     37     63\n    BOS-ORD   Y3  150.00    7.58    150.00     3     46     38\n    BOS-ORD   Y4  125.00    3.76    125.00     4     53     28\n    BOS-ORD   Y5  100.00   12.79    100.00     5      0     22\n    EMSRc, flt=201, \u03bc=52.41, \u03c3=10.13, z=2.23, agg_fare=203.54, cap=100, prob=0.01, emsr_c=2.62\nLeg1: AL2 201: BOS-ORD, bp=3.76, contrib=321.24, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.76, contrib=246.24, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=3.76, contrib=196.24, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.84, contrib=314.16, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.84, contrib=239.16, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.84, contrib=189.16, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.62, contrib=322.38, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.62, contrib=247.38, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.62, contrib=197.38, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=23.46, contrib=301.54, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=23.46, contrib=226.54, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=23.46, contrib=176.54, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 25, bid_price = 2.62\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.62    321.24     0      4     75\n    BOS-LAX   Y4  250.00    8.47    246.24     1     11     71\n    BOS-LAX   Y5  200.00   27.96    196.24     2     37     63\n    BOS-ORD   Y3  150.00    7.58    150.00     3     46     38\n    BOS-ORD   Y4  125.00    3.76    125.00     4     53     28\n    BOS-ORD   Y5  100.00   12.79    100.00     5      0     22\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 95, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0     5\n    Y1    13  425.00   13.36    4.45  300.00    11     5\n    Y2    15  316.67   10.07    2.91  200.00    22     0\n    Y3    27  260.19    0.00    0.00  150.00    24     0\n    Y4    22  204.55    0.00    0.00  125.00    25     0\n    Y5    18  100.00    0.00    0.00  100.00     0     0\nTesting the snapshot filters again:  sample=30  dcp=56\nTesting the snapshot filters:  sample=30  dcp=7  orig=BOS  dest=ORD  flt_no=101\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=0.61, contrib=324.39, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.61, contrib=249.39, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.61, contrib=199.39, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.22, contrib=323.78, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.22, contrib=248.78, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.22, contrib=198.78, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.46, contrib=324.54, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.46, contrib=249.54, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.46, contrib=199.54, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=3.92, contrib=321.08, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=3.92, contrib=246.08, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=3.92, contrib=196.08, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.39, rev_low=249.39, agg_mu=4.21, agg_sigma=1.28, prot=3.28, auth=72\nClass , sold=0, n=2, mu=0.00, agg_fare=275.10, rev_low=199.39, agg_mu=12.29, agg_sigma=2.69, prot=10.68, auth=68\nClass , sold=0, n=3, mu=0.00, agg_fare=224.39, rev_low=150.00, agg_mu=37.21, agg_sigma=9.98, prot=32.86, auth=61\nClass , sold=0, n=4, mu=0.00, agg_fare=213.27, rev_low=125.00, agg_mu=43.75, agg_sigma=10.13, prot=41.55, auth=39\nClass , sold=0, n=5, mu=0.00, agg_fare=205.02, rev_low=100.00, agg_mu=48.26, agg_sigma=10.24, prot=48.58, auth=30\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 28, bid_price = 0.46\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.21    324.39     0      3     72\n    BOS-LAX   Y4  250.00    8.08    249.39     1     11     68\n    BOS-LAX   Y5  200.00   24.92    199.39     2     33     61\n    BOS-ORD   Y3  150.00    6.54    150.00     3     42     39\n    BOS-ORD   Y4  125.00    4.51    125.00     4     49     30\n    BOS-ORD   Y5  100.00   12.26    100.00     5      0     23\n    EMSRc, flt=201, \u03bc=48.26, \u03c3=10.24, z=2.32, agg_fare=205.02, cap=100, prob=0.01, emsr_c=2.10\nLeg1: AL2 201: BOS-ORD, bp=37.07, contrib=287.93, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=37.07, contrib=212.93, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=37.07, contrib=162.93, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.48, contrib=318.52, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.48, contrib=243.52, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.48, contrib=193.52, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.10, contrib=322.90, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.10, contrib=247.90, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.10, contrib=197.90, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=18.03, contrib=306.97, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=18.03, contrib=231.97, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=18.03, contrib=181.97, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 28, bid_price = 2.10\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.Snapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=LAX  flt_no=202\nSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=ORD  flt_no=202\n21    287.93     0      3     72\n    BOS-LAX   Y4  250.00    8.08    212.93     1     11     68\n    BOS-LAX   Y5  200.00   24.92    162.93     2     33     61\n    BOS-ORD   Y3  150.00    6.54    150.00     3     42     39\n    BOS-ORD   Y4  125.00    4.51    125.00     4     49     30\n    BOS-ORD   Y5  100.00   12.26    100.00     5      0     23\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=287.93, rev_low=212.93, agg_mu=4.21, agg_sigma=1.28, prot=3.39, auth=72\nClass , sold=0, n=2, mu=0.00, agg_fare=238.64, rev_low=162.93, agg_mu=12.29, agg_sigma=2.69, prot=11.01, auth=68\nClass , sold=0, n=3, mu=0.00, agg_fare=187.94, rev_low=150.00, agg_mu=37.21, agg_sigma=9.98, prot=28.88, auth=60\nClass , sold=0, n=4, mu=0.00, agg_fare=182.26, rev_low=125.00, agg_mu=43.75, agg_sigma=10.13, prot=38.85, auth=43\nClass , sold=0, n=5, mu=0.00, agg_fare=176.91, rev_low=100.00, agg_mu=48.26, agg_sigma=10.24, prot=46.58, auth=33\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 28, bid_price = 2.10\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.21    287.93     0      3     72\n    BOS-LAX   Y4  250.00    8.08    212.93     1     11     68\n    BOS-LAX   Y5  200.00   24.92    162.93     2     29     60\n    BOS-ORD   Y3  150.00    6.54    150.00     3     39     43\n    BOS-ORD   Y4  125.00    4.51    125.00     4     47     33\n    BOS-ORD   Y5  100.00   12.26    100.00     5      0     25\n    EMSRc, flt=201, \u03bc=48.26, \u03c3=10.24, z=2.32, agg_fare=176.91, cap=100, prob=0.01, emsr_c=1.81\nLeg1: AL2 201: BOS-ORD, bp=36.91, contrib=288.09, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=36.91, contrib=213.09, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=36.91, contrib=163.09, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.21, contrib=318.79, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.21, contrib=243.79, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.21, contrib=193.79, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=1.81, contrib=323.19, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=1.81, contrib=248.19, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=1.81, contrib=198.19, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=17.70, contrib=307.30, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=17.70, contrib=232.30, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=17.70, contrib=182.30, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 28, bid_price = 1.81\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.21    288.09     0      3     72\n    BOS-LAX   Y4  250.00    8.08    213.09     1     11     68\n    BOS-LAX   Y5  200.00   24.92    163.09     2     29     60\n    BOS-ORD   Y3  150.00    6.54    150.00     3     39     43\n    BOS-ORD   Y4  125.00    4.51    125.00     4     47     33\n    BOS-ORD   Y5  100.00   12.26    100.00     5      0     25\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=288.09, rev_low=213.09, agg_mu=4.21, agg_sigma=1.28, prot=3.39, auth=72\nClass , sold=0, n=2, mu=0.00, agg_fare=238.80, rev_low=163.09, agg_mu=12.29, agg_sigma=2.69, prot=11.01, auth=68\nClass , sold=0, n=3, mu=0.00, agg_fare=188.10, rev_low=150.00, agg_mu=37.21, agg_sigma=9.98, prot=28.90, auth=60\nClass , sold=0, n=4, mu=0.00, agg_fare=182.40, rev_low=125.00, agg_mu=43.75, agg_sigma=10.13, prot=38.87, auth=43\nClass , sold=0, n=5, mu=0.00, agg_fare=177.04, rev_low=100.00, agg_mu=48.26, agg_sigma=10.24, prot=46.59, auth=33\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 28, bid_price = 1.81\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.21    288.09     0      3     72\n    BOS-LAX   Y4  250.00    8.08    213.09     1     11     68\n    BOS-LAX   Y5  200.00   24.92    163.09     2     29     60\n    BOS-ORD   Y3  150.00    6.54    150.00     3     39     43\n    BOS-ORD   Y4  125.00    4.51    125.00     4     47     33\n    BOS-ORD   Y5  100.00   12.26    100.00     5      0     25\n    EMSRc, flt=201, \u03bc=48.26, \u03c3=10.24, z=2.32, agg_fare=177.04, cap=100, prob=0.01, emsr_c=1.81\nLeg1: AL2 201: BOS-ORD, bp=36.94, contrib=288.06, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=36.94, contrib=213.06, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=36.94, contrib=163.06, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.22, contrib=318.78, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.22, contrib=243.78, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.22, contrib=193.78, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=1.81, contrib=323.19, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=1.81, contrib=248.19, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=1.81, contrib=198.19, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=17.72, contrib=307.28, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=17.72, contrib=232.28, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=17.72, contrib=182.28, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 28, bid_price = 1.81\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.21    288.06     0      3     72\n    BOS-LAX   Y4  250.00    8.08    213.06     1     11     68\n    BOS-LAX   Y5  200.00   24.92    163.06     2     29     60\n    BOS-ORD   Y3  150.00    6.54    150.00     3     39     43\n    BOS-ORD   Y4  125.00    4.51    125.00     4     47     33\n    BOS-ORD   Y5  100.00   12.26    100.00     5      0     25\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 94, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0     6\n    Y1    14  532.14   13.43    4.56  300.00    11     6\n    Y2    14  378.57    7.68    2.59  200.00    20     0\n    Y3    32  292.19    0.00    0.00  150.00    21     0\n    Y4    13  192.31    0.00    0.00  125.00    23     0\n    Y5    21  100.00    0.00    0.00  100.00     0     0\n***** Class History, total demand = 2.00\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    0.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    0.00 |    0    0    0    0    1    1    1    0    0    0    0    0    2    0    0    1    1    0    1    0    0    1    0    1    0    0 \n     2    0.00 |    0    0    2    1    1    1    3    2    0    1    0    1    2    1    1    2    2    0    2    0    1    1    1    2    1    3 \n     3    2.00 |    0    0    2    3    1-   1    4    3    0    1    0-   3    2-   2    1    3    3-   1    3    0    1    2    1    3-   1    3 \n     4    0.00 |    2    0-   2-   4-   1-   1-   4-   3-   0    1-   0-   5-   2-   2-   1-   3-   3-   1    3-   0-   2    2-   1    3-   2-   5 \n     5    0.00 |    2-   0-   2-   4-   1-   1-   4-   3-   0-   1-   0-   5-   2-   2-   1-   3-   3-   1-   3-   0-   2-   2-   1-   3-   2-   5 \n     6    0.00 |    2-   0-   2-   4-   1-   1-   4-   3-   0-   1-   0-   5-   2-   2-   1-   3-   3-   1-   3-   0-   2-   2-   1-   3-   2-   5 \n     7    0.00 |    2-   0-   2-   4-   1-   1-   4-   3-   0-   1-   0-   5-   2-   2-   1-   3-   3-   1-   3-   0-   2-   2-   1-   3-   2-   5-\n     8    0.00 |    2-   0-   2-   4-   1-   1-   4-   3-   0-   1-   0-   5-   2-   2-   1-   3-   3-   1-   3-   0-   2-   2-   1-   3-   2-   5-\n     9    0.00 |    2-   0-   2-   4-   1-   1-   4-   3-   0-   1-   0-   5-   2-   2-   1-   3-   3-   1-   3-   0-   2-   2-   1-   3-   2-   5-\n    10    0.00 |    2-   0-   2-   4-   1-   1-   4-   3-   0-   1-   0-   5-   2-   2-   1-   3-   3-   1-   3-   0-   2-   2-   1-   3-   2-   5-\n    11    0.00 |    2-   0-   2-   4-   1-   1-   4-   3-   0-   1-   0-   5-   2-   2-   1-   3-   3-   1-   3-   0-   2-   2-   1-   3-   2-   5-\n    12    0.00 |    2-   0-   2-   4-   1-   1-   4-   3-   0-   1-   0-   5-   2-   2-   1-   3-   3-   1-   3-   0-   2-   2-   1-   3-   2-   5-\n    13    0.00 |    2-   0-   2-   4-   1-   1-   4-   3-   0-   1-   0-   5-   2-   2-   1-   3-   3-   1-   3-   0-   2-   2-   1-   3-   2-   5-\n    14    0.00 |    2-   0-   2-   4-   1-   1-   4-   3-   0-   1-   0-   5-   2-   2-   1-   3-   3-   1-   3-   0-   2-   2-   1-   3-   2-   5-\n    15    0.00 |    2-   0-   2-   4-   1-   1-   4-   3-   0-   1-   0-   5-   2-   2-   1-   3-   3-   1-   3-   0-   2-   2-   1-   3-   2-   5-\n    16    0.00 |    2-   0-   2-   4-   1-   1-   4-   3-   0-   1-   0-   5-   2-   2-   1-   3-   3-   1-   3-   0-   2-   2-   1-   3-   2-   5-\n***** Class History, total demand = 5.69\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    1.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    0.00 |    1    0    0    0    0    0    0    0    0    0    1    0    0    0    0    1    0    2    1    0    0    0    0    2    1    0 \n     2    0.00 |    1    0    2    0    0    0    0    0    1    1    1    0    0    0    1    2    1    3    1    0    0    0    0    3    1    0 \n     3    0.00 |    1    1    2    1    0-   0    0    1    1    1    1    2    0-   0    1-   2    2    5    1-   0    0    1    0    3-   2    0 \n     4    0.00 |    1    1-   2    2-   0-   0    0    2    1    1-   2    3    0-   0    1-   4-   2    7-   1-   0-   0    1-   1    3-   2    0 \n     5    0.27 |    1-   1-   2-   2-   0-   0    0    2    1    1-   2-   3-   0-   0-   1-   4-   2    7-   1-   0-   0    1-   1    3-   2-   0 \n     6    0.56 |    1-   1-   2-   2-   0-   0    0    2    1    1-   2-   3-   0-   0-   1-   4-   2    7-   1-   0-   1    1-   1    3-   2-   0 \n     7    0.84 |    1-   1-   2-   2-   0-   0-   0    3-   1-   1-   2-   3-   0-   0-   1-   4-   2    7-   1-   0-   1-   1-   2    3-   2-   0-\n     8    0.45 |    1-   1-   2-   2-   0-   0-   1    3-   1-   1-   2-   3-   0-   0-   1-   4-   2-   7-   1-   0-   1-   1-   3    3-   2-   0-\n     9    0.45 |    1-   1-   2-   2-   0-   0-   1    3-   1-   1-   2-   3-   0-   0-   1-   4-   2-   7-   1-   0-   1-   1-   4    3-   2-   0-\n    10    1.48 |    1-   1-   2-   2-   0-   0-   1    3-   1-   1-   2-   3-   0-   0-   1-   4-   2-   7-   1-   0-   1-   1-   5    3-   2-   0-\n    11    0.63 |    1-   1-   2-   2-   0-   0-   1    3-   1-   1-   2-   3-   0-   0-   1-   4-   2-   7-   1-   0-   1-   1-   7-   3-   2-   0-\n    12    0.00 |    1-   1-   2-   2-   0-   0-   2    3-   1-   1-   2-   3-   0-   0-   1-   4-   2-   7-   1-   0-   1-   1-   7-   3-   2-   0-\n    13    0.00 |    1-   1-   2-   2-   0-   0-   2    3-   1-   1-   2-   3-   0-   0-   1-   4-   2-   7-   1-   0-   1-   1-   7-   3-   2-   0-\n    14    0.00 |    1-   1-   2-   2-   0-   0-   2    3-   1-   1-   2-   3-   0-   0-   1-   4-   2-   7-   1-   0-   1-   1-   7-   3-   2-   0-\n    15    0.00 |    1-   1-   2-   2-   0-   0-   2    3-   1-   1-   2-   3-   0-   0-   1-   4-   2-   7-   1-   0-   1-   1-   7-   3-   2-   0-\n    16    0.00 |    1-   1-   2-   2-   0-   0-   2    3-   1-   1-   2-   3-   0-   0-   1-   4-   2-   7-   1-   0-   1-   1-   7-   3-   2-   0-\n[2023-08-27 19:06:02,149] passengersim.INFO: Th' th' that's all folks !!!    (Elapsed time = 10.92)\n</pre> In\u00a0[7]: Copied! <pre>summary.demands\n</pre> summary.demands Out[7]: orig dest segment sold revenue avg_fare gt_demand gt_sold gt_revenue 0 BOS ORD business 84 15650.0 186.309524 172556 150550 27466200.0 1 BOS ORD leisure 74 8275.0 111.824324 223276 162874 18560225.0 2 ORD LAX business 89 26475.0 297.471910 298313 257551 71571550.0 3 ORD LAX leisure 160 31600.0 197.500000 374919 253975 45810125.0 4 BOS LAX business 76 32400.0 426.315789 246671 193845 76019825.0 5 BOS LAX leisure 77 21000.0 272.727273 347434 208463 50591325.0 In\u00a0[8]: Copied! <pre>summary.legs\n</pre> summary.legs Out[8]: carrier flt_no orig dest avg_sold avg_rev lf 0 AL1 101 BOS ORD 88.1956 25209.970 88.195600 1 AL1 102 BOS ORD 88.1952 25219.290 88.195200 2 AL2 201 BOS ORD 54.9228 5722.475 54.922800 3 AL2 202 BOS ORD 54.9792 5733.975 54.979200 4 AL1 111 ORD LAX 108.9820 17216.640 90.818333 5 AL1 112 ORD LAX 108.8440 17244.230 90.703333 6 AL2 211 ORD LAX 73.8384 9829.135 61.532000 7 AL2 212 ORD LAX 73.8692 9831.985 61.557667 In\u00a0[9]: Copied! <pre>summary.paths\n</pre> summary.paths Out[9]: orig dest carrier1 flt_no1 carrier2 flt_no2 avg_sold avg_rev 0 BOS LAX AL1 101 AL1 111.0 45.7260 18162.29 1 BOS LAX AL1 102 AL1 112.0 45.5908 18143.53 2 BOS LAX AL2 201 AL2 211.0 34.7872 7165.05 3 BOS LAX AL2 202 AL2 212.0 34.8192 7173.59 4 BOS ORD AL1 101 None NaN 42.4696 7047.68 5 BOS ORD AL1 102 None NaN 42.6044 7075.76 6 BOS ORD AL2 201 None NaN 20.1356 2139.95 7 BOS ORD AL2 202 None NaN 20.1600 2147.18 8 ORD LAX AL1 111 None NaN 63.2560 17216.64 9 ORD LAX AL1 112 None NaN 63.2532 17244.23 10 ORD LAX AL2 211 None NaN 39.0512 6246.61 11 ORD LAX AL2 212 None NaN 39.0500 6245.19 In\u00a0[10]: Copied! <pre>summary.airlines\n</pre> summary.airlines <pre>\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\nCell In[10], line 1\n----&gt; 1 summary.airlines\n\nAttributeError: 'SummaryTables' object has no attribute 'airlines'</pre> In\u00a0[\u00a0]: Copied! <pre>summary.airlines.set_index(\"name\")[[\"asm\", \"rpm\"]].plot.bar();\n</pre> summary.airlines.set_index(\"name\")[[\"asm\", \"rpm\"]].plot.bar(); In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_loads()\n</pre> summary.fig_carrier_loads()"},{"location":"Tutorials/demo-3mkt-2carrier.nbconvert.html#three-market-two-carrier-test","title":"Three Market Two Carrier Test\u00b6","text":"<p>One carrier uses EMSR, the other ProBP.</p>"},{"location":"Tutorials/demo-3mkt-db.html","title":"Three Market Database Demo","text":"In\u00a0[\u00a0]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[\u00a0]: Copied! <pre>input_file = pax.demo_network(\"3mkt\")\n</pre> input_file = pax.demo_network(\"3mkt\") <p>In this notebook, we will demonstrate the usage of SQLite database logging.  In order to manipulate the configurations, we'll separate the simulation initialization into two steps: first we load the configs from YAML, then we apply configs to a Simlaution. That way, we can maipulate those configs directly in Python before running the sim.</p> <p>So, first we load the configs.</p> In\u00a0[\u00a0]: Copied! <pre>cfg = pax.Config.from_yaml(input_file)\n</pre> cfg = pax.Config.from_yaml(input_file) <p>Then, we can manipulate the configs.  By default we our database engine will store detailed info on multiple simulation attributes at each DCP:</p> In\u00a0[\u00a0]: Copied! <pre>cfg.db.write_items\n</pre> cfg.db.write_items <p>Let's remove the \"demand_final\" writer, so we can replace it with a custom tool we provide in Python.</p> In\u00a0[\u00a0]: Copied! <pre>cfg.db.write_items.remove(\"demand_final\")\ncfg.db.write_items\n</pre> cfg.db.write_items.remove(\"demand_final\") cfg.db.write_items <p>Our custom Python command is <code>save_demand_to_database</code>, in the <code>passengersim.database.write_demands</code> package. We can attach that function to the list of <code>dcp_write_hooks</code>.</p> In\u00a0[\u00a0]: Copied! <pre>from passengersim.database.write_demands import save_demand_to_database\n\ncfg.db.dcp_write_hooks.append(save_demand_to_database)\n</pre> from passengersim.database.write_demands import save_demand_to_database  cfg.db.dcp_write_hooks.append(save_demand_to_database) <p>We can also set our SQLite database engine to reside exclusively in memory, like this:</p> In\u00a0[\u00a0]: Copied! <pre>cfg.db.filename = \":memory:\"\n</pre> cfg.db.filename = \":memory:\" In\u00a0[\u00a0]: Copied! <pre>import os\nif os.path.exists(cfg.db.filename):\n    os.remove(cfg.db.filename)\n</pre> import os if os.path.exists(cfg.db.filename):     os.remove(cfg.db.filename) <p>We use the compiled code for writing SQL with the <code>fast</code> flag:</p> In\u00a0[\u00a0]: Copied! <pre>cfg.db.fast = True\n</pre> cfg.db.fast = True <p>Some experimental \"pragma\" commands that may make SQLite go faster...</p> In\u00a0[\u00a0]: Copied! <pre>cfg.db.pragmas = [\n    \"journal_mode = MEMORY\",\n    \"synchronous = 0\",\n    \"cache_size = 1000000\",\n    \"locking_mode = EXCLUSIVE\",\n    \"temp_store = MEMORY\",\n]\n</pre> cfg.db.pragmas = [     \"journal_mode = MEMORY\",     \"synchronous = 0\",     \"cache_size = 1000000\",     \"locking_mode = EXCLUSIVE\",     \"temp_store = MEMORY\", ] <p>We don't want to also write raw data files, so we'll turn those off:</p> In\u00a0[\u00a0]: Copied! <pre>cfg.simulation_controls.write_raw_files = False\n</pre> cfg.simulation_controls.write_raw_files = False <p>Now we are ready to create and run our simulation.</p> In\u00a0[\u00a0]: Copied! <pre>sim = pax.Simulation(cfg, output_dir=\"./demo-3mkt-out\")\n</pre> sim = pax.Simulation(cfg, output_dir=\"./demo-3mkt-out\") In\u00a0[\u00a0]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) In\u00a0[\u00a0]: Copied! <pre>summary.demands\n</pre> summary.demands In\u00a0[\u00a0]: Copied! <pre>summary.legs\n</pre> summary.legs In\u00a0[\u00a0]: Copied! <pre>summary.paths\n</pre> summary.paths In\u00a0[\u00a0]: Copied! <pre>summary.airlines\n</pre> summary.airlines In\u00a0[\u00a0]: Copied! <pre>summary.load_factors\n</pre> summary.load_factors In\u00a0[\u00a0]: Copied! <pre>summary.bookings_by_timeframe\n</pre> summary.bookings_by_timeframe In\u00a0[\u00a0]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() In\u00a0[\u00a0]: Copied! <pre>summary.fig_bookings_by_timeframe(by_airline=False)\n</pre> summary.fig_bookings_by_timeframe(by_airline=False) In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_loads(raw_df=True)\n</pre> summary.fig_carrier_loads(raw_df=True) In\u00a0[\u00a0]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() In\u00a0[\u00a0]: Copied! <pre>summary.total_demand\n</pre> summary.total_demand <p>We've written only to an in-memory database, but we want to dump that thing to disk now for posterity:</p> In\u00a0[\u00a0]: Copied! <pre>sim.backup_db(\"backup-db.sqlite\")\n</pre> sim.backup_db(\"backup-db.sqlite\") <p>We can get dataframes from SQL queries while we have the database connection open...</p> In\u00a0[\u00a0]: Copied! <pre>bookings = sim.cnx.dataframe(\"SELECT * FROM bookings_by_timeframe\")\nbookings\n</pre> bookings = sim.cnx.dataframe(\"SELECT * FROM bookings_by_timeframe\") bookings <p>Once we close the database connection, we can no longer use it for reading or writing. If it was an in-memory database, closing it means that content is gone for good, unless it was backed up to disk (as we did above).</p> In\u00a0[\u00a0]: Copied! <pre>sim.cnx.close()\n</pre> sim.cnx.close() In\u00a0[\u00a0]: Copied! <pre>leg_detail = sim.cnx.dataframe(\"SELECT * FROM leg_detail\")\n</pre> leg_detail = sim.cnx.dataframe(\"SELECT * FROM leg_detail\")"},{"location":"Tutorials/demo-3mkt-db.html#three-market-database-demo","title":"Three Market Database Demo\u00b6","text":""},{"location":"Tutorials/demo-3mkt-db.nbconvert.html","title":"Three Market Database Demo","text":"In\u00a0[1]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[2]: Copied! <pre>input_file = pax.demo_network(\"3mkt\")\n</pre> input_file = pax.demo_network(\"3mkt\") <p>In this notebook, we will demonstrate the usage of SQLite database logging.  In order to manipulate the configurations, we'll separate the simulation initialization into two steps: first we load the configs from YAML, then we apply configs to a Simlaution. That way, we can maipulate those configs directly in Python before running the sim.</p> <p>So, first we load the configs.</p> In\u00a0[3]: Copied! <pre>cfg = pax.Config.from_yaml(input_file)\n</pre> cfg = pax.Config.from_yaml(input_file) <pre>[2023-08-27 19:06:05,259] passengersim.config.INFO: loaded config from /Users/jpn/Git/pxsim/passengersim-public/passengersim/networks/3mkt.yaml\n</pre> <p>Then, we can manipulate the configs.  By default we our database engine will store detailed info on multiple simulation attributes at each DCP:</p> In\u00a0[4]: Copied! <pre>cfg.db.write_items\n</pre> cfg.db.write_items Out[4]: <pre>{'bookings', 'demand_final', 'fare_final', 'leg_final'}</pre> <p>Let's remove the \"demand_final\" writer, so we can replace it with a custom tool we provide in Python.</p> In\u00a0[5]: Copied! <pre>cfg.db.write_items.remove(\"demand_final\")\ncfg.db.write_items\n</pre> cfg.db.write_items.remove(\"demand_final\") cfg.db.write_items Out[5]: <pre>{'bookings', 'fare_final', 'leg_final'}</pre> <p>Our custom Python command is <code>save_demand_to_database</code>, in the <code>passengersim.database.write_demands</code> package. We can attach that function to the list of <code>dcp_write_hooks</code>.</p> In\u00a0[6]: Copied! <pre>from passengersim.database.write_demands import save_demand_to_database\n\ncfg.db.dcp_write_hooks.append(save_demand_to_database)\n</pre> from passengersim.database.write_demands import save_demand_to_database  cfg.db.dcp_write_hooks.append(save_demand_to_database) <p>We can also set our SQLite database engine to reside exclusively in memory, like this:</p> In\u00a0[7]: Copied! <pre>cfg.db.filename = \":memory:\"\n</pre> cfg.db.filename = \":memory:\" In\u00a0[8]: Copied! <pre>import os\nif os.path.exists(cfg.db.filename):\n    os.remove(cfg.db.filename)\n</pre> import os if os.path.exists(cfg.db.filename):     os.remove(cfg.db.filename) <p>We use the compiled code for writing SQL with the <code>fast</code> flag:</p> In\u00a0[9]: Copied! <pre>cfg.db.fast = True\n</pre> cfg.db.fast = True <p>Some experimental \"pragma\" commands that may make SQLite go faster...</p> In\u00a0[10]: Copied! <pre>cfg.db.pragmas = [\n    \"journal_mode = MEMORY\",\n    \"synchronous = 0\",\n    \"cache_size = 1000000\",\n    \"locking_mode = EXCLUSIVE\",\n    \"temp_store = MEMORY\",\n]\n</pre> cfg.db.pragmas = [     \"journal_mode = MEMORY\",     \"synchronous = 0\",     \"cache_size = 1000000\",     \"locking_mode = EXCLUSIVE\",     \"temp_store = MEMORY\", ] <p>We don't want to also write raw data files, so we'll turn those off:</p> In\u00a0[11]: Copied! <pre>cfg.simulation_controls.write_raw_files = False\n</pre> cfg.simulation_controls.write_raw_files = False <p>Now we are ready to create and run our simulation.</p> In\u00a0[12]: Copied! <pre>sim = pax.Simulation(cfg, output_dir=\"./demo-3mkt-out\")\n</pre> sim = pax.Simulation(cfg, output_dir=\"./demo-3mkt-out\") <pre>[2023-08-27 19:06:05,306] passengersim.database.INFO: connecting to sqlite database: :memory:\n[2023-08-27 19:06:05,307] passengersim.database.INFO: initializing sqlite tables\n</pre> In\u00a0[13]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) <pre>[2023-08-27 19:06:06,412] passengersim.INFO: Th' th' that's all folks !!!    (Elapsed time = 1.1)\n</pre> In\u00a0[14]: Copied! <pre>summary.demands\n</pre> summary.demands Out[14]: orig dest segment sold revenue avg_fare gt_demand gt_sold gt_revenue 0 BOS SFO business 50 18306.02 366.120400 14149 10946 4.028751e+06 1 BOS SFO leisure 5 1562.72 312.544000 18160 1102 3.436490e+05 2 BOS ORD business 174 83106.11 477.621322 23365 23365 1.083143e+07 3 BOS ORD leisure 57 18677.50 327.675439 32274 7513 2.463065e+06 4 BOS DFW business 146 85309.93 584.314589 20048 20048 1.176307e+07 5 BOS DFW leisure 44 15078.60 342.695455 27230 13166 4.529925e+06 In\u00a0[15]: Copied! <pre>summary.legs\n</pre> summary.legs Out[15]: carrier flt_no orig dest avg_sold avg_rev lf 0 AL1 1 BOS SFO 30.565 11077.48705 30.565000 1 AL2 2 BOS SFO 29.675 10784.51105 29.675000 2 AL1 3 BOS ORD 51.720 22419.33425 51.720000 3 AL2 4 BOS ORD 51.380 21988.08895 51.380000 4 AL3 5 BOS ORD 51.290 22065.06775 42.741667 5 AL1 6 BOS DFW 40.855 20094.09900 34.045833 6 AL1 7 BOS DFW 41.325 20262.13460 34.437500 7 AL2 8 BOS DFW 42.010 20631.04140 35.008333 8 AL4 9 BOS DFW 41.880 20477.67430 34.900000 In\u00a0[16]: Copied! <pre>summary.paths\n</pre> summary.paths Out[16]: orig dest carrier1 flt_no1 carrier2 flt_no2 avg_sold avg_rev 0 BOS SFO AL1 1 None None 30.565 11077.48705 1 BOS SFO AL2 2 None None 29.675 10784.51105 2 BOS ORD AL1 3 None None 51.720 22419.33425 3 BOS ORD AL2 4 None None 51.380 21988.08895 4 BOS ORD AL3 5 None None 51.290 22065.06775 5 BOS DFW AL1 6 None None 40.855 20094.09900 6 BOS DFW AL1 7 None None 41.325 20262.13460 7 BOS DFW AL2 8 None None 42.010 20631.04140 8 BOS DFW AL4 9 None None 41.880 20477.67430 9 BOS DFW AL1 6 None None 40.855 20094.09900 10 BOS DFW AL1 7 None None 41.325 20262.13460 11 BOS DFW AL2 8 None None 42.010 20631.04140 12 BOS DFW AL4 9 None None 41.880 20477.67430 13 BOS ORD AL1 3 None None 51.720 22419.33425 14 BOS ORD AL2 4 None None 51.380 21988.08895 15 BOS ORD AL3 5 None None 51.290 22065.06775 16 BOS SFO AL1 1 None None 30.565 11077.48705 17 BOS SFO AL2 2 None None 29.675 10784.51105 In\u00a0[17]: Copied! <pre>summary.airlines\n</pre> summary.airlines <pre>\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\nCell In[17], line 1\n----&gt; 1 summary.airlines\n\nAttributeError: 'SummaryTables' object has no attribute 'airlines'</pre> In\u00a0[\u00a0]: Copied! <pre>summary.load_factors\n</pre> summary.load_factors In\u00a0[\u00a0]: Copied! <pre>summary.bookings_by_timeframe\n</pre> summary.bookings_by_timeframe In\u00a0[\u00a0]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() In\u00a0[\u00a0]: Copied! <pre>summary.fig_bookings_by_timeframe(by_airline=False)\n</pre> summary.fig_bookings_by_timeframe(by_airline=False) In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_loads(raw_df=True)\n</pre> summary.fig_carrier_loads(raw_df=True) In\u00a0[\u00a0]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() In\u00a0[\u00a0]: Copied! <pre>summary.total_demand\n</pre> summary.total_demand <p>We've written only to an in-memory database, but we want to dump that thing to disk now for posterity:</p> In\u00a0[\u00a0]: Copied! <pre>sim.backup_db(\"backup-db.sqlite\")\n</pre> sim.backup_db(\"backup-db.sqlite\") <p>We can get dataframes from SQL queries while we have the database connection open...</p> In\u00a0[\u00a0]: Copied! <pre>bookings = sim.cnx.dataframe(\"SELECT * FROM bookings_by_timeframe\")\nbookings\n</pre> bookings = sim.cnx.dataframe(\"SELECT * FROM bookings_by_timeframe\") bookings <p>Once we close the database connection, we can no longer use it for reading or writing. If it was an in-memory database, closing it means that content is gone for good, unless it was backed up to disk (as we did above).</p> In\u00a0[\u00a0]: Copied! <pre>sim.cnx.close()\n</pre> sim.cnx.close() In\u00a0[\u00a0]: Copied! <pre>leg_detail = sim.cnx.dataframe(\"SELECT * FROM leg_detail\")\n</pre> leg_detail = sim.cnx.dataframe(\"SELECT * FROM leg_detail\")"},{"location":"Tutorials/demo-3mkt-db.nbconvert.html#three-market-database-demo","title":"Three Market Database Demo\u00b6","text":""},{"location":"Tutorials/demo-3mkt.html","title":"Three Market Test","text":"In\u00a0[\u00a0]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[\u00a0]: Copied! <pre>input_file = pax.demo_network(\"3MKT/base\")\n</pre> input_file = pax.demo_network(\"3MKT/base\") In\u00a0[\u00a0]: Copied! <pre>input_file\n</pre> input_file In\u00a0[\u00a0]: Copied! <pre>sim = pax.Simulation.from_yaml(input_file)\n</pre> sim = pax.Simulation.from_yaml(input_file) In\u00a0[\u00a0]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_revenues()\n</pre> summary.fig_carrier_revenues() In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_load_factors()\n</pre> summary.fig_carrier_load_factors() In\u00a0[\u00a0]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() In\u00a0[\u00a0]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() In\u00a0[\u00a0]: Copied! <pre>cfg2 = pax.Config.from_yaml(input_file)\n</pre> cfg2 = pax.Config.from_yaml(input_file)"},{"location":"Tutorials/demo-3mkt.html#three-market-test","title":"Three Market Test\u00b6","text":""},{"location":"Tutorials/demo-3mkt.nbconvert.html","title":"Three Market Test","text":"In\u00a0[1]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[2]: Copied! <pre>input_file = pax.demo_network(\"3MKT/base\")\n</pre> input_file = pax.demo_network(\"3MKT/base\") In\u00a0[3]: Copied! <pre>input_file\n</pre> input_file Out[3]: <pre>PosixPath('/Users/jpn/Git/pxsim/passengersim-public/passengersim/networks/3MKT/base.yaml')</pre> In\u00a0[4]: Copied! <pre>sim = pax.Simulation.from_yaml(input_file)\n</pre> sim = pax.Simulation.from_yaml(input_file) <pre>[2023-08-27 19:06:09,261] passengersim.config.INFO: loaded config from /Users/jpn/Git/pxsim/passengersim-public/passengersim/networks/3MKT/base.yaml\nextra simulation setting: debug_orders =  0.0\n[2023-08-27 19:06:09,276] passengersim.database.INFO: connecting to sqlite database: :memory:\n[2023-08-27 19:06:09,276] passengersim.database.INFO: initializing sqlite tables\n</pre> In\u00a0[5]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) <pre>[2023-08-27 19:06:18,463] passengersim.INFO: Th' th' that's all folks !!!    (Elapsed time = 9.18)\n</pre> In\u00a0[6]: Copied! <pre>summary.fig_carrier_revenues()\n</pre> summary.fig_carrier_revenues() Out[6]: In\u00a0[7]: Copied! <pre>summary.fig_carrier_load_factors()\n</pre> summary.fig_carrier_load_factors() Out[7]: In\u00a0[8]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() Out[8]: In\u00a0[9]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() Out[9]: In\u00a0[10]: Copied! <pre>cfg2 = pax.Config.from_yaml(input_file)\n</pre> cfg2 = pax.Config.from_yaml(input_file) <pre>[2023-08-27 19:06:18,999] passengersim.config.INFO: loaded config from /Users/jpn/Git/pxsim/passengersim-public/passengersim/networks/3MKT/base.yaml\n</pre>"},{"location":"Tutorials/demo-3mkt.nbconvert.html#three-market-test","title":"Three Market Test\u00b6","text":""},{"location":"Tutorials/reading-data.html","title":"Reading Data","text":"In\u00a0[1]: Copied! <pre>import pandas as pd\nimport sqlite3 as sq\n</pre> import pandas as pd import sqlite3 as sq <p>To see what tables are in a SQLite database, you can query the <code>sqlite_master</code> table like this:</p> In\u00a0[2]: Copied! <pre>db_filename = \"/tmp/airsim/passengersim-output.sqlite\"\nwith sq.connect(db_filename) as conn:\n    master = pd.read_sql_query(\"SELECT * FROM sqlite_master WHERE type='table'\", conn)\nmaster\n</pre> db_filename = \"/tmp/airsim/passengersim-output.sqlite\" with sq.connect(db_filename) as conn:     master = pd.read_sql_query(\"SELECT * FROM sqlite_master WHERE type='table'\", conn) master Out[2]: type name tbl_name rootpage sql 0 table leg_detail leg_detail 2 CREATE TABLE leg_detail\\n(\\n\\tscenario\\t    \\t... 1 table leg_bucket_detail leg_bucket_detail 4 CREATE TABLE leg_bucket_detail\\n(\\n    scenari... 2 table demand_detail demand_detail 6 CREATE TABLE demand_detail\\n(\\n\\tscenario\\t\\tV... 3 table fare fare 8 CREATE TABLE fare\\n(\\n    scenario\\t\\tVARCHAR(... 4 table booking_curve booking_curve 10 CREATE TABLE booking_curve (\\n    scenario\\t\\t... 5 table distance distance 12 CREATE TABLE distance (\\n    orig\\t\\t\\tVARCHAR... <p>Then to load the contents of a table, you can query for a table in particular.</p> In\u00a0[3]: Copied! <pre>with sq.connect(\"/tmp/airsim/passengersim-output.sqlite\") as conn:\n    fare = pd.read_sql_query(\"SELECT * FROM fare\", conn)\nfare\n</pre> with sq.connect(\"/tmp/airsim/passengersim-output.sqlite\") as conn:     fare = pd.read_sql_query(\"SELECT * FROM fare\", conn) fare Out[3]: scenario iteration trial sample rrd carrier orig dest booking_class sold sold_business price updated_at 0 EMSRhiNT2 0 0 0 63 AL1 BOS ORD Y0 0 0 400.0 2023-03-31 13:16:31 1 EMSRhiNT2 0 0 0 63 AL1 BOS ORD Y1 0 0 300.0 2023-03-31 13:16:31 2 EMSRhiNT2 0 0 0 63 AL1 BOS ORD Y2 0 0 200.0 2023-03-31 13:16:31 3 EMSRhiNT2 0 0 0 63 AL1 BOS ORD Y3 0 0 150.0 2023-03-31 13:16:31 4 EMSRhiNT2 0 0 0 63 AL1 BOS ORD Y4 0 0 125.0 2023-03-31 13:16:31 ... ... ... ... ... ... ... ... ... ... ... ... ... ... 1835995 EMSRhiNT2 0 4 599 0 AL2 BOS LAX Y1 3 3 625.0 2023-03-31 13:27:11 1835996 EMSRhiNT2 0 4 599 0 AL2 BOS LAX Y2 4 4 450.0 2023-03-31 13:27:11 1835997 EMSRhiNT2 0 4 599 0 AL2 BOS LAX Y3 1 0 325.0 2023-03-31 13:27:11 1835998 EMSRhiNT2 0 4 599 0 AL2 BOS LAX Y4 47 1 250.0 2023-03-31 13:27:11 1835999 EMSRhiNT2 0 4 599 0 AL2 BOS LAX Y5 32 0 200.0 2023-03-31 13:27:11 <p>1836000 rows \u00d7 13 columns</p> <p>If you are proficient at writing SQL queries, you can do a lot of analysis directly in the SQL engine before the data ever arrives in Python.  Alternatively, you can load entire tables into a <code>pandas.DataFrame</code> as shown above and do analysis primarily using pandas.</p>"},{"location":"Tutorials/reading-data.html#reading-data","title":"Reading Data\u00b6","text":"<p>The standard outputs from <code>AirSim</code> go into a database, either SQLite or MySQL. You can write simple SQL queries against the database and read the results into a <code>pandas.DataFrame</code>.</p>"},{"location":"Tutorials/verification/3mkt-01.html","title":"Simple FCFS","text":"In\u00a0[\u00a0]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[\u00a0]: Copied! <pre>sim = pax.Simulation.from_yaml(\"network/01-base.yaml\")\n</pre> sim = pax.Simulation.from_yaml(\"network/01-base.yaml\") In\u00a0[\u00a0]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_revenues()\n</pre> summary.fig_carrier_revenues() In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_load_factors()\n</pre> summary.fig_carrier_load_factors() In\u00a0[\u00a0]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() <p>All demand is in the lowest fare class, because the simulation has no restrictions against customers simply buying the least expensive fare.</p> In\u00a0[\u00a0]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() In\u00a0[\u00a0]: Copied! <pre>import targets\n\ntarget = targets.load(1)\n</pre> import targets  target = targets.load(1) In\u00a0[\u00a0]: Copied! <pre>from passengersim import contrast\n</pre> from passengersim import contrast In\u00a0[\u00a0]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\")\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\") In\u00a0[\u00a0]: Copied! <pre>contrast.fig_carrier_revenues({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_carrier_revenues({     \"simulation\": summary,     \"target\": target, })"},{"location":"Tutorials/verification/3mkt-01.html#simple-fcfs","title":"Simple FCFS\u00b6","text":"<p>This is a very simple network, with only 3 markets, used to demonstrate some features of PassengerSim.</p>"},{"location":"Tutorials/verification/3mkt-01.html#comparing-against-targets","title":"Comparing against Targets\u00b6","text":""},{"location":"Tutorials/verification/3mkt-01.nbconvert.html","title":"Simple FCFS","text":"In\u00a0[1]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[2]: Copied! <pre>sim = pax.Simulation.from_yaml(\"network/01-base.yaml\")\n</pre> sim = pax.Simulation.from_yaml(\"network/01-base.yaml\") <pre>[2023-08-27 19:06:21,668] passengersim.config.INFO: loaded config from network/01-base.yaml\n[2023-08-27 19:06:21,682] passengersim.database.INFO: connecting to sqlite database: :memory:\n[2023-08-27 19:06:21,683] passengersim.database.INFO: initializing sqlite tables\n</pre> In\u00a0[3]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) <pre>[2023-08-27 19:06:30,916] passengersim.INFO: Th' th' that's all folks !!!    (Elapsed time = 9.23)\n</pre> In\u00a0[4]: Copied! <pre>summary.fig_carrier_revenues()\n</pre> summary.fig_carrier_revenues() Out[4]: In\u00a0[5]: Copied! <pre>summary.fig_carrier_load_factors()\n</pre> summary.fig_carrier_load_factors() Out[5]: In\u00a0[6]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() Out[6]: <p>All demand is in the lowest fare class, because the simulation has no restrictions against customers simply buying the least expensive fare.</p> In\u00a0[7]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() Out[7]: In\u00a0[8]: Copied! <pre>import targets\n\ntarget = targets.load(1)\n</pre> import targets  target = targets.load(1) In\u00a0[9]: Copied! <pre>from passengersim import contrast\n</pre> from passengersim import contrast In\u00a0[10]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\")\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\") Out[10]: In\u00a0[11]: Copied! <pre>contrast.fig_carrier_revenues({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_carrier_revenues({     \"simulation\": summary,     \"target\": target, }) Out[11]:"},{"location":"Tutorials/verification/3mkt-01.nbconvert.html#simple-fcfs","title":"Simple FCFS\u00b6","text":"<p>This is a very simple network, with only 3 markets, used to demonstrate some features of PassengerSim.</p>"},{"location":"Tutorials/verification/3mkt-01.nbconvert.html#comparing-against-targets","title":"Comparing against Targets\u00b6","text":""},{"location":"Tutorials/verification/3mkt-02.html","title":"FCFS with Product Restrictions","text":"In\u00a0[\u00a0]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[\u00a0]: Copied! <pre>sim = pax.Simulation.from_yaml([\"network/01-base.yaml\", \"network/02-buyup.yaml\"])\n</pre> sim = pax.Simulation.from_yaml([\"network/01-base.yaml\", \"network/02-buyup.yaml\"]) In\u00a0[\u00a0]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_revenues()\n</pre> summary.fig_carrier_revenues() In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_load_factors()\n</pre> summary.fig_carrier_load_factors() In\u00a0[\u00a0]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() In\u00a0[\u00a0]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() In\u00a0[\u00a0]: Copied! <pre>import targets\n\ntarget = targets.load(2)\n</pre> import targets  target = targets.load(2) In\u00a0[\u00a0]: Copied! <pre>from passengersim import contrast\n</pre> from passengersim import contrast In\u00a0[\u00a0]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\")\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\") In\u00a0[\u00a0]: Copied! <pre>contrast.fig_carrier_revenues({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_carrier_revenues({     \"simulation\": summary,     \"target\": target, }) In\u00a0[\u00a0]: Copied! <pre>contrast.fig_fare_class_mix({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_fare_class_mix({     \"simulation\": summary,     \"target\": target, }) In\u00a0[\u00a0]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\", by_class=True)\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\", by_class=True)"},{"location":"Tutorials/verification/3mkt-02.html#fcfs-with-product-restrictions","title":"FCFS with Product Restrictions\u00b6","text":"<p>In this example, we add product restrictions to the simulation.  These restrictions will cause some passengers to \"buy up\" to a fare product other than the lowest price.</p>"},{"location":"Tutorials/verification/3mkt-02.html#comparing-against-targets","title":"Comparing against Targets\u00b6","text":""},{"location":"Tutorials/verification/3mkt-02.nbconvert.html","title":"FCFS with Product Restrictions","text":"In\u00a0[1]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[2]: Copied! <pre>sim = pax.Simulation.from_yaml([\"network/01-base.yaml\", \"network/02-buyup.yaml\"])\n</pre> sim = pax.Simulation.from_yaml([\"network/01-base.yaml\", \"network/02-buyup.yaml\"]) <pre>[2023-08-27 19:06:34,245] passengersim.config.INFO: loaded config from network/01-base.yaml\n[2023-08-27 19:06:34,247] passengersim.config.INFO: loaded config from network/02-buyup.yaml\n[2023-08-27 19:06:34,261] passengersim.database.INFO: connecting to sqlite database: :memory:\n[2023-08-27 19:06:34,261] passengersim.database.INFO: initializing sqlite tables\n</pre> In\u00a0[3]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) <pre>[2023-08-27 19:06:44,022] passengersim.INFO: Th' th' that's all folks !!!    (Elapsed time = 9.76)\n</pre> In\u00a0[4]: Copied! <pre>summary.fig_carrier_revenues()\n</pre> summary.fig_carrier_revenues() Out[4]: In\u00a0[5]: Copied! <pre>summary.fig_carrier_load_factors()\n</pre> summary.fig_carrier_load_factors() Out[5]: In\u00a0[6]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() Out[6]: In\u00a0[7]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() Out[7]: In\u00a0[8]: Copied! <pre>import targets\n\ntarget = targets.load(2)\n</pre> import targets  target = targets.load(2) In\u00a0[9]: Copied! <pre>from passengersim import contrast\n</pre> from passengersim import contrast In\u00a0[10]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\")\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\") Out[10]: In\u00a0[11]: Copied! <pre>contrast.fig_carrier_revenues({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_carrier_revenues({     \"simulation\": summary,     \"target\": target, }) Out[11]: In\u00a0[12]: Copied! <pre>contrast.fig_fare_class_mix({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_fare_class_mix({     \"simulation\": summary,     \"target\": target, }) Out[12]: In\u00a0[13]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\", by_class=True)\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\", by_class=True) Out[13]:"},{"location":"Tutorials/verification/3mkt-02.nbconvert.html#fcfs-with-product-restrictions","title":"FCFS with Product Restrictions\u00b6","text":"<p>In this example, we add product restrictions to the simulation.  These restrictions will cause some passengers to \"buy up\" to a fare product other than the lowest price.</p>"},{"location":"Tutorials/verification/3mkt-02.nbconvert.html#comparing-against-targets","title":"Comparing against Targets\u00b6","text":""},{"location":"Tutorials/verification/3mkt-03.html","title":"FCFS with AP and Product Restrictions","text":"In\u00a0[\u00a0]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[\u00a0]: Copied! <pre>sim = pax.Simulation.from_yaml([\n    \"network/03-ap.yaml\",\n    \"network/02-buyup.yaml\", \n    \"network/01-base.yaml\", \n])\n</pre> sim = pax.Simulation.from_yaml([     \"network/03-ap.yaml\",     \"network/02-buyup.yaml\",      \"network/01-base.yaml\",  ]) In\u00a0[\u00a0]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_revenues()\n</pre> summary.fig_carrier_revenues() In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_load_factors()\n</pre> summary.fig_carrier_load_factors() In\u00a0[\u00a0]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() In\u00a0[\u00a0]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() In\u00a0[\u00a0]: Copied! <pre>import targets\n\ntarget = targets.load(3)\n</pre> import targets  target = targets.load(3) In\u00a0[\u00a0]: Copied! <pre>from passengersim import contrast\n</pre> from passengersim import contrast In\u00a0[\u00a0]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\")\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\") In\u00a0[\u00a0]: Copied! <pre>contrast.fig_carrier_revenues({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_carrier_revenues({     \"simulation\": summary,     \"target\": target, }) In\u00a0[\u00a0]: Copied! <pre>contrast.fig_fare_class_mix({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_fare_class_mix({     \"simulation\": summary,     \"target\": target, }) In\u00a0[\u00a0]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\", by_class=True)\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\", by_class=True)"},{"location":"Tutorials/verification/3mkt-03.html#fcfs-with-ap-and-product-restrictions","title":"FCFS with AP and Product Restrictions\u00b6","text":"<p>In this example, on top of product restrictions we also add advance purchase (AP) restrictions to the simulation.  These restrictions close lower priced fare class products as the day of departure approaches.</p>"},{"location":"Tutorials/verification/3mkt-03.html#comparing-against-targets","title":"Comparing against Targets\u00b6","text":""},{"location":"Tutorials/verification/3mkt-03.nbconvert.html","title":"FCFS with AP and Product Restrictions","text":"In\u00a0[1]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[2]: Copied! <pre>sim = pax.Simulation.from_yaml([\n    \"network/03-ap.yaml\",\n    \"network/02-buyup.yaml\", \n    \"network/01-base.yaml\", \n])\n</pre> sim = pax.Simulation.from_yaml([     \"network/03-ap.yaml\",     \"network/02-buyup.yaml\",      \"network/01-base.yaml\",  ]) <pre>[2023-08-27 19:06:47,714] passengersim.config.INFO: loaded config from network/03-ap.yaml\n[2023-08-27 19:06:47,715] passengersim.config.INFO: loaded config from network/02-buyup.yaml\n[2023-08-27 19:06:47,737] passengersim.config.INFO: loaded config from network/01-base.yaml\n[2023-08-27 19:06:47,750] passengersim.database.INFO: connecting to sqlite database: :memory:\n[2023-08-27 19:06:47,751] passengersim.database.INFO: initializing sqlite tables\n</pre> In\u00a0[3]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) <pre>[2023-08-27 19:06:57,501] passengersim.INFO: Th' th' that's all folks !!!    (Elapsed time = 9.75)\n</pre> In\u00a0[4]: Copied! <pre>summary.fig_carrier_revenues()\n</pre> summary.fig_carrier_revenues() Out[4]: In\u00a0[5]: Copied! <pre>summary.fig_carrier_load_factors()\n</pre> summary.fig_carrier_load_factors() Out[5]: In\u00a0[6]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() Out[6]: In\u00a0[7]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() Out[7]: In\u00a0[8]: Copied! <pre>import targets\n\ntarget = targets.load(3)\n</pre> import targets  target = targets.load(3) In\u00a0[9]: Copied! <pre>from passengersim import contrast\n</pre> from passengersim import contrast In\u00a0[10]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\")\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\") Out[10]: In\u00a0[11]: Copied! <pre>contrast.fig_carrier_revenues({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_carrier_revenues({     \"simulation\": summary,     \"target\": target, }) Out[11]: In\u00a0[12]: Copied! <pre>contrast.fig_fare_class_mix({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_fare_class_mix({     \"simulation\": summary,     \"target\": target, }) Out[12]: In\u00a0[13]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\", by_class=True)\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\", by_class=True) Out[13]:"},{"location":"Tutorials/verification/3mkt-03.nbconvert.html#fcfs-with-ap-and-product-restrictions","title":"FCFS with AP and Product Restrictions\u00b6","text":"<p>In this example, on top of product restrictions we also add advance purchase (AP) restrictions to the simulation.  These restrictions close lower priced fare class products as the day of departure approaches.</p>"},{"location":"Tutorials/verification/3mkt-03.nbconvert.html#comparing-against-targets","title":"Comparing against Targets\u00b6","text":""},{"location":"Tutorials/verification/3mkt-07.html","title":"EMSR-B","text":"In\u00a0[\u00a0]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[\u00a0]: Copied! <pre>from passengersim.utils.codeview import show_file\n</pre> from passengersim.utils.codeview import show_file In\u00a0[\u00a0]: Copied! <pre>show_file(\"network/07-untrunc-em-low-demand-Copy1.yaml\")\n</pre> show_file(\"network/07-untrunc-em-low-demand-Copy1.yaml\") In\u00a0[\u00a0]: Copied! <pre>sim = pax.Simulation.from_yaml([\n    \"network/07-untrunc-em-low-demand-Copy1.yaml\",\n])\n</pre> sim = pax.Simulation.from_yaml([     \"network/07-untrunc-em-low-demand-Copy1.yaml\", ]) In\u00a0[\u00a0]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_revenues()\n</pre> summary.fig_carrier_revenues() In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_load_factors()\n</pre> summary.fig_carrier_load_factors() In\u00a0[\u00a0]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() In\u00a0[\u00a0]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() In\u00a0[\u00a0]: Copied! <pre>import targets\n\ntarget = targets.load(7)\n</pre> import targets  target = targets.load(7) In\u00a0[\u00a0]: Copied! <pre>from passengersim import contrast\n</pre> from passengersim import contrast In\u00a0[\u00a0]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\")\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\") In\u00a0[\u00a0]: Copied! <pre>contrast.fig_carrier_revenues({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_carrier_revenues({     \"simulation\": summary,     \"target\": target, }) In\u00a0[\u00a0]: Copied! <pre>contrast.fig_fare_class_mix({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_fare_class_mix({     \"simulation\": summary,     \"target\": target, }) In\u00a0[\u00a0]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\", by_class=True)\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\", by_class=True)"},{"location":"Tutorials/verification/3mkt-07.html#emsr-b","title":"EMSR-B\u00b6","text":""},{"location":"Tutorials/verification/3mkt-07.html#comparing-against-targets","title":"Comparing against Targets\u00b6","text":""},{"location":"Tutorials/verification/3mkt-07.nbconvert.html","title":"EMSR-B","text":"In\u00a0[1]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[2]: Copied! <pre>from passengersim.utils.codeview import show_file\n</pre> from passengersim.utils.codeview import show_file In\u00a0[3]: Copied! <pre>show_file(\"network/07-untrunc-em-low-demand-Copy1.yaml\")\n</pre> show_file(\"network/07-untrunc-em-low-demand-Copy1.yaml\") <pre>\n---------------------------------------------------------------------------\nFileNotFoundError                         Traceback (most recent call last)\nCell In[3], line 1\n----&gt; 1 show_file(\"network/07-untrunc-em-low-demand-Copy1.yaml\")\n\nFile ~/Git/pxsim/passengersim-public/passengersim/utils/codeview.py:10, in show_file(filename)\n      8 lexer = get_lexer_for_filename(filename)\n      9 formatter = HtmlFormatter(cssclass=\"pygments\")\n---&gt; 10 with open(filename) as f:\n     11     code = f.read()\n     12 html_code = highlight(code, lexer, formatter)\n\nFileNotFoundError: [Errno 2] No such file or directory: 'network/07-untrunc-em-low-demand-Copy1.yaml'</pre> In\u00a0[\u00a0]: Copied! <pre>sim = pax.Simulation.from_yaml([\n    \"network/07-untrunc-em-low-demand-Copy1.yaml\",\n])\n</pre> sim = pax.Simulation.from_yaml([     \"network/07-untrunc-em-low-demand-Copy1.yaml\", ]) In\u00a0[\u00a0]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_revenues()\n</pre> summary.fig_carrier_revenues() In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_load_factors()\n</pre> summary.fig_carrier_load_factors() In\u00a0[\u00a0]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() In\u00a0[\u00a0]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() In\u00a0[\u00a0]: Copied! <pre>import targets\n\ntarget = targets.load(7)\n</pre> import targets  target = targets.load(7) In\u00a0[\u00a0]: Copied! <pre>from passengersim import contrast\n</pre> from passengersim import contrast In\u00a0[\u00a0]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\")\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\") In\u00a0[\u00a0]: Copied! <pre>contrast.fig_carrier_revenues({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_carrier_revenues({     \"simulation\": summary,     \"target\": target, }) In\u00a0[\u00a0]: Copied! <pre>contrast.fig_fare_class_mix({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_fare_class_mix({     \"simulation\": summary,     \"target\": target, }) In\u00a0[\u00a0]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\", by_class=True)\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\", by_class=True)"},{"location":"Tutorials/verification/3mkt-07.nbconvert.html#emsr-b","title":"EMSR-B\u00b6","text":""},{"location":"Tutorials/verification/3mkt-07.nbconvert.html#comparing-against-targets","title":"Comparing against Targets\u00b6","text":""},{"location":"Tutorials/verification/3mkt-09.html","title":"EMSR-B","text":"In\u00a0[\u00a0]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[\u00a0]: Copied! <pre>from passengersim.utils.codeview import show_file\n</pre> from passengersim.utils.codeview import show_file In\u00a0[\u00a0]: Copied! <pre>show_file(\"network/09-untrunc-em-high-demand.yaml\")\n</pre> show_file(\"network/09-untrunc-em-high-demand.yaml\") In\u00a0[\u00a0]: Copied! <pre>cfg = pax.Config.from_yaml([\n    \"network/09-untrunc-em-high-demand.yaml\",\n])\n</pre> cfg = pax.Config.from_yaml([     \"network/09-untrunc-em-high-demand.yaml\", ]) In\u00a0[\u00a0]: Copied! <pre># cfg.simulation_controls.num_samples += 500\n# cfg.simulation_controls.burn_samples += 500\n</pre> # cfg.simulation_controls.num_samples += 500 # cfg.simulation_controls.burn_samples += 500 In\u00a0[\u00a0]: Copied! <pre>sim = pax.Simulation(cfg)\n</pre> sim = pax.Simulation(cfg) In\u00a0[\u00a0]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_revenues()\n</pre> summary.fig_carrier_revenues() In\u00a0[\u00a0]: Copied! <pre>summary.fig_carrier_load_factors()\n</pre> summary.fig_carrier_load_factors() In\u00a0[\u00a0]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() In\u00a0[\u00a0]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() In\u00a0[\u00a0]: Copied! <pre>import targets\n\ntarget = targets.load(9)\n</pre> import targets  target = targets.load(9) In\u00a0[\u00a0]: Copied! <pre>from passengersim import contrast\n</pre> from passengersim import contrast In\u00a0[\u00a0]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\")\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\") In\u00a0[\u00a0]: Copied! <pre>contrast.fig_carrier_revenues({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_carrier_revenues({     \"simulation\": summary,     \"target\": target, }) In\u00a0[\u00a0]: Copied! <pre>contrast.fig_carrier_load_factors({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_carrier_load_factors({     \"simulation\": summary,     \"target\": target, }) In\u00a0[\u00a0]: Copied! <pre>contrast.fig_fare_class_mix({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_fare_class_mix({     \"simulation\": summary,     \"target\": target, }) In\u00a0[\u00a0]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\", by_class=True)\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\", by_class=True)"},{"location":"Tutorials/verification/3mkt-09.html#emsr-b","title":"EMSR-B\u00b6","text":""},{"location":"Tutorials/verification/3mkt-09.html#comparing-against-targets","title":"Comparing against Targets\u00b6","text":""},{"location":"Tutorials/verification/3mkt-09.nbconvert.html","title":"EMSR-B","text":"In\u00a0[1]: Copied! <pre>import passengersim as pax\n</pre> import passengersim as pax In\u00a0[2]: Copied! <pre>from passengersim.utils.codeview import show_file\n</pre> from passengersim.utils.codeview import show_file In\u00a0[3]: Copied! <pre>show_file(\"network/09-untrunc-em-high-demand.yaml\")\n</pre> show_file(\"network/09-untrunc-em-high-demand.yaml\") <pre>include:\n- 01-base.yaml\n- 02-buyup.yaml\n- 03-ap.yaml\n\nsimulation_controls:\ndemand_multiplier: 1.1\n\nrm_systems:\nrm_test1:\nsteps:\n- step_type: untruncation\nname: untruncation\nalgorithm: em\nkind: leg\n- step_type: forecast\nname: forecast\nalgorithm: additive_pickup\nalpha: 0.15\nkind: leg\n- step_type: emsr\nname: optimization\nalgorithm: emsrb\nkind: leg\n\nairlines:\n- name: AL1\nrm_system: rm_test1\ncontrol: leg\n- name: AL2\nrm_system: rm_test1\ncontrol: leg\n</pre> In\u00a0[4]: Copied! <pre>cfg = pax.Config.from_yaml([\n    \"network/09-untrunc-em-high-demand.yaml\",\n])\n</pre> cfg = pax.Config.from_yaml([     \"network/09-untrunc-em-high-demand.yaml\", ]) <pre>[2023-08-27 19:07:04,128] passengersim.config.INFO: loaded config from network/01-base.yaml\n[2023-08-27 19:07:04,129] passengersim.config.INFO: loaded config from network/02-buyup.yaml\n[2023-08-27 19:07:04,130] passengersim.config.INFO: loaded config from network/03-ap.yaml\n[2023-08-27 19:07:04,130] passengersim.config.INFO: loaded config from network/09-untrunc-em-high-demand.yaml\n</pre> In\u00a0[5]: Copied! <pre># cfg.simulation_controls.num_samples += 500\n# cfg.simulation_controls.burn_samples += 500\n</pre> # cfg.simulation_controls.num_samples += 500 # cfg.simulation_controls.burn_samples += 500 In\u00a0[6]: Copied! <pre>sim = pax.Simulation(cfg)\n</pre> sim = pax.Simulation(cfg) <pre>[2023-08-27 19:07:04,150] passengersim.database.INFO: connecting to sqlite database: :memory:\n[2023-08-27 19:07:04,150] passengersim.database.INFO: initializing sqlite tables\n</pre> In\u00a0[7]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) <pre>[2023-08-27 19:07:18,951] passengersim.INFO: Th' th' that's all folks !!!    (Elapsed time = 14.8)\n</pre> In\u00a0[8]: Copied! <pre>summary.fig_carrier_revenues()\n</pre> summary.fig_carrier_revenues() Out[8]: In\u00a0[9]: Copied! <pre>summary.fig_carrier_load_factors()\n</pre> summary.fig_carrier_load_factors() Out[9]: In\u00a0[10]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() Out[10]: In\u00a0[11]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() Out[11]: In\u00a0[12]: Copied! <pre>import targets\n\ntarget = targets.load(9)\n</pre> import targets  target = targets.load(9) In\u00a0[13]: Copied! <pre>from passengersim import contrast\n</pre> from passengersim import contrast In\u00a0[14]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\")\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\") Out[14]: In\u00a0[15]: Copied! <pre>contrast.fig_carrier_revenues({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_carrier_revenues({     \"simulation\": summary,     \"target\": target, }) Out[15]: In\u00a0[16]: Copied! <pre>contrast.fig_carrier_load_factors({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_carrier_load_factors({     \"simulation\": summary,     \"target\": target, }) Out[16]: In\u00a0[17]: Copied! <pre>contrast.fig_fare_class_mix({\n    \"simulation\": summary,\n    \"target\": target,\n})\n</pre> contrast.fig_fare_class_mix({     \"simulation\": summary,     \"target\": target, }) Out[17]: In\u00a0[18]: Copied! <pre>contrast.fig_bookings_by_timeframe({\n    \"simulation\": summary,\n    \"target\": target,\n}, by_airline=\"AL1\", by_class=True)\n</pre> contrast.fig_bookings_by_timeframe({     \"simulation\": summary,     \"target\": target, }, by_airline=\"AL1\", by_class=True) Out[18]:"},{"location":"Tutorials/verification/3mkt-09.nbconvert.html#emsr-b","title":"EMSR-B\u00b6","text":""},{"location":"Tutorials/verification/3mkt-09.nbconvert.html#comparing-against-targets","title":"Comparing against Targets\u00b6","text":""},{"location":"user-guide/cli.html","title":"Command Line Interface","text":"<p>AirSim Command Line Interface</p> <p>Usage:</p> <pre><code>$ python -m AirSim [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>info</code></li> <li><code>run</code></li> </ul>"},{"location":"user-guide/cli.html#python-m-airsim-info","title":"<code>python -m AirSim info</code>","text":"<p>Usage:</p> <pre><code>$ python -m AirSim info [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"user-guide/cli.html#python-m-airsim-run","title":"<code>python -m AirSim run</code>","text":"<p>Usage:</p> <pre><code>$ python -m AirSim run [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>-n, --network-file PATH</code>: A file that defines the network and various simulation options.  [required]</li> <li><code>-a, --airports-file PATH</code>: A file that defines the airports used in the simulation.</li> <li><code>-o, --out-dir PATH</code>: Out files are written to this directory.</li> <li><code>--db-engine TEXT</code>: [default: sqlite]</li> <li><code>--db-filename TEXT</code>: Use this filename for the output database file. Applies to the the SQLite engine only.  [default: airsim-output.sqlite]</li> <li><code>--fast / --slow</code>: For the SQLite engine only, running in 'fast' mode will store everything in an in-memory first, and dump the entire database to disk only when the simulation is complete.  This can be quite advantageous when the write speed of the disk is slow.  [default: slow]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"user-guide/how-it-works.html","title":"How PassengerSim Works","text":"<p>PasengerSim is a tool that simulates several aspects of passenger travel, including airline revenue management operations, market level passenger demand, and individual  customer choice processes.</p>"},{"location":"user-guide/how-it-works.html#counting-simulations","title":"Counting Simulations","text":"<p>A simulation run consists of a number of independent trials, and each trial is  made up of a sequence of dependent samples -- earlier samples in a trial are used to develop forecasts and train optimization algorithms used by carriers in later samples of the same trial.</p> <p>The number of trials is set by the  <code>num_trials</code> configuration, and the number of samples in each trial is set by <code>num_samples</code>. Both values can be found in the <code>simulation_controls</code> configuration inputs.</p> <p>We can think of a sample as a \"typical\" departure day.  When generating results,  the first X samples from each trial as these are during a \"burn period\" when the  simulation is getting started and sufficient history is being generated to use  for forecasts and other steps.  The nuber of samples in the burn period is set by the <code>burn_samples</code>  configuration value.</p>"},{"location":"user-guide/how-it-works.html#simulation-randomness","title":"Simulation Randomness","text":""},{"location":"user-guide/how-it-works.html#demand-generation-k-factors","title":"Demand Generation K-Factors","text":"<p>There are multiple sources of variability that is introduced in the simulation. Variability in the level of demand by passenger type on any given day for any origin-destination pair is controlled by a number of k-factors, which are used  to create some correlation across various dimensions of demand.</p> <p>Three k-factors are used to introduce correlation in demand across all markets in  the system and between business/leisure demand within a market. The equation to  generate the mean demand for a given market and passenger type  is given as: </p> <p>\\(\\mu'_{OD-Biz} = \\mu_{OD-Biz} + (SRN \\times k_{sys}) + (MRN \\times k_{mkt}) + (PRN \\times k_{paxtype})\\) </p> <p>where SRN, MRN, and PRN are random numbers associated with the system, market,  and passenger k-factors, respectively.</p> <p>The intuition behind using three k-factors is that even across a \"typical\" departure  day (like Wednesdays) we may have high demand days across the system and low demand  days across the system.  Likewise, if business demand is above average, we expect  that leisure demand may also be above average. Intuitively, when generating demands,  for a given sample (or departure day in the simulation), we add the term  (SRN x <code>sys_k_factor</code>) to every single market and passenger in the system for that  departure day, we add a unique (MRN x <code>mkt_k_factor</code>) to each origin-destination  market in the sample, and we add a unique (PRN x <code>pax_type_k_factor</code>) for each  passenger type within the market. The addition of the (SRN x <code>sys_k_factor</code>) to  \"everything\" in the sample creates a system-level correlation (i.e., demand on  a given departure date or sample could be \"high\" across the system or \"low\"  compared to average).  </p> <p>The addition of the (MRN x <code>mkt_k_factor</code>) to a market creates a market-level  correlation (i.e., if business demand is running higher than average in the  market, we expect leisure demand will run higher than average in general as  well).  </p> <p>The use of the (PRN x <code>pax_type_k_factor</code>) ensures that there is some random  component that is independent between business and leisure passengers in a  given market.</p> <p>In addition to the k-factors that are used to introduce correlation, we have a z-factor. We assume that actual demand, given mean demand, will vary across samples (or  departure dates) according to a constant z-factor given as \\(\\mu\\) divided by \\(\\sigma^2\\). </p> <p>Given different levels of aggregation, we expect that <code>sys_k_factor</code> &lt; <code>mkt_k_factor</code> &lt; <code>pax_type_k_factor</code>.</p> <p>Once we generate the means and std dev for correlated demands by OD and pax type  using the methodology described above, we use these to generate the \u201cactual\u201d demands  for a sample using the equation</p> <p>\\(\\mu'_{OD-Biz} + NRV x \\sigma'_{OD-Biz}\\), </p> <p>where NRV is a normal random variable.</p>"},{"location":"user-guide/how-it-works.html#demand-allocation-to-time-periods","title":"Demand Allocation to Time Periods","text":"<p>The demand generation above is used to find the total demand for each passenger type in each market on each travel day.  This total value is subsequently distributed  over the booking time periods.</p> <p>While the methodology for this is not (yet) explained here, note that the <code>tf_k_factor</code>  is used to generate variability in how demand is allocated to the different time  frames (also using the booking curves as a key input).</p>"},{"location":"user-guide/installation.html","title":"Installation","text":"<p>Install instructions will be here.</p>"},{"location":"user-guide/installation.html#docker-quick-start","title":"Docker Quick-start","text":"<p>Do you have a link to a <code>sky</code> docker image file? If not, these are not the install instructions you are looking for. If you do have a link, go ahead and download the file.  If you are installing on Windows or an Intel-based Mac, you want the amd64 image.  For installing on more recent Apple Silicon-based Macs, use an arm64 image.</p> <p>In addition to the image file, you'll want to download and install  Docker Desktop for your computer.  Once it's installed, make sure it's running (you should be able to open and see Docker's dashboard).</p> <p>Then, open a console terminal and change to the directory where the docker image <code>sky.tar</code> file has been saved.  It might be named something slightly different from <code>sky.tar</code>, in which case change the filename in the commands you type to match the filename of the image file you have.  The first step is to run</p> <pre><code>docker load --input sky.tar\n</code></pre> <p>This command may take a few moments to complete, as the content of the downloaded image file will be imported into docker.  You'll need several free gigabytes of hard disk space to complete this step, so if you encounter unexplained EOF errors  here that may be the problem.</p> <p>After the docker image is loaded, you should see a <code>sky</code> image in the docker desktop  dashboard.  If you can see it, you should then be able to start a container with this image using the following command:</p> <p>=== Mac/Linux</p> <pre><code>docker run -p 8899:8899 --rm --volume \"$(pwd)\":/tmp/workplace/work sky:latest\n</code></pre> Windows <pre><code>docker run -p 8899:8899 --rm --volume \"%cd%\":/tmp/workplace/work sky:latest\n</code></pre> <p>Within this command, we have: - <code>-p 8899:8899</code> tells docker to expose the container's port 8899 (which has been    configured to be the port served by Jupyter Lab) to localhost. - <code>--rm</code> means to remove the container when it exits, so there isn't an    extraneous container image file left on your file system. - <code>--volume \"...\":/tmp/workplace/work</code> makes the current working directory   available inside Jupyter Lab in a directory named <code>work</code> (the container has   been configured with <code>/tmp/workplace</code> as the base location for Jupyter). - <code>sky:latest</code> tells Docker to use the latest version of the user image   that was installed in the <code>docker load</code> step above.  If your installed   docker image (as shown in the Docker Dashboard) has a different name than   <code>sky</code> then change the command to give the corrent image name.</p>"},{"location":"user-guide/rm-systems.html","title":"RM Systems","text":"<p>A revenue management (RM) system is defined by one or more steps. The steps tell  the simulation which demand untruncation, demand forecasting, and optimization  algorithms to use.  These steps also provide information on the kind of forecast  and optimization used (i.e., leg or path) and if path-level information should be  aggregated to leg-level information before a step is performed.  Finally, these  steps allow the user to specify algorithm-specific parameters, e.g., when using  exponential smoothing the user can specify the smoothing constant, alpha.</p> <p>Each carrier should have an RM system that it uses. In PassengerSim, users have  the ability to create a single RM system and assign it to all carriers, or to  create multiple RM systems and assign different RM systems to different carriers.</p> <p>Below is an example that defines 4 RM systems.  It will be helpful to use these  examples to understand the different step_types and options associated with each  step_type.</p> <pre><code>rm_systems:\n  fcfs:\n    steps: []\n  rm_no_detruncation:\n    steps:\n      - step_type: untruncation\n        name: untruncation\n        algorithm: none\n        kind: leg\n      - step_type: forecast\n        name: forecast\n        algorithm: additive_pickup\n        alpha: 0.1\n        kind: leg\n      - step_type: emsr\n        name: optimization\n        algorithm: emsrb\n        kind: leg\n  rm_em:\n    steps:\n      - step_type: untruncation\n        name: untruncation\n        algorithm: none\n        kind: leg\n      - step_type: forecast\n        name: forecast\n        algorithm: additive_pickup\n        alpha: 0.15\n        kind: leg\n      - step_type: emsr\n        name: optimization\n        algorithm: fcfs\n        kind: leg\n  rm_probp:\n    steps:\n      - step_type: untruncation\n        name: untruncation\n        algorithm: em\n        kind: path\n      - step_type: forecast\n        name: path_forecast\n        algorithm: exp_smoothing\n        alpha: 0.15\n        kind: path\n      - step_type: probp\n        name: optimization\n      - step_type: aggregation\n        name: aggregate\n      - step_type: emsr\n        name: optimization\n        algorithm: emsrb\n        kind: leg\n</code></pre> <p>The first RM system is based on a first-come, first-serve approach (named <code>fcfs</code>).  No steps are defined for <code>fcfs</code> as there is no demand detruncation, demand  forecasting, or optimization done with FCFS.  If step_types are defined when  <code>fcfs</code> is explicitly specified as the optimization algorithm, they will be ignored.</p> <p>The second RM system, named <code>rm_no_detruncation</code>, is leg-based and uses an <code>additive_pickup</code>  forecasting model with EMSRb and no demand detrunction. The alpha parameter that  is specified in the forecast <code>step_type</code> will be ignored as it is not used for  the additive pick-up model.</p> <p>The third RM system, named <code>rm_em</code>, is using the expectation-maximization (EM)  method of detruncation with an exponential smoothing demand forecasting approach  that has a smoothing constant of alpha of 0.15 with and EMSRb optimizer. Both the  forecasts and optimization are done using leg-level inputs.</p> <p>Finally, the fourth RM system, named <code>rm_probp</code>, is also using the EM method of  detruncation with an exponential smoothing dmeand forecasting approach that has  a smoothing constant or alpha of 0.15.  Unlike in <code>rm_em</code> however, the untruncation and forecasting steps are done at the path level. The optimization  step is based on probp that first finds displacement costs at a path level, then  aggregates them to a leg-level in the aggregation step type, and finally calculates  protection levels using EMSRb with leg-level demand inputs.</p> <p>Given an overview of how RM systems are constructed, let's now look at each  step in detail.</p>"},{"location":"user-guide/rm-systems.html#untruncation","title":"Untruncation","text":"<pre><code>- step_type: untruncation\n  name: untruncation\n  algorithm: none, em, naive1, naive2\n  kind: leg, path\n</code></pre> <p>There are three untruncation (also called detruncation) algorithms.  The first,  <code>em</code>, is based on the expectation maximization method.  The <code>naive1</code> and <code>naive2</code>  methods are based on Shebelov presentation. The untruncation steps can be performed at the path or leg level.</p>"},{"location":"user-guide/rm-systems.html#forecast","title":"Forecast","text":"<pre><code>- step_type: forecast\n  name: path_forecast\n  algorithm: exp_smoothing, additive_pickup\n  alpha: 0.15\n  kind: leg, path\n</code></pre> <p>There are two forecasting algorithms: exponential smoothing (that uses a smoothing  or alpha parameter) and additive_pickup model.  The exponential smoothing model  does not (currently) incorporate trend or seasonality.  The additive_pickup model  is based on information from departed flights only and does not use the alpha  parameter. The forecasting step can be performaned at the leg or path level. However, if the forecast is at the leg level then detruncation can only be done  at the leg level (will this generate an error?)</p>"},{"location":"user-guide/rm-systems.html#emsr-optimization","title":"EMSR Optimization","text":"<pre><code>- step_type: emsr\n  name: optimization\n  algorithm: emsra, emsrb, fcfs\n  kind: leg\n</code></pre> <p>The step_type emsr is used for algorithms based on the expected marginal seat  revenue approach and also can be used for fcfs. (although the first RM system  defined as fcfs in the example above is a cleaner way to specify the fcfs option).</p>"},{"location":"user-guide/rm-systems.html#probp-optimization","title":"ProBP Optimization","text":"<pre><code>- step_type: probp\n  name: optimization\n</code></pre> <p>The step_type probp does just as the name suggests - uses the probabilistic bid  price algorithm to determine path-based displacment costs.  After these are found,  two more steps are needed - the first is to aggregate path-level information to  leg-level information and do the probp proration? and the next is to use the  leg-level inputs to find protection levels using emsrb.</p>"},{"location":"user-guide/untruncation.html","title":"Untruncation","text":"<p>Write a description of this concept here.</p>"},{"location":"user-guide/writing-configs.html","title":"Config Files","text":"<p>Most control of the simulation is done via configuration files written in YAML format.</p>"},{"location":"user-guide/writing-configs.html#simulation-controls","title":"Simulation Controls","text":"<pre><code>scenario: Three Market Test Network\nsimulation_controls:\nrandom_seed: 42\nnum_trials: 1\nnum_samples: 300\nsys_k_factor: 0.1\nmkt_k_factor: 0.2\npax_type_k_factor: 0.4\ntf_k_factor: 0.1\nz_factor: 2.0\nprorate_revenue: true\ndwm_lite: false\nmax_connect_time: 120\ndisable_ap: false\ndemand_multiplier: 1.0\nmanual_paths: true\n</code></pre>"},{"location":"user-guide/writing-configs.html#rm-systems","title":"RM Systems","text":"<p>The <code>rm_systems</code> key allows the user to define one or more revenue management systems that may be used by carriers.</p> <p>These systems can either be defined as a list, where each item in the list defines both a name and steps, or you can write the same instruction as a nested mapping, with the names as keys and the values giving the other attributes of each RM system, (for now, just a list of steps) like this:</p> as listas dict <p><pre><code>rm_systems:\n- name: rm_test1\nsteps:\n- step_type: untruncation  #(1)!\nname: untruncation\nalgorithm: em\nkind: leg\n- step_type: forecast\nname: forecast\nalgorithm: exp_smoothing\nalpha: 0.1\nkind: leg\n- step_type: optimization\nname: optimization\nalgorithm: emsrb  #(2)!\nkind: leg\n</code></pre></p> <ol> <li> Untruncation allows us to figure out how much demand was censored.</li> <li>If you define different RM systems, you can attach different optimization algorithms, such as     ProBP.</li> </ol> <p><pre><code>rm_systems:\nrm_test1:\nsteps:\n- step_type: untruncation  #(1)!\nname: untruncation\nalgorithm: em\nkind: leg\n- step_type: forecast\nname: forecast\nalgorithm: exp_smoothing\nalpha: 0.1\nkind: leg\n- step_type: optimization\nname: optimization\nalgorithm: emsrb  #(2)!\nkind: leg\n</code></pre></p> <ol> <li> Untruncation allows us to figure out how much demand was censored.</li> <li>If you define different RM systems, you can attach different optimization algorithms, such as     ProBP.</li> </ol>"},{"location":"user-guide/writing-configs.html#passenger-choice-models","title":"Passenger Choice Models","text":"<pre><code>choice_models:\nbusiness:\nkind: pods\nemult: 1.6\nbasefare_mult: 2.5\npath_quality:  [38.30,  0.10]\npreferred_airline:  [-12.29,  0.17]\ntolerance: 2.0\nr1: 0.30\nr2: 0.10\nr3: 0.20\nr4: 0.15\nleisure:\nkind: pods\nemult: 1.5\nbasefare_mult: 1.0\npath_quality:  [2.02, 0.12]\npreferred_airline:  [-1.98, 0.11]\ntolerance: 5.0\nr1: 0.30\nr2: 0.15\nr3: 0.25\nr4: 0.20\n</code></pre>"},{"location":"user-guide/writing-configs.html#define-carriers","title":"Define Carriers","text":"<pre><code>airlines:\n- name: AL1\nrm_system: rm_test1\n- name: AL2\nrm_system: rm_test1\n- name: AL3\nrm_system: rm_test1\n- name: AL4\nrm_system: rm_test1\n</code></pre>"},{"location":"user-guide/writing-configs.html#define-booking-classes","title":"Define Booking Classes","text":"<pre><code>classes:\n- Y0\n- Y1\n- Y2\n- Y3\n- Y4\n- Y5\n- Y6\n- Y7\n- Y8\n- Y9\n</code></pre>"},{"location":"user-guide/writing-configs.html#data-collection-points-dcps","title":"Data Collection Points (DCPs)","text":"<pre><code>dcps:\n- 63\n- 56\n- 49\n- 42\n- 35\n- 31\n- 28\n- 24\n- 21\n- 17\n- 14\n- 10\n- 7\n- 5\n- 3\n- 1\n</code></pre>"},{"location":"user-guide/writing-configs.html#booking-curves","title":"Booking Curves","text":"<pre><code>booking_curves:\n- name: '1'\ncurve:\n63: 0.01\n56: 0.02\n49: 0.05\n42: 0.13\n35: 0.19\n31: 0.23\n28: 0.29\n24: 0.35\n21: 0.45\n17: 0.54\n14: 0.67\n10: 0.79\n7: 0.86\n5: 0.91\n3: 0.96\n1: 1.0\n- name: '2'\ncurve:\n63: 0.13\n56: 0.22\n49: 0.37\n42: 0.52\n35: 0.64\n31: 0.7\n28: 0.75\n24: 0.78\n21: 0.83\n17: 0.87\n14: 0.91\n10: 0.94\n7: 0.96\n5: 0.98\n3: 0.99\n1: 1.0\n- name: '3'\ncurve:\n63: 0.04\n56: 0.06\n49: 0.12\n42: 0.26\n35: 0.35\n31: 0.41\n28: 0.48\n24: 0.54\n21: 0.63\n17: 0.7\n14: 0.81\n10: 0.88\n7: 0.93\n5: 0.96\n3: 0.98\n1: 1.0\n- name: '4'\ncurve:\n63: 0.21\n56: 0.35\n49: 0.53\n42: 0.67\n35: 0.76\n31: 0.8\n28: 0.83\n24: 0.85\n21: 0.88\n17: 0.91\n14: 0.94\n10: 0.96\n7: 0.97\n5: 0.98\n3: 0.99\n1: 1.0\n</code></pre>"},{"location":"user-guide/writing-configs.html#legs","title":"Legs","text":"<pre><code>legs:\n- carrier: AL1\nfltno: 1\norig: BOS\ndest: SFO\ndate: '2020-01-01'\ndep_time: 08:00\narr_time: '10:00'\ncapacity: 100\ndistance: 867.0\n- carrier: AL2\nfltno: 2\norig: BOS\ndest: SFO\ndate: '2020-01-01'\ndep_time: '14:00'\narr_time: '16:00'\ncapacity: 100\ndistance: 867.0\n...\n</code></pre>"},{"location":"user-guide/writing-configs.html#paths","title":"Paths","text":"<pre><code>paths:\n- orig: BOS\ndest: SFO\npath_quality_index: 1.0\nlegs:\n- 1\n- orig: BOS\ndest: SFO\npath_quality_index: 1.0\nlegs:\n- 2\n- orig: BOS\ndest: ORD\npath_quality_index: 1.0\nlegs:\n- 3\n...\n</code></pre>"}]}