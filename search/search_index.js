var __index = {"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Home","text":"<p>This is the technical documentation for the PassengerSim simulator.</p>"},{"location":"API/index.html","title":"PassengerSim API","text":"<p>The main <code>passengersim</code> package includes configuration and analysis tools.  It is freely available for use.</p> <p>The <code>passengersim.core</code> sub-package is only available to authorized users.</p>"},{"location":"API/Core/index.html","title":"PassengerSim.Core API","text":"<p>While the main <code>passengersim</code> package available as a freely downloadable open source package, the functionality in the <code>passengersim.core</code> sub-package  is only available to authorized users.  The documentation of the API for this  sub-package is provided here. </p>"},{"location":"API/Core/00-SimulationEngine.html","title":"Simulation Engine","text":""},{"location":"API/Core/00-SimulationEngine.html#passengersim_core.SimulationEngine-attributes","title":"Attributes","text":""},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.airlines","title":"airlines  <code>instance-attribute</code>","text":"<pre><code>airlines: Iterator[Airline]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.bucketnames","title":"bucketnames  <code>instance-attribute</code>","text":"<pre><code>bucketnames: Iterator[str]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.buckets","title":"buckets  <code>instance-attribute</code>","text":"<pre><code>buckets: Iterator[Bucket]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.burn_samples","title":"burn_samples  <code>instance-attribute</code>","text":"<pre><code>burn_samples: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.config","title":"config  <code>instance-attribute</code>","text":"<pre><code>config: Config | None\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.demands","title":"demands  <code>instance-attribute</code>","text":"<pre><code>demands: Iterator[Demand]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.disable_ap","title":"disable_ap  <code>instance-attribute</code>","text":"<pre><code>disable_ap: bool\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.dwm_lite","title":"dwm_lite  <code>instance-attribute</code>","text":"<pre><code>dwm_lite: bool\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.fares","title":"fares  <code>instance-attribute</code>","text":"<pre><code>fares: Iterator[Fare]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.iteration","title":"iteration  <code>instance-attribute</code>","text":"<pre><code>iteration: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.last_dcp","title":"last_dcp  <code>instance-attribute</code>","text":"<pre><code>last_dcp: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.last_event_time","title":"last_event_time  <code>instance-attribute</code>","text":"<pre><code>last_event_time: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.legs","title":"legs  <code>instance-attribute</code>","text":"<pre><code>legs: Iterator[Leg]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.manual_paths","title":"manual_paths  <code>instance-attribute</code>","text":"<pre><code>manual_paths: bool\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.max_connect_time","title":"max_connect_time  <code>instance-attribute</code>","text":"<pre><code>max_connect_time: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.mkt_k_factor","title":"mkt_k_factor  <code>instance-attribute</code>","text":"<pre><code>mkt_k_factor: float\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.num_samples","title":"num_samples  <code>instance-attribute</code>","text":"<pre><code>num_samples: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.num_trials","title":"num_trials  <code>instance-attribute</code>","text":"<pre><code>num_trials: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.pathclasses","title":"pathclasses  <code>instance-attribute</code>","text":"<pre><code>pathclasses: Iterator[PathClass]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.paths","title":"paths  <code>instance-attribute</code>","text":"<pre><code>paths: Iterator[Path]\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.pax_type_k_factor","title":"pax_type_k_factor  <code>instance-attribute</code>","text":"<pre><code>pax_type_k_factor: float\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.prorate_revenue","title":"prorate_revenue  <code>instance-attribute</code>","text":"<pre><code>prorate_revenue: bool\n</code></pre> <p>When set to True, O&amp;D revenue is prorated by mileage to the leg level</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.random_generator","title":"random_generator  <code>instance-attribute</code>","text":"<pre><code>random_generator: Generator\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.revenue","title":"revenue  <code>instance-attribute</code>","text":"<pre><code>revenue: float\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.sample","title":"sample  <code>instance-attribute</code>","text":"<pre><code>sample: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.save_timeframe_details","title":"save_timeframe_details  <code>instance-attribute</code>","text":"<pre><code>save_timeframe_details: bool\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.snapshot_filters","title":"snapshot_filters  <code>instance-attribute</code>","text":"<pre><code>snapshot_filters: list[SnapshotFilter] | None\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.sys_k_factor","title":"sys_k_factor  <code>instance-attribute</code>","text":"<pre><code>sys_k_factor: float\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.tf_k_factor","title":"tf_k_factor  <code>instance-attribute</code>","text":"<pre><code>tf_k_factor: float\n</code></pre> <p>Timeframe k-factor, controls variance in the passenger arrival curves</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.trial","title":"trial  <code>instance-attribute</code>","text":"<pre><code>trial: int\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.z_factor","title":"z_factor  <code>instance-attribute</code>","text":"<pre><code>z_factor: float\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core.SimulationEngine-functions","title":"Functions","text":""},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.__init__","title":"__init__","text":"<pre><code>__init__(name: str, random_generator: str = None)\n</code></pre>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.add_airline","title":"add_airline","text":"<pre><code>add_airline(airline: Airline) -&gt; None\n</code></pre> <p>Add an Airline to the simulation</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.add_demand","title":"add_demand","text":"<pre><code>add_demand(dmd: Demand) -&gt; None\n</code></pre> <p>Add a Market Segment demand to the simulation.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.add_fare","title":"add_fare","text":"<pre><code>add_fare(fare: Fare) -&gt; None\n</code></pre> <p>Add a Fare to the simulation.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.add_leg","title":"add_leg","text":"<pre><code>add_leg(leg: Leg) -&gt; None\n</code></pre> <p>Add a Leg to the simulation.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.add_path","title":"add_path","text":"<pre><code>add_path(path: Path) -&gt; None\n</code></pre> <p>Add a Path to the simulation.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.allocate_demand_to_tf","title":"allocate_demand_to_tf","text":"<pre><code>allocate_demand_to_tf(\ndmd: Demand,\nnum_pax: int,\ntf_k_factor: float,\nendTS: int,\ndebug: bool = False,\n) -&gt; int\n</code></pre> <p>Generate events for a single demand (used to simulate PODS processing)</p> <p>Parameters:</p> <ul> <li> dmd             (<code>Demand</code>)         \u2013          </li> <li> num_pax             (<code>int</code>)         \u2013          </li> <li> tf_k_factor             (<code>float</code>)         \u2013          </li> <li> endTS             (<code>int</code>)         \u2013          </li> <li> debug             (<code>bool</code>, default:                 <code>False</code> )         \u2013          </li> </ul> <p>Returns:</p> <ul> <li> <code>int</code>         \u2013          <p>Number of events allocated.</p> </li> </ul>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.build_connections","title":"build_connections","text":"<pre><code>build_connections() -&gt; None\n</code></pre> <p>Build connections for the demands.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.final_write_to_sqlite","title":"final_write_to_sqlite","text":"<pre><code>final_write_to_sqlite(\ncnx: sqlite3.Connection,\nwrite_detail: set[str] | None = None,\n)\n</code></pre> <p>Write final summary details to sqlite</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.go","title":"go","text":"<pre><code>go() -&gt; Any\n</code></pre> <p>Run the simulation.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.num_events","title":"num_events","text":"<pre><code>num_events() -&gt; int\n</code></pre> <p>Return the number of events currently on the event queue.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.path_2_leg","title":"path_2_leg","text":"<pre><code>path_2_leg(airline: str) -&gt; None\n</code></pre> <p>Aggregate PathClass forecasts to Leg/Bucket</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.reset_counters","title":"reset_counters","text":"<pre><code>reset_counters() -&gt; None\n</code></pre> <p>Reset counters for sold &amp; revenue, for demands and legs.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.set_parm","title":"set_parm","text":"<pre><code>set_parm(name: str, value: float) -&gt; None\n</code></pre> <p>Set a simulation parameter by name and value</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.update_db_write_flags","title":"update_db_write_flags","text":"<pre><code>update_db_write_flags()\n</code></pre> <p>Update database writing flags based on config.</p>"},{"location":"API/Core/00-SimulationEngine.html#passengersim_core._SimulationEngine.SimulationEngine.write_to_sqlite","title":"write_to_sqlite","text":"<pre><code>write_to_sqlite(\ncnx: sqlite3.Connection,\ndcp: int,\nwrite_detail: set[str] | None = None,\n)\n</code></pre> <p>Write details to sqlite</p>"},{"location":"API/Core/Airline.html","title":"Airline","text":""},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.control","title":"control  <code>instance-attribute</code>","text":"<pre><code>control: Literal['leg', 'theft', 'bp', 'vn', 'none']\n</code></pre> <p>Control method for this carrier.</p>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.gt_available_seat_miles","title":"gt_available_seat_miles  <code>instance-attribute</code>","text":"<pre><code>gt_available_seat_miles: float\n</code></pre> <p>Grand total ASM, gets updated outside the burn period and is not reset by the reset methods</p>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.gt_demand","title":"gt_demand  <code>instance-attribute</code>","text":"<pre><code>gt_demand: int\n</code></pre> <p>Grand total generated demand, gets updated outside the burn period and is not reset by the reset methods</p>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.gt_revenue","title":"gt_revenue  <code>instance-attribute</code>","text":"<pre><code>gt_revenue: float\n</code></pre> <p>Grand total revenue, gets updated outside the burn period and is not reset by the reset methods</p>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.gt_revenue_passenger_miles","title":"gt_revenue_passenger_miles  <code>instance-attribute</code>","text":"<pre><code>gt_revenue_passenger_miles: float\n</code></pre> <p>Grand total RPM, gets updated outside the burn period and is not reset by the reset methods</p>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.gt_sold","title":"gt_sold  <code>instance-attribute</code>","text":"<pre><code>gt_sold: int\n</code></pre> <p>Grand total sold, gets updated outside the burn period and is not reset by the reset methods</p>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.revenue","title":"revenue  <code>instance-attribute</code>","text":"<pre><code>revenue: float\n</code></pre>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.rm_system","title":"rm_system  <code>instance-attribute</code>","text":"<pre><code>rm_system: Any\n</code></pre> <p>An instance of RmSystem, called at each DCP to do detruncation / forecasting / optimization</p>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.sold","title":"sold  <code>instance-attribute</code>","text":"<pre><code>sold: int\n</code></pre>"},{"location":"API/Core/Airline.html#passengersim_core._Airline.Airline.__init__","title":"__init__","text":"<pre><code>__init__(\nname: str,\ncontrol: Literal[\n\"leg\", \"theft\", \"bp\", \"vn\", \"none\"\n] = \"leg\",\n)\n</code></pre>"},{"location":"API/Core/BookingCurves.html","title":"Booking Curves","text":""},{"location":"API/Core/BookingCurves.html#passengersim_core._BookingCurve.BookingCurve.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre>"},{"location":"API/Core/BookingCurves.html#passengersim_core._BookingCurve.BookingCurve.random_generator","title":"random_generator  <code>instance-attribute</code>","text":"<pre><code>random_generator: Generator\n</code></pre>"},{"location":"API/Core/BookingCurves.html#passengersim_core._BookingCurve.BookingCurve.__init__","title":"__init__","text":"<pre><code>__init__(name: str)\n</code></pre>"},{"location":"API/Core/BookingCurves.html#passengersim_core._BookingCurve.BookingCurve.add_dcp","title":"add_dcp","text":"<pre><code>add_dcp(dcp: int, pct: float)\n</code></pre>"},{"location":"API/Core/BookingCurves.html#passengersim_core._BookingCurve.BookingCurve.get_curve","title":"get_curve","text":"<pre><code>get_curve() -&gt; dict[int, float]\n</code></pre>"},{"location":"API/Core/Bucket.html","title":"Bucket","text":""},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.alloc","title":"alloc  <code>instance-attribute</code>","text":"<pre><code>alloc: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.fcst_mean","title":"fcst_mean  <code>instance-attribute</code>","text":"<pre><code>fcst_mean: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.fcst_revenue","title":"fcst_revenue  <code>instance-attribute</code>","text":"<pre><code>fcst_revenue: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.fcst_std_dev","title":"fcst_std_dev  <code>instance-attribute</code>","text":"<pre><code>fcst_std_dev: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.gt_revenue","title":"gt_revenue  <code>instance-attribute</code>","text":"<pre><code>gt_revenue: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.gt_sold","title":"gt_sold  <code>instance-attribute</code>","text":"<pre><code>gt_sold: int\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.price","title":"price  <code>instance-attribute</code>","text":"<pre><code>price: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.protection","title":"protection  <code>instance-attribute</code>","text":"<pre><code>protection: int\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.revenue","title":"revenue  <code>instance-attribute</code>","text":"<pre><code>revenue: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.sold","title":"sold  <code>instance-attribute</code>","text":"<pre><code>sold: int\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.untruncated_demand","title":"untruncated_demand  <code>instance-attribute</code>","text":"<pre><code>untruncated_demand: float\n</code></pre>"},{"location":"API/Core/Bucket.html#passengersim_core._Bucket.Bucket.__init__","title":"__init__","text":"<pre><code>__init__(\nname: str,\nalloc: float = 0,\nprice: float = 0,\nsold: float = 0,\nrevenue: float = 0,\nfcst_mean: float = 0,\nfcst_std_dev: float = 0,\n)\n</code></pre>"},{"location":"API/Core/ChoiceModel.html","title":"Choice Model","text":""},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.path_quality_alpha","title":"path_quality_alpha  <code>instance-attribute</code>","text":"<pre><code>path_quality_alpha: float\n</code></pre>"},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.path_quality_beta","title":"path_quality_beta  <code>instance-attribute</code>","text":"<pre><code>path_quality_beta: float\n</code></pre>"},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.preferred_airline_alpha","title":"preferred_airline_alpha  <code>instance-attribute</code>","text":"<pre><code>preferred_airline_alpha: float\n</code></pre>"},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.preferred_airline_beta","title":"preferred_airline_beta  <code>instance-attribute</code>","text":"<pre><code>preferred_airline_beta: float\n</code></pre>"},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.random_generator","title":"random_generator  <code>instance-attribute</code>","text":"<pre><code>random_generator: Generator\n</code></pre>"},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.__init__","title":"__init__","text":"<pre><code>__init__(name: str, type: Literal['logit', 'pods'])\n</code></pre>"},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.add_parm","title":"add_parm","text":"<pre><code>add_parm(\nname: str, value: float, value2: float = 0\n) -&gt; None\n</code></pre> <p>Add a parameter value to the choice model</p>"},{"location":"API/Core/ChoiceModel.html#passengersim_core._ChoiceModel.ChoiceModel.serialize","title":"serialize","text":"<pre><code>serialize() -&gt; dict\n</code></pre> <p>Get all parameter values from the choice model.</p>"},{"location":"API/Core/Demand.html","title":"Demand","text":""},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.base_demand","title":"base_demand  <code>instance-attribute</code>","text":"<pre><code>base_demand: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.business","title":"business  <code>instance-attribute</code>","text":"<pre><code>business: bool\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.curve_number","title":"curve_number  <code>instance-attribute</code>","text":"<pre><code>curve_number: int\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.distance","title":"distance  <code>instance-attribute</code>","text":"<pre><code>distance: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.generated_demand","title":"generated_demand  <code>instance-attribute</code>","text":"<pre><code>generated_demand: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.gt_demand","title":"gt_demand  <code>instance-attribute</code>","text":"<pre><code>gt_demand: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.gt_eliminated_chose_nothing","title":"gt_eliminated_chose_nothing  <code>instance-attribute</code>","text":"<pre><code>gt_eliminated_chose_nothing: int\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.gt_eliminated_no_offers","title":"gt_eliminated_no_offers  <code>instance-attribute</code>","text":"<pre><code>gt_eliminated_no_offers: int\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.gt_eliminated_wtp","title":"gt_eliminated_wtp  <code>instance-attribute</code>","text":"<pre><code>gt_eliminated_wtp: int\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.gt_revenue","title":"gt_revenue  <code>instance-attribute</code>","text":"<pre><code>gt_revenue: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.gt_sold","title":"gt_sold  <code>instance-attribute</code>","text":"<pre><code>gt_sold: int\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.price","title":"price  <code>instance-attribute</code>","text":"<pre><code>price: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.reference_fare","title":"reference_fare  <code>instance-attribute</code>","text":"<pre><code>reference_fare: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.revenue","title":"revenue  <code>instance-attribute</code>","text":"<pre><code>revenue: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.scenario_demand","title":"scenario_demand  <code>instance-attribute</code>","text":"<pre><code>scenario_demand: float\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.segment","title":"segment  <code>instance-attribute</code>","text":"<pre><code>segment: str\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.sold","title":"sold  <code>instance-attribute</code>","text":"<pre><code>sold: int\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.__init__","title":"__init__","text":"<pre><code>__init__(\norig: str,\ndest: str,\nsegment: str = None,\nbase_demand: float = 0,\nscenario_demand: float = 0,\n)\n</code></pre>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.add_choice_model","title":"add_choice_model","text":"<pre><code>add_choice_model(choicemodel: ChoiceModel)\n</code></pre> <p>Add a choice model to this market segment</p>"},{"location":"API/Core/Demand.html#passengersim_core._Demand.Demand.add_curve","title":"add_curve","text":"<pre><code>add_curve(curve: BookingCurve)\n</code></pre> <p>Add a choice model to this market segment</p>"},{"location":"API/Core/Fare.html","title":"Fare","text":""},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.adv_purch","title":"adv_purch  <code>instance-attribute</code>","text":"<pre><code>adv_purch: int\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.booking_class","title":"booking_class  <code>instance-attribute</code>","text":"<pre><code>booking_class: str\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.carrier","title":"carrier  <code>instance-attribute</code>","text":"<pre><code>carrier: str\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.gt_revenue","title":"gt_revenue  <code>instance-attribute</code>","text":"<pre><code>gt_revenue: float\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.gt_sold","title":"gt_sold  <code>instance-attribute</code>","text":"<pre><code>gt_sold: int\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.price","title":"price  <code>instance-attribute</code>","text":"<pre><code>price: float\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.sold","title":"sold  <code>instance-attribute</code>","text":"<pre><code>sold: int\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.sold_business","title":"sold_business  <code>instance-attribute</code>","text":"<pre><code>sold_business: int\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.__init__","title":"__init__","text":"<pre><code>__init__(\ncarrier: str,\norig: str,\ndest: str,\nbooking_class: str,\nprice: float,\n)\n</code></pre>"},{"location":"API/Core/Fare.html#passengersim_core._Fare.Fare.add_restriction","title":"add_restriction","text":"<pre><code>add_restriction(restriction: str) -&gt; None\n</code></pre> <p>Add a restriction code to this Fare.</p>"},{"location":"API/Core/Generator.html","title":"Generator","text":""},{"location":"API/Core/Generator.html#passengersim_core._Generator.Generator.bitgenerator","title":"bitgenerator  <code>instance-attribute</code>","text":"<pre><code>bitgenerator: np.random.BitGenerator\n</code></pre>"},{"location":"API/Core/Generator.html#passengersim_core._Generator.Generator.bitgenerator_class","title":"bitgenerator_class  <code>instance-attribute</code>","text":"<pre><code>bitgenerator_class: type[np.random.BitGenerator]\n</code></pre>"},{"location":"API/Core/Generator.html#passengersim_core._Generator.Generator.__init__","title":"__init__","text":"<pre><code>__init__(\nseed: int | None = None,\nbitgenerator_class: type[np.random.BitGenerator]\n| None = None,\n)\n</code></pre> <p>Initialize a random number generator.</p> <p>Parameters:</p> <ul> <li> seed             (<code>int or None</code>, default:                 <code>None</code> )         \u2013          <p>For reproducibility, provide a seed.  If no seed is provided, a random seed is provided by the operating system and generally the results will be different every time you reseed.</p> </li> <li> bitgenerator_class             (<code>type[np.random.BitGenerator]</code>, default:                 <code>None</code> )         \u2013          <p>This is the class used to create new BitGenerator objects when the seed is reset.</p> </li> </ul>"},{"location":"API/Core/Generator.html#passengersim_core._Generator.Generator.get_normal","title":"get_normal","text":"<pre><code>get_normal() -&gt; float\n</code></pre> <p>Return a random draw from a standard normal distribution.</p>"},{"location":"API/Core/Generator.html#passengersim_core._Generator.Generator.get_uniform","title":"get_uniform","text":"<pre><code>get_uniform() -&gt; float\n</code></pre> <p>Return a random draw standard uniform distribution.</p>"},{"location":"API/Core/Generator.html#passengersim_core._Generator.Generator.seed","title":"seed","text":"<pre><code>seed(seed: int | list[int] | None) -&gt; None\n</code></pre> <p>Reseed the random bit generator.</p>"},{"location":"API/Core/Leg.html","title":"Leg","text":""},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.arr_time","title":"arr_time  <code>instance-attribute</code>","text":"<pre><code>arr_time: int\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.bid_price","title":"bid_price  <code>instance-attribute</code>","text":"<pre><code>bid_price: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.bid_price_gradient","title":"bid_price_gradient  <code>instance-attribute</code>","text":"<pre><code>bid_price_gradient: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.buckets","title":"buckets  <code>instance-attribute</code>","text":"<pre><code>buckets: Iterator[Bucket]\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.capacity","title":"capacity  <code>instance-attribute</code>","text":"<pre><code>capacity: int\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.carrier","title":"carrier  <code>instance-attribute</code>","text":"<pre><code>carrier: str\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.dep_time","title":"dep_time  <code>instance-attribute</code>","text":"<pre><code>dep_time: int\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.displacement","title":"displacement  <code>instance-attribute</code>","text":"<pre><code>displacement: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.distance","title":"distance  <code>instance-attribute</code>","text":"<pre><code>distance: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.duration","title":"duration  <code>instance-attribute</code>","text":"<pre><code>duration: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.equipment","title":"equipment  <code>instance-attribute</code>","text":"<pre><code>equipment: str\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.fcst_mean","title":"fcst_mean  <code>instance-attribute</code>","text":"<pre><code>fcst_mean: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.fcst_std_dev","title":"fcst_std_dev  <code>instance-attribute</code>","text":"<pre><code>fcst_std_dev: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.flt_no","title":"flt_no  <code>instance-attribute</code>","text":"<pre><code>flt_no: int\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.gt_capacity","title":"gt_capacity  <code>instance-attribute</code>","text":"<pre><code>gt_capacity: int\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.gt_revenue","title":"gt_revenue  <code>instance-attribute</code>","text":"<pre><code>gt_revenue: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.gt_sold","title":"gt_sold  <code>instance-attribute</code>","text":"<pre><code>gt_sold: int\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.info","title":"info  <code>instance-attribute</code>","text":"<pre><code>info: Any\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.q_demand","title":"q_demand  <code>instance-attribute</code>","text":"<pre><code>q_demand: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.revenue","title":"revenue  <code>instance-attribute</code>","text":"<pre><code>revenue: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.sold","title":"sold  <code>instance-attribute</code>","text":"<pre><code>sold: float\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.__init__","title":"__init__","text":"<pre><code>__init__(\ncarrier: str,\nflt_no: int,\norig: str,\ndest: str,\ncapacity: int = 0,\nsold: int = 0,\nduration: int = 0,\nequipment: str = None,\ninfo: Any = None,\n)\n</code></pre>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.add_bucket","title":"add_bucket","text":"<pre><code>add_bucket(*args: Bucket)\n</code></pre> <p>Add an inventory control bucket to the Leg.</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.bucket_number","title":"bucket_number","text":"<pre><code>bucket_number(i: int | str) -&gt; Bucket\n</code></pre> <p>Get the bucket from the leg.</p> <p>Parameters:</p> <ul> <li> i             (<code>int or str</code>)         \u2013          <p>If an integer, returns the bucket at this index position from the list of buckets attached to this Leg.  If given as a str, returns the bucket with the indicated booking class.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Bucket</code>         \u2013          </li> </ul>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.capture_dcp","title":"capture_dcp","text":"<pre><code>capture_dcp(i: int) -&gt; None\n</code></pre> <p>Grab a snapshot of important variables.</p> <p>Parameters:</p> <ul> <li> i             (<code>int</code>)         \u2013          <p>The index of the DCP to capture.</p> </li> </ul>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.get_bucket_auth","title":"get_bucket_auth","text":"<pre><code>get_bucket_auth(i: int | str) -&gt; int\n</code></pre> <p>Get the authorization for a bucket attached to this leg.</p> <p>Parameters:</p> <ul> <li> i             (<code>int or str</code>)         \u2013          <p>If an integer, returns the auth of the bucket at this index position from the list of buckets attached to this Leg.  If given as a str, returns the auth of the bucket with the indicated booking class.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>int</code>         \u2013          </li> </ul>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.get_bucket_sold","title":"get_bucket_sold","text":"<pre><code>get_bucket_sold(i: int | str) -&gt; int\n</code></pre> <p>Get the number of seats sold for a bucket attached to this leg.</p> <p>Parameters:</p> <ul> <li> i             (<code>int or str</code>)         \u2013          <p>If an integer, returns the number of seats sold for the bucket at this index position from the list of buckets attached to this Leg.  If given as a str, returns the number of seats sold for the bucket with the indicated booking class.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>int</code>         \u2013          </li> </ul>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.get_num_buckets","title":"get_num_buckets","text":"<pre><code>get_num_buckets() -&gt; int\n</code></pre> <p>Get the number of buckets attached to this leg.</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.print_bucket_detail","title":"print_bucket_detail","text":"<pre><code>print_bucket_detail() -&gt; None\n</code></pre> <p>Print a bunch of debugging info</p>"},{"location":"API/Core/Leg.html#passengersim_core._Leg.Leg.write_to_sqlite","title":"write_to_sqlite","text":"<pre><code>write_to_sqlite(\nsqlite_pointer: sqlite3.Connection,\nsim: SimulationEngine,\ndcp: int,\n)\n</code></pre> <p>Write to leg_bucket_detail.</p>"},{"location":"API/Core/Path.html","title":"Path","text":""},{"location":"API/Core/Path.html#passengersim_core._Path.Path.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.gt_revenue","title":"gt_revenue  <code>instance-attribute</code>","text":"<pre><code>gt_revenue: float\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.gt_sold","title":"gt_sold  <code>instance-attribute</code>","text":"<pre><code>gt_sold: int\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.path_quality_index","title":"path_quality_index  <code>instance-attribute</code>","text":"<pre><code>path_quality_index: float\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.price","title":"price  <code>instance-attribute</code>","text":"<pre><code>price: float\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.revenue","title":"revenue  <code>instance-attribute</code>","text":"<pre><code>revenue: float\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.sold","title":"sold  <code>instance-attribute</code>","text":"<pre><code>sold: int\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.utility","title":"utility  <code>instance-attribute</code>","text":"<pre><code>utility: float\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.__init__","title":"__init__","text":"<pre><code>__init__(orig: str, dest: str, price: float)\n</code></pre>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.add_leg","title":"add_leg","text":"<pre><code>add_leg(leg: Leg) -&gt; None\n</code></pre> <p>Add a leg to this Path.</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.get_leg_bid_price","title":"get_leg_bid_price","text":"<pre><code>get_leg_bid_price(n: int) -&gt; str\n</code></pre> <p>Get the bid price on the n-th leg.</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.get_leg_carrier","title":"get_leg_carrier","text":"<pre><code>get_leg_carrier(n: int) -&gt; str\n</code></pre> <p>Get the carrier code for the n-th leg.</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.get_leg_fltno","title":"get_leg_fltno","text":"<pre><code>get_leg_fltno(n: int) -&gt; str\n</code></pre> <p>Get the flight number for the n-th leg.</p>"},{"location":"API/Core/Path.html#passengersim_core._Path.Path.num_legs","title":"num_legs","text":"<pre><code>num_legs() -&gt; int\n</code></pre> <p>How many legs are on this path?</p>"},{"location":"API/Core/PathClass.html","title":"Path Class","text":""},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.booking_class","title":"booking_class  <code>instance-attribute</code>","text":"<pre><code>booking_class: str\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.contribution1","title":"contribution1  <code>instance-attribute</code>","text":"<pre><code>contribution1: float\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.contribution2","title":"contribution2  <code>instance-attribute</code>","text":"<pre><code>contribution2: float\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.decision_fare","title":"decision_fare  <code>instance-attribute</code>","text":"<pre><code>decision_fare: float\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.fcst_mean","title":"fcst_mean  <code>instance-attribute</code>","text":"<pre><code>fcst_mean: float\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.fcst_std_dev","title":"fcst_std_dev  <code>instance-attribute</code>","text":"<pre><code>fcst_std_dev: float\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.index1","title":"index1  <code>instance-attribute</code>","text":"<pre><code>index1: int\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.index2","title":"index2  <code>instance-attribute</code>","text":"<pre><code>index2: int\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.__init__","title":"__init__","text":"<pre><code>__init__(booking_class: Any)\n</code></pre>"},{"location":"API/Core/PathClass.html#passengersim_core._PathClass.PathClass.set_indexes","title":"set_indexes","text":"<pre><code>set_indexes(i1: int, i2: int = 0) -&gt; None\n</code></pre> <p>Set the VN indexes for this PathClass.</p>"},{"location":"API/config/00-configs.html","title":"Config","text":""},{"location":"API/config/00-configs.html#passengersim.config.base.Config","title":"Config","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>src/passengersim/passengersim/config/base.py</code> <pre><code>class Config(BaseModel, extra=\"forbid\"):\nscenario: str = Field(default_factory=random_label)\n\"\"\"Name for this scenario.\n    The scenario name is helpful when writing different simulations to the same\n    database so you can uniquely identify and query results for a particular\n    scenario.\"\"\"\nsimulation_controls: SimulationSettings = SimulationSettings()\n\"\"\"\n    Controls that apply broadly to the overall simulation.\n    See [passengersim.config.SimulationSettings][] for detailed documentation.\n    \"\"\"\ndb: DatabaseConfig = DatabaseConfig()\n\"\"\"\n    See [passengersim.config.DatabaseConfig][] for detailed documentation.\n    \"\"\"\nrm_systems: DictOfNamed[RmSystem] = []\n\"\"\"\n    The revenue management systems used by the carriers in this simulation.\n    See [RM Systems][rm-systems] for details.\n    \"\"\"\nchoice_models: DictOfNamed[ChoiceModel] = {}\n\"\"\"Several choice models are programmed behind the scenes.  The choice_models option allows the user to set the parameters used in the utility model for a particular choice model.\n    There are two choice models currently programmed.\n    Need to explaining more here\"\"\"\nairlines: DictOfNamed[Airline] = {}\n\"\"\"A list of airlines.\n    One convention is to use Airline1, Airline2, ... to list the airlines in the\n    network.  Another convention is to use IATA industry-standard two-letter airline\n    codes.  See the\n    [IATA code search](https://www.iata.org/en/publications/directories/code-search/)\n    for more information.\"\"\"\nclasses: list[str] = []\n\"\"\"A list of fare classes.  \n    One convention is to use Y0, Y1, ... to label fare classes from the highest \n    fare (Y0) to the lowest fare (Yn).  An example of classes is below.\n    Example\n    -------\n    ```{yaml}\n    classes:\n      - Y0\n      - Y1\n      - Y2\n      - Y3\n      - Y4\n      - Y5\n    ```\n    \"\"\"\ndcps: list[int] = []\n\"\"\"A list of DCPs (data collection points).\n    The DCPs are given as integers, which represent the number of days\n    before departure.   An example of data collection points is given below.  Note that as you get closer to day of departure (DCP=0) the number of days between two consecutive DCP periods\n    decreases.  The DCP intervals are shorter because as you get closer to departure, customer arrival rates tend to increase, and it is advantageous to forecast changes in demand for shorter intervals.\n    dcps:\n  - 63\n  - 56\n  - 49\n  - 42\n  - 35\n  - 31\n  - 28\n  - 24\n  - 21\n  - 17\n  - 14\n  - 10\n  - 7\n  - 5\n  - 3\n  - 1\n    \"\"\"\nbooking_curves: DictOfNamed[BookingCurve] = {}\n\"\"\"Booking curves\n    An example of a booking curve is below.\n    booking_curves:\n  - name: c1\n    curve:\n      63: 0.06\n      56: 0.11\n      49: 0.15\n      42: 0.2\n      35: 0.23\n      31: 0.25\n      28: 0.28\n      24: 0.31\n      21: 0.35\n      17: 0.4\n      14: 0.5\n      10: 0.62\n      7: 0.7\n      5: 0.78\n      3: 0.95\n      1: 1.0\n\"\"\"\nlegs: list[Leg] = []\ndemands: list[Demand] = []\nfares: list[Fare] = []\npaths: list[Path] = []\nsnapshot_filters: list[SnapshotFilter] = []\n@model_validator(mode=\"after\")\ndef _airlines_have_rm_systems(cls, m: Config):\n\"\"\"Check that all airlines have RM systems that have been defined.\"\"\"\nfor airline in m.airlines.values():\nif airline.rm_system not in m.rm_systems:\nraise ValueError(\nf\"Airline {airline.name} has unknown RM system {airline.rm_system}\"\n)\nreturn m\n@model_validator(mode=\"after\")\ndef _booking_curves_match_dcps(cls, m: Config):\n\"\"\"Check that all booking curves are complete and valid.\"\"\"\nsorted_dcps = reversed(sorted(m.dcps))\nfor curve in m.booking_curves.values():\ni = 0\nfor dcp in sorted_dcps:\nassert (\ndcp in curve.curve\n), f\"booking curve {curve.name} is missing dcp {dcp}\"\nassert (\ncurve.curve[dcp] &gt;= i\n), f\"booking curve {curve.name} moves backwards at dcp {dcp}\"\ni = curve.curve[dcp]\nreturn m\n@classmethod\ndef from_yaml(\ncls,\nfilenames: pathlib.Path | list[pathlib.Path],\n):\n\"\"\"Read from YAML.\"\"\"\nif isinstance(filenames, str | pathlib.Path):\nfilenames = [filenames]\nraw_config = {}\nfor filename in reversed(filenames):\nfilename = pathlib.Path(filename)\nopener = gzip.open if filename.suffix == \".gz\" else open\nwith opener(filename) as f:\ncontent = yaml.safe_load(f)\nraw_config.update(content)\nreturn cls.model_validate(raw_config)\n@classmethod\ndef model_validate(\ncls,\n*args,\n**kwargs,\n) -&gt; typing.Self:\n\"\"\"Validate the passengersim Config inputs.\n        This method reloads the Config class to ensure all imported\n        RmSteps are properly registered before validation.\n        Args:\n            obj: The object to validate.\n            strict: Whether to raise an exception on invalid fields.\n            from_attributes: Whether to extract data from object attributes.\n            context: Additional context to pass to the validator.\n        Raises:\n            ValidationError: If the object could not be validated.\n        Returns:\n            The validated model instance.\n        \"\"\"\n# reload these to refresh for any newly defined RmSteps\nmodule_parent = \".\".join(__name__.split(\".\")[:-1])\nimportlib.reload(sys.modules.get(f\"{module_parent}.rm_systems\"))\nimportlib.reload(sys.modules.get(__name__))\nmodule = importlib.reload(sys.modules.get(module_parent))\nreloaded_class = getattr(module, cls.__name__)\n# `__tracebackhide__` tells pytest and some other tools to omit this function from tracebacks\n__tracebackhide__ = True\nreturn reloaded_class.__pydantic_validator__.validate_python(*args, **kwargs)\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.airlines","title":"airlines  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>airlines: DictOfNamed[Airline] = {}\n</code></pre> <p>A list of airlines.</p> <p>One convention is to use Airline1, Airline2, ... to list the airlines in the network.  Another convention is to use IATA industry-standard two-letter airline codes.  See the IATA code search for more information.</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.booking_curves","title":"booking_curves  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>booking_curves: DictOfNamed[BookingCurve] = {}\n</code></pre> <p>Booking curves   An example of a booking curve is below.   booking_curves: - name: c1   curve:     63: 0.06     56: 0.11     49: 0.15     42: 0.2     35: 0.23     31: 0.25     28: 0.28     24: 0.31     21: 0.35     17: 0.4     14: 0.5     10: 0.62     7: 0.7     5: 0.78     3: 0.95     1: 1.0</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.choice_models","title":"choice_models  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>choice_models: DictOfNamed[ChoiceModel] = {}\n</code></pre> <p>Several choice models are programmed behind the scenes.  The choice_models option allows the user to set the parameters used in the utility model for a particular choice model.</p> <p>There are two choice models currently programmed.</p> <p>Need to explaining more here</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.classes","title":"classes  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>classes: list[str] = []\n</code></pre> <p>A list of fare classes.  </p> <p>One convention is to use Y0, Y1, ... to label fare classes from the highest  fare (Y0) to the lowest fare (Yn).  An example of classes is below.</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.classes--example","title":"Example","text":"<pre><code>classes:\n  - Y0\n  - Y1\n  - Y2\n  - Y3\n  - Y4\n  - Y5\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.db","title":"db  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>db: DatabaseConfig = DatabaseConfig()\n</code></pre> <p>See passengersim.config.DatabaseConfig for detailed documentation.</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.dcps","title":"dcps  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>dcps: list[int] = []\n</code></pre> <p>A list of DCPs (data collection points).</p> <p>The DCPs are given as integers, which represent the number of days   before departure.   An example of data collection points is given below.  Note that as you get closer to day of departure (DCP=0) the number of days between two consecutive DCP periods   decreases.  The DCP intervals are shorter because as you get closer to departure, customer arrival rates tend to increase, and it is advantageous to forecast changes in demand for shorter intervals.   dcps: - 63 - 56 - 49 - 42 - 35 - 31 - 28 - 24 - 21 - 17 - 14 - 10 - 7 - 5 - 3 - 1</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.demands","title":"demands  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>demands: list[Demand] = []\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.fares","title":"fares  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>fares: list[Fare] = []\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.legs","title":"legs  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>legs: list[Leg] = []\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.paths","title":"paths  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>paths: list[Path] = []\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.rm_systems","title":"rm_systems  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>rm_systems: DictOfNamed[RmSystem] = []\n</code></pre> <p>The revenue management systems used by the carriers in this simulation.</p> <p>See RM Systems for details.</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.scenario","title":"scenario  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>scenario: str = Field(default_factory=random_label)\n</code></pre> <p>Name for this scenario.</p> <p>The scenario name is helpful when writing different simulations to the same database so you can uniquely identify and query results for a particular scenario.</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.simulation_controls","title":"simulation_controls  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>simulation_controls: SimulationSettings = (\nSimulationSettings()\n)\n</code></pre> <p>Controls that apply broadly to the overall simulation.</p> <p>See passengersim.config.SimulationSettings for detailed documentation.</p>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.snapshot_filters","title":"snapshot_filters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>snapshot_filters: list[SnapshotFilter] = []\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.from_yaml","title":"from_yaml  <code>classmethod</code>","text":"<pre><code>from_yaml(filenames: pathlib.Path | list[pathlib.Path])\n</code></pre> <p>Read from YAML.</p> Source code in <code>src/passengersim/passengersim/config/base.py</code> <pre><code>@classmethod\ndef from_yaml(\ncls,\nfilenames: pathlib.Path | list[pathlib.Path],\n):\n\"\"\"Read from YAML.\"\"\"\nif isinstance(filenames, str | pathlib.Path):\nfilenames = [filenames]\nraw_config = {}\nfor filename in reversed(filenames):\nfilename = pathlib.Path(filename)\nopener = gzip.open if filename.suffix == \".gz\" else open\nwith opener(filename) as f:\ncontent = yaml.safe_load(f)\nraw_config.update(content)\nreturn cls.model_validate(raw_config)\n</code></pre>"},{"location":"API/config/00-configs.html#passengersim.config.base.Config.model_validate","title":"model_validate  <code>classmethod</code>","text":"<pre><code>model_validate(*args, **kwargs) -&gt; typing.Self\n</code></pre> <p>Validate the passengersim Config inputs.</p> <p>This method reloads the Config class to ensure all imported RmSteps are properly registered before validation.</p> <p>Args:     obj: The object to validate.     strict: Whether to raise an exception on invalid fields.     from_attributes: Whether to extract data from object attributes.     context: Additional context to pass to the validator.</p> <p>Raises:     ValidationError: If the object could not be validated.</p> <p>Returns:     The validated model instance.</p> Source code in <code>src/passengersim/passengersim/config/base.py</code> <pre><code>@classmethod\ndef model_validate(\ncls,\n*args,\n**kwargs,\n) -&gt; typing.Self:\n\"\"\"Validate the passengersim Config inputs.\n    This method reloads the Config class to ensure all imported\n    RmSteps are properly registered before validation.\n    Args:\n        obj: The object to validate.\n        strict: Whether to raise an exception on invalid fields.\n        from_attributes: Whether to extract data from object attributes.\n        context: Additional context to pass to the validator.\n    Raises:\n        ValidationError: If the object could not be validated.\n    Returns:\n        The validated model instance.\n    \"\"\"\n# reload these to refresh for any newly defined RmSteps\nmodule_parent = \".\".join(__name__.split(\".\")[:-1])\nimportlib.reload(sys.modules.get(f\"{module_parent}.rm_systems\"))\nimportlib.reload(sys.modules.get(__name__))\nmodule = importlib.reload(sys.modules.get(module_parent))\nreloaded_class = getattr(module, cls.__name__)\n# `__tracebackhide__` tells pytest and some other tools to omit this function from tracebacks\n__tracebackhide__ = True\nreturn reloaded_class.__pydantic_validator__.validate_python(*args, **kwargs)\n</code></pre>"},{"location":"API/config/01-simulation-controls.html","title":"Simulation Controls","text":""},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings","title":"SimulationSettings","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>src/passengersim/passengersim/config/simulation_controls.py</code> <pre><code>class SimulationSettings(BaseModel, extra=\"allow\"):\nnum_trials: conint(ge=1, le=1000) = 1\n\"\"\"The overall number of trials to run.\n    Each trial is a complete simulation, including burn-in training time as well\n    as study time.  It will have a number of sequentially developed samples, each of \n    which represents one \"typical\" day of travel.\n    See [Counting Simulations][counting-simulations] for more details.\n    \"\"\"\nnum_samples: conint(ge=1, le=1000) = 600\n\"\"\"The number of samples to run within each trial.\n    Each sample represents one \"typical\" day of travel.  \n    See [Counting Simulations][counting-simulations] for more details.\n    \"\"\"\nburn_samples: conint(ge=1, le=1000) = 100\n\"\"\"The number of samples to burn when starting each trial.\n    Burned samples are used to populate a stable history of data to support\n    forecasting and optimization algorithms, but are not used to evaluate\n    performance results.\n    See [Counting Simulations][counting-simulations] for more details.\n    \"\"\"\nsys_k_factor: confloat(gt=0, lt=5.0) = 0.10\n\"\"\"\n    System-level randomness factor.\n    This factor controls the level of correlation in demand levels across the\n    entire system. \n    See [k-factors][demand-generation-k-factors]\n    for more details.\n    \"\"\"\nmkt_k_factor: confloat(gt=0, lt=5.0) = 0.20\n\"\"\"\n    Market-level randomness factor.\n    This factor controls the level of correlation in demand levels across origin-\n    destination markets. \n    See [k-factors][demand-generation-k-factors] \n    for more details.\n    \"\"\"\npax_type_k_factor: confloat(gt=0, lt=5.0) = 0.40\n\"\"\"\n    Passenger-type randomness factor.\n    This factor controls the level of correlation in demand levels across passenger \n    types. \n    See [k-factors][demand-generation-k-factors] \n    for more details.\n    \"\"\"\ntf_k_factor: confloat(gt=0, lt=5.0) = 0.1\n\"\"\"\n    Time frame randomness factor.\n    This factor controls the dispersion of bookings over time, given a previously \n    identified level of total demand. See [k-factors]() for more details.\n    \"\"\"\nz_factor: confloat(gt=0, lt=5.0) = 2.0\n\"\"\"\n    Base level demand variance control.\n    See [k-factors][demand-generation-k-factors] for more details.\n    \"\"\"\nprorate_revenue: bool = True\ndwm_lite: bool = True\n\"\"\"\n    Use the \"lite\" decision window model.\n    The structure of this model is the same as that use by Boeing.\n    \"\"\"\nmax_connect_time: conint(ge=0) = 240\n\"\"\"\n    Maximum connection time for automatically generated paths.\n    Any generated path that has a connection time greater than this value (expressed\n    in minutes) is invalidated.\n    \"\"\"\ndisable_ap: bool = False\n\"\"\"\n    Remove all advance purchase settings used in the simulation.\n    This applies to all airlines and all fare products.\n    \"\"\"\ndemand_multiplier: confloat(gt=0) = 1.0\n\"\"\"\n    Scale all demand by this value.\n    Setting to a value other than 1.0 will increase or decrease all demand inputs \n    uniformly by the same multiplicative amount. This is helpful when exploring how \n    simulation results vary when you have \"low demand\" scenarios (e.g, \n    demand_multiplier = 0.8), or \"high demand\" scenarios (e.g., demand multiplier = 1.1).\n    \"\"\"\nmanual_paths: bool = True\n\"\"\"\n    The user has provided explicit paths and connections.\n    If set to False, the automatic path generation algorithm is applied.\n    \"\"\"\nwrite_raw_files: bool = False\nrandom_seed: int | None = None\nupdate_frequency: int | None = None\n</code></pre>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.burn_samples","title":"burn_samples  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>burn_samples: conint(ge=1, le=1000) = 100\n</code></pre> <p>The number of samples to burn when starting each trial.</p> <p>Burned samples are used to populate a stable history of data to support forecasting and optimization algorithms, but are not used to evaluate performance results.</p> <p>See Counting Simulations for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.demand_multiplier","title":"demand_multiplier  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>demand_multiplier: confloat(gt=0) = 1.0\n</code></pre> <p>Scale all demand by this value.</p> <p>Setting to a value other than 1.0 will increase or decrease all demand inputs  uniformly by the same multiplicative amount. This is helpful when exploring how  simulation results vary when you have \"low demand\" scenarios (e.g,  demand_multiplier = 0.8), or \"high demand\" scenarios (e.g., demand multiplier = 1.1).</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.disable_ap","title":"disable_ap  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>disable_ap: bool = False\n</code></pre> <p>Remove all advance purchase settings used in the simulation.</p> <p>This applies to all airlines and all fare products.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.dwm_lite","title":"dwm_lite  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>dwm_lite: bool = True\n</code></pre> <p>Use the \"lite\" decision window model.</p> <p>The structure of this model is the same as that use by Boeing.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.manual_paths","title":"manual_paths  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>manual_paths: bool = True\n</code></pre> <p>The user has provided explicit paths and connections.</p> <p>If set to False, the automatic path generation algorithm is applied.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.max_connect_time","title":"max_connect_time  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>max_connect_time: conint(ge=0) = 240\n</code></pre> <p>Maximum connection time for automatically generated paths.</p> <p>Any generated path that has a connection time greater than this value (expressed in minutes) is invalidated.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.mkt_k_factor","title":"mkt_k_factor  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>mkt_k_factor: confloat(gt=0, lt=5.0) = 0.2\n</code></pre> <p>Market-level randomness factor.</p> <p>This factor controls the level of correlation in demand levels across origin- destination markets. </p> <p>See k-factors  for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.num_samples","title":"num_samples  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>num_samples: conint(ge=1, le=1000) = 600\n</code></pre> <p>The number of samples to run within each trial.</p> <p>Each sample represents one \"typical\" day of travel. See Counting Simulations for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.num_trials","title":"num_trials  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>num_trials: conint(ge=1, le=1000) = 1\n</code></pre> <p>The overall number of trials to run.</p> <p>Each trial is a complete simulation, including burn-in training time as well as study time.  It will have a number of sequentially developed samples, each of  which represents one \"typical\" day of travel.</p> <p>See Counting Simulations for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.pax_type_k_factor","title":"pax_type_k_factor  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>pax_type_k_factor: confloat(gt=0, lt=5.0) = 0.4\n</code></pre> <p>Passenger-type randomness factor.</p> <p>This factor controls the level of correlation in demand levels across passenger  types. </p> <p>See k-factors  for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.prorate_revenue","title":"prorate_revenue  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>prorate_revenue: bool = True\n</code></pre>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.random_seed","title":"random_seed  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>random_seed: int | None = None\n</code></pre>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.sys_k_factor","title":"sys_k_factor  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>sys_k_factor: confloat(gt=0, lt=5.0) = 0.1\n</code></pre> <p>System-level randomness factor.</p> <p>This factor controls the level of correlation in demand levels across the entire system. </p> <p>See k-factors for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.tf_k_factor","title":"tf_k_factor  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tf_k_factor: confloat(gt=0, lt=5.0) = 0.1\n</code></pre> <p>Time frame randomness factor.</p> <p>This factor controls the dispersion of bookings over time, given a previously  identified level of total demand. See k-factors for more details.</p>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.update_frequency","title":"update_frequency  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>update_frequency: int | None = None\n</code></pre>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.write_raw_files","title":"write_raw_files  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>write_raw_files: bool = False\n</code></pre>"},{"location":"API/config/01-simulation-controls.html#passengersim.config.simulation_controls.SimulationSettings.z_factor","title":"z_factor  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>z_factor: confloat(gt=0, lt=5.0) = 2.0\n</code></pre> <p>Base level demand variance control.</p> <p>See k-factors for more details.</p>"},{"location":"API/config/airlines.html","title":"Airlines","text":""},{"location":"API/config/airlines.html#passengersim.config.airlines.Airline","title":"Airline","text":"<p>             Bases: <code>Named</code></p> <p>Configuration for passengersim.Airline object.</p> Source code in <code>src/passengersim/passengersim/config/airlines.py</code> <pre><code>class Airline(Named, extra=\"forbid\"):\n\"\"\"Configuration for passengersim.Airline object.\"\"\"\nrm_system: str\n\"\"\"Name of the revenue management system used by this airline.\"\"\"\ncontrol: Literal[\"leg\", \"theft\", \"bp\", \"vn\", \"none\"] = \"leg\"\n\"\"\"Control method.\n    Allowed values include:\n    - \"leg\" (default): Uses leg-based controls.\n    - \"theft\": Theft.\n    - \"bp\": Bid price.\n    - \"vn\": Virtual nesting.\n    - \"none\": No controls.\n    \"\"\"\n</code></pre>"},{"location":"API/config/airlines.html#passengersim.config.airlines.Airline.control","title":"control  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>control: Literal[\"leg\", \"theft\", \"bp\", \"vn\", \"none\"] = \"leg\"\n</code></pre> <p>Control method.</p> <p>Allowed values include: - \"leg\" (default): Uses leg-based controls. - \"theft\": Theft. - \"bp\": Bid price. - \"vn\": Virtual nesting. - \"none\": No controls.</p>"},{"location":"API/config/airlines.html#passengersim.config.airlines.Airline.rm_system","title":"rm_system  <code>instance-attribute</code>","text":"<pre><code>rm_system: str\n</code></pre> <p>Name of the revenue management system used by this airline.</p>"},{"location":"API/config/booking_curves.html","title":"Booking Curves","text":""},{"location":"API/config/booking_curves.html#passengersim.config.booking_curves.BookingCurve","title":"BookingCurve","text":"<p>             Bases: <code>Named</code></p> <p>A mathematical description of the relative arrival rate of customers over time.</p> Source code in <code>src/passengersim/passengersim/config/booking_curves.py</code> <pre><code>class BookingCurve(Named, extra=\"forbid\"):\n\"\"\"\n    A mathematical description of the relative arrival rate of customers over time.\n    \"\"\"\ncurve: dict[int, float]\n\"\"\"Define a booking curve.\n    For a given customer type, the booking curve gives the cumulative fraction\n    of those customers who are expected to have already \"arrived\" at any given\n    data collection point (DCP).  An \"arriving\" customer is one who is interested\n    in booking, but may or may not actually purchase a travel product from one\n    of the carriers, depending on the availability of products at the time of their\n    arrival.\n    The values (cumulative fraction of customers arriving) should increase\n    monotonically as the keys (DCPs, e.g. days to departure) decrease.\n    Example\n    -------\n    ```{yaml}\n    - name: business\n      curve:\n        63: 0.01\n        56: 0.02\n        49: 0.05\n        42: 0.13\n        35: 0.19\n        31: 0.23\n        28: 0.29\n        24: 0.35\n        21: 0.45\n        17: 0.54\n        14: 0.67\n        10: 0.79\n        7: 0.86\n        5: 0.91\n        3: 0.96\n        1: 1.0\n    ```\n    \"\"\"\n@field_validator(\"curve\")\ndef _booking_curves_accumulate(cls, v: dict[int, float], info: FieldValidationInfo):\n\"\"\"Check that all curve values do not decrease as DCP keys decrease.\"\"\"\nsorted_dcps = reversed(sorted(v.keys()))\ni = 0\nfor dcp in sorted_dcps:\nassert (\nv[dcp] &gt;= i\n), f\"booking curve {info.data['name']} moves backwards at dcp {dcp}\"\ni = v[dcp]\nreturn v\n</code></pre>"},{"location":"API/config/booking_curves.html#passengersim.config.booking_curves.BookingCurve.curve","title":"curve  <code>instance-attribute</code>","text":"<pre><code>curve: dict[int, float]\n</code></pre> <p>Define a booking curve.</p> <p>For a given customer type, the booking curve gives the cumulative fraction of those customers who are expected to have already \"arrived\" at any given data collection point (DCP).  An \"arriving\" customer is one who is interested in booking, but may or may not actually purchase a travel product from one of the carriers, depending on the availability of products at the time of their arrival.</p> <p>The values (cumulative fraction of customers arriving) should increase monotonically as the keys (DCPs, e.g. days to departure) decrease.</p>"},{"location":"API/config/booking_curves.html#passengersim.config.booking_curves.BookingCurve.curve--example","title":"Example","text":"<pre><code>- name: business\n  curve:\n    63: 0.01\n    56: 0.02\n    49: 0.05\n    42: 0.13\n    35: 0.19\n    31: 0.23\n    28: 0.29\n    24: 0.35\n    21: 0.45\n    17: 0.54\n    14: 0.67\n    10: 0.79\n    7: 0.86\n    5: 0.91\n    3: 0.96\n    1: 1.0\n</code></pre>"},{"location":"API/config/choice_model.html","title":"Choice Models","text":""},{"location":"API/config/choice_model.html#passengersim.config.choice_model.ChoiceModel","title":"ChoiceModel  <code>module-attribute</code>","text":"<pre><code>ChoiceModel = Annotated[\nPodsChoiceModel | LogitChoiceModel,\nField(discriminator=\"kind\"),\n]\n</code></pre> <p>Two types of choice models are available in PassengerSim.</p> <p>Use the <code>kind</code> key to select which kind of choice model you wish to parameterize.</p>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel","title":"LogitChoiceModel","text":"<p>             Bases: <code>Named</code></p> Source code in <code>src/passengersim/passengersim/config/choice_model.py</code> <pre><code>class LogitChoiceModel(Named, extra=\"forbid\"):\nkind: Literal[\"logit\"]\nintercept: float = 0\n\"\"\"This is the alternative specific constant for the no-purchase alternative.\"\"\"\nnonstop: float = 0\nduration: float = 0\nprice: float = 0\n\"\"\"This is the parameter for the price of each alternative.\"\"\"\ntod_sin2p: float = 0\n\"\"\"Schedule parameter.\n    If $t$ is departure time (in minutes after midnight local time) divided\n    by 1440, this parameter is multiplied by $sin( 2 \\pi t)$ and the result is\n    added to the utility of the particular alternative.\"\"\"\ntod_sin4p: float = 0\n\"\"\"Schedule parameter.\n    If $t$ is departure time (in minutes after midnight local time) divided\n    by 1440, this parameter is multiplied by $sin( 4 \\pi t)$ and the result is\n    added to the utility of the particular alternative.\"\"\"\ntod_sin6p: float = 0\ntod_cos2p: float = 0\ntod_cos4p: float = 0\ntod_cos6p: float = 0\nfree_bag: float = 0\nearly_boarding: float = 0\nsame_day_change: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.duration","title":"duration  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>duration: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.early_boarding","title":"early_boarding  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>early_boarding: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.free_bag","title":"free_bag  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>free_bag: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.intercept","title":"intercept  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>intercept: float = 0\n</code></pre> <p>This is the alternative specific constant for the no-purchase alternative.</p>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.kind","title":"kind  <code>instance-attribute</code>","text":"<pre><code>kind: Literal['logit']\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.nonstop","title":"nonstop  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>nonstop: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.price","title":"price  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>price: float = 0\n</code></pre> <p>This is the parameter for the price of each alternative.</p>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.same_day_change","title":"same_day_change  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>same_day_change: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.tod_cos2p","title":"tod_cos2p  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tod_cos2p: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.tod_cos4p","title":"tod_cos4p  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tod_cos4p: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.tod_cos6p","title":"tod_cos6p  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tod_cos6p: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.tod_sin2p","title":"tod_sin2p  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tod_sin2p: float = 0\n</code></pre> <p>Schedule parameter.</p> <p>If \\(t\\) is departure time (in minutes after midnight local time) divided by 1440, this parameter is multiplied by \\(sin( 2 \\pi t)\\) and the result is added to the utility of the particular alternative.</p>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.tod_sin4p","title":"tod_sin4p  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tod_sin4p: float = 0\n</code></pre> <p>Schedule parameter.</p> <p>If \\(t\\) is departure time (in minutes after midnight local time) divided by 1440, this parameter is multiplied by \\(sin( 4 \\pi t)\\) and the result is added to the utility of the particular alternative.</p>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.LogitChoiceModel.tod_sin6p","title":"tod_sin6p  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tod_sin6p: float = 0\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel","title":"PodsChoiceModel","text":"<p>             Bases: <code>Named</code></p> Source code in <code>src/passengersim/passengersim/config/choice_model.py</code> <pre><code>class PodsChoiceModel(Named, extra=\"forbid\"):\nkind: Literal[\"pods\"]\nemult: float | None = None\nbasefare_mult: float | None = None\nconnect_disutility: float | None = None\npath_quality: tuple[float, float] | None = None\npreferred_airline: tuple[float, float] | None = None\nr1: float | None = None\nr2: float | None = None\nr3: float | None = None\nr4: float | None = None\ntolerance: float | None = None\nnon_stop_multiplier: float | None = None\nconnection_multiplier: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.basefare_mult","title":"basefare_mult  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>basefare_mult: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.connect_disutility","title":"connect_disutility  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>connect_disutility: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.connection_multiplier","title":"connection_multiplier  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>connection_multiplier: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.emult","title":"emult  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>emult: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.kind","title":"kind  <code>instance-attribute</code>","text":"<pre><code>kind: Literal['pods']\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.non_stop_multiplier","title":"non_stop_multiplier  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>non_stop_multiplier: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.path_quality","title":"path_quality  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>path_quality: tuple[float, float] | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.preferred_airline","title":"preferred_airline  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>preferred_airline: tuple[float, float] | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.r1","title":"r1  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>r1: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.r2","title":"r2  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>r2: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.r3","title":"r3  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>r3: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.r4","title":"r4  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>r4: float | None = None\n</code></pre>"},{"location":"API/config/choice_model.html#passengersim.config.choice_model.PodsChoiceModel.tolerance","title":"tolerance  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>tolerance: float | None = None\n</code></pre>"},{"location":"API/config/database.html","title":"Database","text":""},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig","title":"DatabaseConfig","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>src/passengersim/passengersim/config/database.py</code> <pre><code>class DatabaseConfig(BaseModel, extra=\"forbid\", validate_assignment=True):\nengine: Literal[\"sqlite\", \"mysql\", None] = \"sqlite\"\n\"\"\"Database engine to use.\n    Currently only `sqlite` is fully implemented.\"\"\"\nfilename: pathlib.Path | None = \"airsim-output.sqlite\"\n\"\"\"Name of file for SQLite output.\"\"\"\nfast: bool = False\n\"\"\"Whether to use pre-compiled SQL write instructions.\"\"\"\npragmas: list[str] = []\n\"\"\"A list of PRAGMA commands to execute upon opening a database connection.\"\"\"\ncommit_count_delay: int | None = 250\n\"\"\"Commit transactions to the database will only be honored this frequently.\n    By setting this number greater than 1, the transaction frequency will be reduced,\n    improving overall runtime performance by storing more data in RAM and writing to\n    persistent storage less frequently.\n    \"\"\"\nwrite_items: set[\nLiteral[\n\"leg\",\n\"bucket\",\n\"fare\",\n\"demand\",\n\"leg_final\",\n\"bucket_final\",\n\"fare_final\",\n\"demand_final\",\n\"bookings\",\n]\n] = {\"leg_final\", \"fare_final\", \"demand_final\", \"bookings\"}\n\"\"\"Which items should be written to the database.\n    The following values can be provided in this set:\n    - *leg*: write every leg to the `leg_detail` table at every DCP.\n    - *leg_final*: write every leg to the `leg_detail` table only at DCP 0.\n    - *bucket*: write every leg bucket to the `leg_bucket_detail` table at every DCP.\n    - *bucket_final*: write every leg bucket to the `leg_bucket_detail` table only\n        at DCP 0.\n    - *fare*: write every fare to the `fare_detail` table at every DCP.\n    - *fare_final*: write every fare to the `fare_detail` table only at DCP 0.\n    - *demand*: write every demand to the `demand_detail` table at every DCP.\n    - *bookings*: store booking summary data at every DCP and write an aggregate\n        summary of bookings by DCP to the `bookings_by_timeframe` table at the end\n        of the simulation.\n    \"\"\"\ndcp_write_hooks: list[Callable] = []\n\"\"\"Additional callable functions that write to the database at each DCP.\n    Each should have a signature matching `f(db, sim, dcp)`.\n    \"\"\"\n@field_validator(\"engine\", mode=\"before\")\ndef _interpret_none(cls, v):\n\"\"\"Allow engine to be \"none\".\"\"\"\nif isinstance(v, str) and v.lower() == \"none\":\nv = None\nreturn v\n</code></pre>"},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig.commit_count_delay","title":"commit_count_delay  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>commit_count_delay: int | None = 250\n</code></pre> <p>Commit transactions to the database will only be honored this frequently.</p> <p>By setting this number greater than 1, the transaction frequency will be reduced, improving overall runtime performance by storing more data in RAM and writing to persistent storage less frequently.</p>"},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig.dcp_write_hooks","title":"dcp_write_hooks  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>dcp_write_hooks: list[Callable] = []\n</code></pre> <p>Additional callable functions that write to the database at each DCP.</p> <p>Each should have a signature matching <code>f(db, sim, dcp)</code>.</p>"},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig.engine","title":"engine  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>engine: Literal['sqlite', 'mysql', None] = 'sqlite'\n</code></pre> <p>Database engine to use.</p> <p>Currently only <code>sqlite</code> is fully implemented.</p>"},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig.fast","title":"fast  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>fast: bool = False\n</code></pre> <p>Whether to use pre-compiled SQL write instructions.</p>"},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig.filename","title":"filename  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>filename: pathlib.Path | None = 'airsim-output.sqlite'\n</code></pre> <p>Name of file for SQLite output.</p>"},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig.pragmas","title":"pragmas  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>pragmas: list[str] = []\n</code></pre> <p>A list of PRAGMA commands to execute upon opening a database connection.</p>"},{"location":"API/config/database.html#passengersim.config.database.DatabaseConfig.write_items","title":"write_items  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>write_items: set[\nLiteral[\n\"leg\",\n\"bucket\",\n\"fare\",\n\"demand\",\n\"leg_final\",\n\"bucket_final\",\n\"fare_final\",\n\"demand_final\",\n\"bookings\",\n]\n] = {\"leg_final\", \"fare_final\", \"demand_final\", \"bookings\"}\n</code></pre> <p>Which items should be written to the database.</p> <p>The following values can be provided in this set:</p> <ul> <li>leg: write every leg to the <code>leg_detail</code> table at every DCP.</li> <li>leg_final: write every leg to the <code>leg_detail</code> table only at DCP 0.</li> <li>bucket: write every leg bucket to the <code>leg_bucket_detail</code> table at every DCP.</li> <li>bucket_final: write every leg bucket to the <code>leg_bucket_detail</code> table only     at DCP 0.</li> <li>fare: write every fare to the <code>fare_detail</code> table at every DCP.</li> <li>fare_final: write every fare to the <code>fare_detail</code> table only at DCP 0.</li> <li>demand: write every demand to the <code>demand_detail</code> table at every DCP.</li> <li>bookings: store booking summary data at every DCP and write an aggregate     summary of bookings by DCP to the <code>bookings_by_timeframe</code> table at the end     of the simulation.</li> </ul>"},{"location":"API/config/demands.html","title":"Demands","text":""},{"location":"API/config/demands.html#passengersim.config.demands.Demand","title":"Demand","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>src/passengersim/passengersim/config/demands.py</code> <pre><code>class Demand(BaseModel, extra=\"forbid\"):\norig: str\ndest: str\nsegment: str\nbase_demand: float\nreference_fare: float\nchoice_model: str | None = None\n\"\"\"The name of the choice model that is applied for this demand.\"\"\"\ncurve: str | None = None\n\"\"\"The name of the booking curve that is applied for this demand.\n    Each demand is attached to a booking curve that describes the temporal\n    distribution of customer arrivals.\"\"\"\n@property\ndef choice_model_(self):\n\"\"\"Choice model, falling back to segment name if not set explicitly.\"\"\"\nreturn self.choice_model or self.segment\n@field_validator(\"curve\", mode=\"before\")\ndef curve_integer_name(cls, v):\n\"\"\"Booking curves can have integer names, treat as string.\"\"\"\nif isinstance(v, int):\nv = str(v)\nreturn v\n</code></pre>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.base_demand","title":"base_demand  <code>instance-attribute</code>","text":"<pre><code>base_demand: float\n</code></pre>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.choice_model","title":"choice_model  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>choice_model: str | None = None\n</code></pre> <p>The name of the choice model that is applied for this demand.</p>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.choice_model_","title":"choice_model_  <code>property</code>","text":"<pre><code>choice_model_\n</code></pre> <p>Choice model, falling back to segment name if not set explicitly.</p>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.curve","title":"curve  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>curve: str | None = None\n</code></pre> <p>The name of the booking curve that is applied for this demand.</p> <p>Each demand is attached to a booking curve that describes the temporal distribution of customer arrivals.</p>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.reference_fare","title":"reference_fare  <code>instance-attribute</code>","text":"<pre><code>reference_fare: float\n</code></pre>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.segment","title":"segment  <code>instance-attribute</code>","text":"<pre><code>segment: str\n</code></pre>"},{"location":"API/config/demands.html#passengersim.config.demands.Demand.curve_integer_name","title":"curve_integer_name","text":"<pre><code>curve_integer_name(v)\n</code></pre> <p>Booking curves can have integer names, treat as string.</p> Source code in <code>src/passengersim/passengersim/config/demands.py</code> <pre><code>@field_validator(\"curve\", mode=\"before\")\ndef curve_integer_name(cls, v):\n\"\"\"Booking curves can have integer names, treat as string.\"\"\"\nif isinstance(v, int):\nv = str(v)\nreturn v\n</code></pre>"},{"location":"API/config/fares.html","title":"Fares","text":""},{"location":"API/config/fares.html#passengersim.config.fares.Fare","title":"Fare","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>src/passengersim/passengersim/config/fares.py</code> <pre><code>class Fare(BaseModel, extra=\"forbid\"):\ncarrier: str\norig: str\ndest: str\nbooking_class: str\nprice: float\nadvance_purchase: int\nrestrictions: list[str] = []\n@field_validator(\"restrictions\", mode=\"before\")\ndef allow_unrestricted(cls, v):\n\"\"\"Allow restrictions to be None or missing.\"\"\"\nif v is None:\nv = []\nreturn v\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.advance_purchase","title":"advance_purchase  <code>instance-attribute</code>","text":"<pre><code>advance_purchase: int\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.booking_class","title":"booking_class  <code>instance-attribute</code>","text":"<pre><code>booking_class: str\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.carrier","title":"carrier  <code>instance-attribute</code>","text":"<pre><code>carrier: str\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.price","title":"price  <code>instance-attribute</code>","text":"<pre><code>price: float\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.restrictions","title":"restrictions  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>restrictions: list[str] = []\n</code></pre>"},{"location":"API/config/fares.html#passengersim.config.fares.Fare.allow_unrestricted","title":"allow_unrestricted","text":"<pre><code>allow_unrestricted(v)\n</code></pre> <p>Allow restrictions to be None or missing.</p> Source code in <code>src/passengersim/passengersim/config/fares.py</code> <pre><code>@field_validator(\"restrictions\", mode=\"before\")\ndef allow_unrestricted(cls, v):\n\"\"\"Allow restrictions to be None or missing.\"\"\"\nif v is None:\nv = []\nreturn v\n</code></pre>"},{"location":"API/config/legs.html","title":"Legs","text":""},{"location":"API/config/legs.html#passengersim.config.legs.Leg","title":"Leg","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>src/passengersim/passengersim/config/legs.py</code> <pre><code>class Leg(BaseModel, extra=\"forbid\"):\ncarrier: str\nfltno: int\n\"\"\"A unique identifier for this leg.\n    Each leg in a network should have a globally unique identifier (i.e. even\n    if the carrier is different, `fltno` values should be unique.\n    \"\"\"\norig: str\n\"\"\"Origination location for this leg.\"\"\"\ndest: str\n\"\"\"Destination location for this leg.\"\"\"\ndate: datetime = datetime.fromisoformat(\"2022-09-21\")\ndep_time: int\n\"\"\"Departure time for this leg in Unix time.\n    In input files, this can be specified as a string in the format \"HH:MM\",\n    with the hour in 24-hour format.\n    Unix time is the number of seconds since 00:00:00 UTC on 1 Jan 1970.\"\"\"\narr_time: int\n\"\"\"Arrival time for this leg in Unix time.\n    In input files, this can be specified as a string in the format \"HH:MM\",\n    with the hour in 24-hour format.\n    Unix time is the number of seconds since 00:00:00 UTC on 1 Jan 1970.\"\"\"\ncapacity: int\ndistance: float | None = None\n@field_validator(\"date\", mode=\"before\")\ndef _date_from_string(cls, v):\nif isinstance(v, str):\nv = datetime.fromisoformat(v)\nreturn v\n@field_validator(\"dep_time\", \"arr_time\", mode=\"before\")\ndef _timestring_to_int(cls, v, info: FieldValidationInfo):\nif isinstance(v, str) and \":\" in v:\ndep_time_str = v.split(\":\")\nhh, mm = int(dep_time_str[0]), int(dep_time_str[1])\nv = create_timestamp(info.data[\"date\"], 0, hh, mm)\nif info.field_name == \"arr_time\":\nif v &lt; info.data[\"dep_time\"]:\nv += 86400  # add a day (in seconds) as arr time is next day\nreturn v\n</code></pre>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.arr_time","title":"arr_time  <code>instance-attribute</code>","text":"<pre><code>arr_time: int\n</code></pre> <p>Arrival time for this leg in Unix time.</p> <p>In input files, this can be specified as a string in the format \"HH:MM\", with the hour in 24-hour format.</p> <p>Unix time is the number of seconds since 00:00:00 UTC on 1 Jan 1970.</p>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.capacity","title":"capacity  <code>instance-attribute</code>","text":"<pre><code>capacity: int\n</code></pre>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.carrier","title":"carrier  <code>instance-attribute</code>","text":"<pre><code>carrier: str\n</code></pre>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.date","title":"date  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>date: datetime = datetime.fromisoformat('2022-09-21')\n</code></pre>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.dep_time","title":"dep_time  <code>instance-attribute</code>","text":"<pre><code>dep_time: int\n</code></pre> <p>Departure time for this leg in Unix time.</p> <p>In input files, this can be specified as a string in the format \"HH:MM\", with the hour in 24-hour format.</p> <p>Unix time is the number of seconds since 00:00:00 UTC on 1 Jan 1970.</p>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre> <p>Destination location for this leg.</p>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.distance","title":"distance  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>distance: float | None = None\n</code></pre>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.fltno","title":"fltno  <code>instance-attribute</code>","text":"<pre><code>fltno: int\n</code></pre> <p>A unique identifier for this leg.</p> <p>Each leg in a network should have a globally unique identifier (i.e. even if the carrier is different, <code>fltno</code> values should be unique.</p>"},{"location":"API/config/legs.html#passengersim.config.legs.Leg.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre> <p>Origination location for this leg.</p>"},{"location":"API/config/legs.html#passengersim.config.legs.create_timestamp","title":"create_timestamp","text":"<pre><code>create_timestamp(base_date, offset, hh, mm) -&gt; int\n</code></pre> <p>Create Unix time from base date, offset (days) and time</p> Source code in <code>src/passengersim/passengersim/config/legs.py</code> <pre><code>def create_timestamp(base_date, offset, hh, mm) -&gt; int:\n\"\"\"Create Unix time from base date, offset (days) and time\"\"\"\ntd = timedelta(days=offset, hours=hh, minutes=mm)\ntmp = base_date + td\nreturn int(time.mktime(tmp.timetuple()))\n</code></pre>"},{"location":"API/config/named.html","title":"Named","text":"<p>This module contains utilities for managing named objects.</p>"},{"location":"API/config/named.html#passengersim.config.named.DictOfNamed","title":"DictOfNamed  <code>module-attribute</code>","text":"<pre><code>DictOfNamed = Annotated[\ndict[str, T], BeforeValidator(enforce_name)\n]\n</code></pre>"},{"location":"API/config/named.html#passengersim.config.named.T","title":"T  <code>module-attribute</code>","text":"<pre><code>T = TypeVar('T', bound=Named)\n</code></pre>"},{"location":"API/config/named.html#passengersim.config.named.Named","title":"Named","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>src/passengersim/passengersim/config/named.py</code> <pre><code>class Named(BaseModel):\nname: str\n</code></pre>"},{"location":"API/config/named.html#passengersim.config.named.Named.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre>"},{"location":"API/config/named.html#passengersim.config.named.enforce_name","title":"enforce_name","text":"<pre><code>enforce_name(x: dict[str, T] | list[T]) -&gt; dict[str, T]\n</code></pre> <p>Enforce that each item has a unique name.</p> <p>If you provide a list, this will ensure that each item in the list has a name. If you provide a dict, the names are given by the keys of the dictionary, and this will ensure that for each value, if it also has an explicitly defined name, that name matches its key-derived name.</p> Source code in <code>src/passengersim/passengersim/config/named.py</code> <pre><code>def enforce_name(x: dict[str, T] | list[T]) -&gt; dict[str, T]:\n\"\"\"Enforce that each item has a unique name.\n    If you provide a list, this will ensure that each item in the list has a name.\n    If you provide a dict, the names are given by the keys of the dictionary, and\n    this will ensure that for each value, if it also has an explicitly defined name,\n    that name matches its key-derived name.\n    \"\"\"\nif isinstance(x, list):\nx_ = {}\nfor n, i in enumerate(x):\nk = i.get(\"name\")\nif k is None:\nraise ValueError(f\"missing name in position {n}\")\nx_[k] = i\nx = x_\nfor k, v in x.items():\nif \"name\" not in v or not v[\"name\"]:\nv[\"name\"] = k\nif v[\"name\"] != k:\nraise ValueError(\"explict name does not match key\")\nreturn x\n</code></pre>"},{"location":"API/config/paths.html","title":"Paths","text":""},{"location":"API/config/paths.html#passengersim.config.paths.Path","title":"Path","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>src/passengersim/passengersim/config/paths.py</code> <pre><code>class Path(BaseModel, extra=\"forbid\"):\norig: str\ndest: str\npath_quality_index: float\nlegs: list[int]\n\"\"\"Flight numbers of legs comprising the path.\"\"\"\n@field_validator(\"legs\", mode=\"before\")\ndef allow_single_leg(cls, v):\n\"\"\"Allow a single leg path to be just an int not a list of one int.\"\"\"\nif isinstance(v, int):\nv = [v]\nreturn v\n@field_validator(\"legs\")\ndef at_least_one_leg(cls, v):\n\"\"\"There must be at least one leg.\"\"\"\nif len(v) &lt; 1:\nraise ValueError(\"path must have at least one leg\")\nreturn v\n</code></pre>"},{"location":"API/config/paths.html#passengersim.config.paths.Path.dest","title":"dest  <code>instance-attribute</code>","text":"<pre><code>dest: str\n</code></pre>"},{"location":"API/config/paths.html#passengersim.config.paths.Path.legs","title":"legs  <code>instance-attribute</code>","text":"<pre><code>legs: list[int]\n</code></pre> <p>Flight numbers of legs comprising the path.</p>"},{"location":"API/config/paths.html#passengersim.config.paths.Path.orig","title":"orig  <code>instance-attribute</code>","text":"<pre><code>orig: str\n</code></pre>"},{"location":"API/config/paths.html#passengersim.config.paths.Path.path_quality_index","title":"path_quality_index  <code>instance-attribute</code>","text":"<pre><code>path_quality_index: float\n</code></pre>"},{"location":"API/config/paths.html#passengersim.config.paths.Path.allow_single_leg","title":"allow_single_leg","text":"<pre><code>allow_single_leg(v)\n</code></pre> <p>Allow a single leg path to be just an int not a list of one int.</p> Source code in <code>src/passengersim/passengersim/config/paths.py</code> <pre><code>@field_validator(\"legs\", mode=\"before\")\ndef allow_single_leg(cls, v):\n\"\"\"Allow a single leg path to be just an int not a list of one int.\"\"\"\nif isinstance(v, int):\nv = [v]\nreturn v\n</code></pre>"},{"location":"API/config/paths.html#passengersim.config.paths.Path.at_least_one_leg","title":"at_least_one_leg","text":"<pre><code>at_least_one_leg(v)\n</code></pre> <p>There must be at least one leg.</p> Source code in <code>src/passengersim/passengersim/config/paths.py</code> <pre><code>@field_validator(\"legs\")\ndef at_least_one_leg(cls, v):\n\"\"\"There must be at least one leg.\"\"\"\nif len(v) &lt; 1:\nraise ValueError(\"path must have at least one leg\")\nreturn v\n</code></pre>"},{"location":"API/config/rm_steps.html","title":"RM Steps","text":""},{"location":"API/config/rm_steps.html#passengersim.config.rm_steps.DummyStep","title":"DummyStep","text":"<p>             Bases: <code>RmStepBase</code></p> Source code in <code>src/passengersim/passengersim/config/rm_steps.py</code> <pre><code>class DummyStep(RmStepBase):\nstep_type: Literal[\"dummy\"]\n</code></pre>"},{"location":"API/config/rm_steps.html#passengersim.config.rm_steps.DummyStep.step_type","title":"step_type  <code>instance-attribute</code>","text":"<pre><code>step_type: Literal['dummy']\n</code></pre>"},{"location":"API/config/rm_steps.html#passengersim.config.rm_steps.RmStepBase","title":"RmStepBase","text":"<p>             Bases: <code>BaseModel</code></p> <p>Base class for RmSteps.</p> <p>Every non-abstract derived class must have a <code>step_type</code> class attribute, annotated with a <code>Literal</code> value type.</p> <p>See <code>DummyStep</code> below for an example.</p> Source code in <code>src/passengersim/passengersim/config/rm_steps.py</code> <pre><code>class RmStepBase(BaseModel, extra=\"forbid\"):\n\"\"\"\n    Base class for RmSteps.\n    Every non-abstract derived class must have a `step_type` class attribute,\n    annotated with a `Literal` value type.\n    See `DummyStep` below for an example.\n    \"\"\"\n__subclasses: ClassVar[set[type[RmStepBase]]] = set()\ndef __init_subclass__(cls, **kwargs):\n\"\"\"Capture a list of all concrete subclasses, including nested levels\"\"\"\nsuper().__init_subclass__(**kwargs)\nif inspect.isabstract(cls):\nreturn  # do not consider intermediate abstract base classes\nannotations = inspect.get_annotations(cls, eval_str=True)\nassert \"step_type\" in annotations, \"step_type not in annotations\"\nannotation_step_type = typing.get_origin(annotations[\"step_type\"])\nassert annotation_step_type == Literal, (\nf\"annotation {annotations['step_type']} for `{cls.__name__}.step_type` \"\nf\"is not Literal but {annotation_step_type}\"\n)\nfound_step_type = typing.get_args(annotations[\"step_type\"])[0]\nif cls.__name__.lower().endswith(\"step\"):\nassert found_step_type == cls.__name__.lower()[:-4], (\nf\"annotation Literal value {found_step_type!r} \"\nf\"for `{cls.__name__}.step_type` is not the same as the class name \"\nf\"(omitting 'step' suffix)\"\n)\nelse:\nassert found_step_type == cls.__name__.lower(), (\nf\"annotation Literal value {found_step_type!r} \"\nf\"for `{cls.__name__}.step_type` is not the same as the class name\"\n)\ncls.__subclasses.add(cls)\n@classmethod\ndef as_pydantic_field(cls):\n\"\"\"Pydantic field type as a union of all subclasses, discriminated on step_type.\"\"\"\nif len(cls.__subclasses) &gt; 1:\nreturn Annotated[\nreduce(operator.__or__, cls.__subclasses),\nField(discriminator=\"step_type\"),\n]\nelse:  # only the DummyStep\nreturn Annotated[reduce(operator.__or__, cls.__subclasses), Field()]\ndef _factory(self):\n\"\"\"Generate a deep copy of this RmStep.\"\"\"\nreturn self.model_copy(deep=True)\n</code></pre>"},{"location":"API/config/rm_steps.html#passengersim.config.rm_steps.RmStepBase.__subclasses","title":"__subclasses  <code>class-attribute</code>","text":"<pre><code>__subclasses: set[type[RmStepBase]] = set()\n</code></pre>"},{"location":"API/config/rm_steps.html#passengersim.config.rm_steps.RmStepBase.__init_subclass__","title":"__init_subclass__","text":"<pre><code>__init_subclass__(**kwargs)\n</code></pre> <p>Capture a list of all concrete subclasses, including nested levels</p> Source code in <code>src/passengersim/passengersim/config/rm_steps.py</code> <pre><code>def __init_subclass__(cls, **kwargs):\n\"\"\"Capture a list of all concrete subclasses, including nested levels\"\"\"\nsuper().__init_subclass__(**kwargs)\nif inspect.isabstract(cls):\nreturn  # do not consider intermediate abstract base classes\nannotations = inspect.get_annotations(cls, eval_str=True)\nassert \"step_type\" in annotations, \"step_type not in annotations\"\nannotation_step_type = typing.get_origin(annotations[\"step_type\"])\nassert annotation_step_type == Literal, (\nf\"annotation {annotations['step_type']} for `{cls.__name__}.step_type` \"\nf\"is not Literal but {annotation_step_type}\"\n)\nfound_step_type = typing.get_args(annotations[\"step_type\"])[0]\nif cls.__name__.lower().endswith(\"step\"):\nassert found_step_type == cls.__name__.lower()[:-4], (\nf\"annotation Literal value {found_step_type!r} \"\nf\"for `{cls.__name__}.step_type` is not the same as the class name \"\nf\"(omitting 'step' suffix)\"\n)\nelse:\nassert found_step_type == cls.__name__.lower(), (\nf\"annotation Literal value {found_step_type!r} \"\nf\"for `{cls.__name__}.step_type` is not the same as the class name\"\n)\ncls.__subclasses.add(cls)\n</code></pre>"},{"location":"API/config/rm_steps.html#passengersim.config.rm_steps.RmStepBase.as_pydantic_field","title":"as_pydantic_field  <code>classmethod</code>","text":"<pre><code>as_pydantic_field()\n</code></pre> <p>Pydantic field type as a union of all subclasses, discriminated on step_type.</p> Source code in <code>src/passengersim/passengersim/config/rm_steps.py</code> <pre><code>@classmethod\ndef as_pydantic_field(cls):\n\"\"\"Pydantic field type as a union of all subclasses, discriminated on step_type.\"\"\"\nif len(cls.__subclasses) &gt; 1:\nreturn Annotated[\nreduce(operator.__or__, cls.__subclasses),\nField(discriminator=\"step_type\"),\n]\nelse:  # only the DummyStep\nreturn Annotated[reduce(operator.__or__, cls.__subclasses), Field()]\n</code></pre>"},{"location":"API/config/rm_systems.html","title":"RM Systems","text":""},{"location":"API/config/rm_systems.html#passengersim.config.rm_systems.RmStep","title":"RmStep  <code>module-attribute</code>","text":"<pre><code>RmStep = RmStepBase.as_pydantic_field()\n</code></pre>"},{"location":"API/config/rm_systems.html#passengersim.config.rm_systems.RmSystem","title":"RmSystem","text":"<p>             Bases: <code>Named</code></p> Source code in <code>src/passengersim/passengersim/config/rm_systems.py</code> <pre><code>class RmSystem(Named, extra=\"forbid\"):\nsteps: list[RmStep]\n</code></pre>"},{"location":"API/config/rm_systems.html#passengersim.config.rm_systems.RmSystem.steps","title":"steps  <code>instance-attribute</code>","text":"<pre><code>steps: list[RmStep]\n</code></pre>"},{"location":"API/config/snapshot_filter.html","title":"Snapshot filter","text":""},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter","title":"SnapshotFilter","text":"<p>             Bases: <code>BaseModel</code></p> Source code in <code>src/passengersim/passengersim/config/snapshot_filter.py</code> <pre><code>class SnapshotFilter(BaseModel):\ntype: Literal[\n\"forecast\", \"leg_untruncation\", \"path_untruncation\", \"rm\", \"pro_bp\", None\n] = None\ntitle: str = \"\"\nairline: str = \"\"\nsample: list[int] = []\ndcp: list[int] = []\norig: list[str] = []\ndest: list[str] = []\nflt_no: list[int] = []\nlogger: str | None = None\n@field_validator(\"sample\", \"dcp\", \"orig\", \"dest\", \"flt_no\", mode=\"before\")\ndef _allow_singletons(cls, v):\n\"\"\"Allow a singleton value that is converted to a list of one item.\"\"\"\nif not isinstance(v, list | tuple):\nv = [v]\nreturn v\ndef run(self, sim, leg=None, path=None):\n# Check the filter conditions\ninfo = \"\"\nif len(self.sample) &gt; 0 and sim.sample not in self.sample:\nreturn False\ninfo += f\"  sample={sim.sample}\"\nif len(self.dcp) &gt; 0 and sim.last_dcp not in self.dcp:\nreturn False\ninfo += f\"  dcp={sim.last_dcp}\"\nif leg is not None:\nif len(self.orig) &gt; 0 and leg.orig not in self.orig:\nreturn False\ninfo += f\"  orig={leg.orig}\"\nif len(self.dest) &gt; 0 and leg.dest not in self.dest:\nreturn False\ninfo += f\"  dest={leg.dest}\"\nif len(self.flt_no) &gt; 0 and leg.flt_no not in self.flt_no:\nreturn False\ninfo += f\"  flt_no={leg.flt_no}\"\nif path is not None:\nif len(self.orig) &gt; 0 and path.orig not in self.orig:\nreturn False\ninfo += f\"  orig={path.orig}\"\nif len(self.dest) &gt; 0 and path.dest not in self.dest:\nreturn False\ninfo += f\"  dest={path.dest}\"\nif len(self.flt_no) &gt; 0 and path.get_leg_fltno(0) not in self.flt_no:\nreturn False\ninfo += f\"  flt_no={path.get_leg_fltno(0)}\"\n# Now do something\nif len(self.title) &gt; 0:\nif self.logger:\nlogging.getLogger(self.logger)\nprint(f\"{self.title}:{info}\")\nif self.type in [\"leg_untruncation\", \"path_untruncation\"]:\nreturn (\nTrue  # We have a match but, for now, the caller will print the output\n)\nelif self.type == \"forecast\":\npass  # Haven't decided on the approach to this yet\nelif self.type == \"rm\":\nleg.print_bucket_detail()\nelif self.type == \"pro_bp\":\nreturn True\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.airline","title":"airline  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>airline: str = ''\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.dcp","title":"dcp  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>dcp: list[int] = []\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.dest","title":"dest  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>dest: list[str] = []\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.flt_no","title":"flt_no  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>flt_no: list[int] = []\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.logger","title":"logger  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>logger: str | None = None\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.orig","title":"orig  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>orig: list[str] = []\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.sample","title":"sample  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>sample: list[int] = []\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.title","title":"title  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>title: str = ''\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.type","title":"type  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>type: Literal[\n\"forecast\",\n\"leg_untruncation\",\n\"path_untruncation\",\n\"rm\",\n\"pro_bp\",\nNone,\n] = None\n</code></pre>"},{"location":"API/config/snapshot_filter.html#passengersim.config.snapshot_filter.SnapshotFilter.run","title":"run","text":"<pre><code>run(sim, leg = None, path = None)\n</code></pre> Source code in <code>src/passengersim/passengersim/config/snapshot_filter.py</code> <pre><code>def run(self, sim, leg=None, path=None):\n# Check the filter conditions\ninfo = \"\"\nif len(self.sample) &gt; 0 and sim.sample not in self.sample:\nreturn False\ninfo += f\"  sample={sim.sample}\"\nif len(self.dcp) &gt; 0 and sim.last_dcp not in self.dcp:\nreturn False\ninfo += f\"  dcp={sim.last_dcp}\"\nif leg is not None:\nif len(self.orig) &gt; 0 and leg.orig not in self.orig:\nreturn False\ninfo += f\"  orig={leg.orig}\"\nif len(self.dest) &gt; 0 and leg.dest not in self.dest:\nreturn False\ninfo += f\"  dest={leg.dest}\"\nif len(self.flt_no) &gt; 0 and leg.flt_no not in self.flt_no:\nreturn False\ninfo += f\"  flt_no={leg.flt_no}\"\nif path is not None:\nif len(self.orig) &gt; 0 and path.orig not in self.orig:\nreturn False\ninfo += f\"  orig={path.orig}\"\nif len(self.dest) &gt; 0 and path.dest not in self.dest:\nreturn False\ninfo += f\"  dest={path.dest}\"\nif len(self.flt_no) &gt; 0 and path.get_leg_fltno(0) not in self.flt_no:\nreturn False\ninfo += f\"  flt_no={path.get_leg_fltno(0)}\"\n# Now do something\nif len(self.title) &gt; 0:\nif self.logger:\nlogging.getLogger(self.logger)\nprint(f\"{self.title}:{info}\")\nif self.type in [\"leg_untruncation\", \"path_untruncation\"]:\nreturn (\nTrue  # We have a match but, for now, the caller will print the output\n)\nelif self.type == \"forecast\":\npass  # Haven't decided on the approach to this yet\nelif self.type == \"rm\":\nleg.print_bucket_detail()\nelif self.type == \"pro_bp\":\nreturn True\n</code></pre>"},{"location":"Tutorials/demo-3mkt-2carrier.nbconvert.html","title":"Three Market Two Carrier Test","text":"In\u00a0[1]: Copied! <pre>import passengersim as sw\n</pre> import passengersim as sw In\u00a0[2]: Copied! <pre>input_file = sw.demo_network(\"3mkt-2carrier\")\n</pre> input_file = sw.demo_network(\"3mkt-2carrier\") In\u00a0[3]: Copied! <pre>input_file\n</pre> input_file Out[3]: <pre>PosixPath('/Users/jpn/Git/passengersim-core/src/passengersim/passengersim/networks/3mkt-2carrier.yaml')</pre> In\u00a0[4]: Copied! <pre>sim = sw.Simulation.from_yaml(input_file)\n</pre> sim = sw.Simulation.from_yaml(input_file) <pre>Airline = AL1, control = leg\nAirline = AL2, control = leg\n[2023-08-15 11:52:40,662] passengersim.database.database.INFO: connecting to sqlite database: airsim-output.sqlite\n[2023-08-15 11:52:40,662] passengersim.database.database.INFO: initializing sqlite tables\n</pre> In\u00a0[5]: Copied! <pre>sim.sim.snapshot_filters\n</pre> sim.sim.snapshot_filters Out[5]: <pre>[SnapshotFilter(type='path_untruncation', title='Snapshot of path untruncation', airline='', sample=[35], dcp=[0], orig=[], dest=[], flt_no=[202], logger=None),\n SnapshotFilter(type='rm', title='Testing the snapshot filters', airline='', sample=[20, 30], dcp=[7], orig=[], dest=[], flt_no=[101], logger=None),\n SnapshotFilter(type='pro_bp', title='Testing the snapshot filters again', airline='', sample=[20, 30], dcp=[56], orig=[], dest=[], flt_no=[201], logger=None)]</pre> In\u00a0[6]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) <pre>[2023-08-15 11:52:40,668] passengersim.database.database.INFO: deleting existing scenario 'Junk' from database\n[2023-08-15 11:52:40,669] passengersim.INFO: building connections\n[2023-08-15 11:52:40,669] passengersim.INFO: Connections done, num_paths = 24\nTesting the snapshot filters again:  sample=20  dcp=56\nTesting the snapshot filters:  sample=20  dcp=7  orig=BOS  dest=ORD  flt_no=101\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=0.0110191, contrib=324.989, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.0110191, contrib=249.989, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.0110191, contrib=199.989, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00325763, contrib=324.997, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00325763, contrib=249.997, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00325763, contrib=199.997, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00243212, contrib=324.998, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00243212, contrib=249.998, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00243212, contrib=199.998, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.00503169, contrib=324.995, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.00503169, contrib=249.995, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.00503169, contrib=199.995, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0, agg_fare=324.989, rev_low=249.989, agg_mu=1.55372, agg_sigma=0.76876, prot=0.987693, auth=85\nClass , sold=0, n=2, mu=0, agg_fare=261.492, rev_low=199.989, agg_mu=10.1301, agg_sigma=2.75558, prot=8.14109, auth=84\nClass , sold=0, n=3, mu=0, agg_fare=220.184, rev_low=150, agg_mu=30.8515, agg_sigma=8.4356, prot=26.8767, auth=76\nClass , sold=0, n=4, mu=0, agg_fare=203.976, rev_low=125, agg_mu=40.1153, agg_sigma=8.86213, prot=37.5748, auth=58\nClass , sold=0, n=5, mu=0, agg_fare=195.439, rev_low=100, agg_mu=44.9775, agg_sigma=9.05446, prot=44.7126, auth=47\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 15, bid_price = 0.00243212\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.55    324.99     0      1     85\n    BOS-LAX   Y4  250.00    8.58    249.99     1      8     84\n    BOS-LAX   Y5  200.00   20.72    199.99     2     27     76\n    BOS-ORD   Y3  150.00    9.26    150.00     3     38     58\n    BOS-ORD   Y4  125.00    4.86    125.00     4     45     47\n    BOS-ORD   Y5 Testing the snapshot filters again:  sample=30  dcp=56\nTesting the snapshot filters:  sample=30  dcp=7  orig=BOS  dest=ORD  flt_no=101\n 100.00   12.75    100.00     5      0     40\n    EMSRc, flt=201, \u03bc=44.98, \u03c3=9.05, z=4.42, agg_fare=195.44, cap=100, prob=0.00, emsr_c=0.00\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=199.99, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.00, contrib=200.00, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 15, bid_price = 0.00\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.55    324.99     0      1     85\n    BOS-LAX   Y4  250.00    8.58    249.99     1      8     84\n    BOS-LAX   Y5  200.00   20.72    199.99     2     27     76\n    BOS-ORD   Y3  150.00    9.26    150.00     3     38     58\n    BOS-ORD   Y4  125.00    4.86    125.00     4     45     47\n    BOS-ORD   Y5  100.00   12.75    100.00     5      0     40\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.99, rev_low=249.99, agg_mu=1.55, agg_sigma=0.77, prot=0.99, auth=85\nClass , sold=0, n=2, mu=0.00, agg_fare=261.49, rev_low=199.99, agg_mu=10.13, agg_sigma=2.76, prot=8.14, auth=84\nClass , sold=0, n=3, mu=0.00, agg_fare=220.18, rev_low=150.00, agg_mu=30.85, agg_sigma=8.44, prot=26.88, auth=76\nClass , sold=0, n=4, mu=0.00, agg_fare=203.98, rev_low=125.00, agg_mu=40.12, agg_sigma=8.86, prot=37.57, auth=58\nClass , sold=0,Snapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=LAX  flt_no=202\nSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=ORD  flt_no=202\n n=5, mu=0.00, agg_fare=195.44, rev_low=100.00, agg_mu=44.98, agg_sigma=9.05, prot=44.71, auth=47\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 15, bid_price = 0.00\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.55    324.99     0      1     85\n    BOS-LAX   Y4  250.00    8.58    249.99     1      8     84\n    BOS-LAX   Y5  200.00   20.72    199.99     2     27     76\n    BOS-ORD   Y3  150.00    9.26    150.00     3     38     58\n    BOS-ORD   Y4  125.00    4.86    125.00     4     45     47\n    BOS-ORD   Y5  100.00   12.75    100.00     5      0     40\n    EMSRc, flt=201, \u03bc=44.98, \u03c3=9.05, z=4.42, agg_fare=195.44, cap=100, prob=0.00, emsr_c=0.00\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=199.99, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.00, contrib=200.00, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 15, bid_price = 0.00\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.55    324.99     0      1     85\n    BOS-LAX   Y4  250.00    8.58    249.99     1      8     84\n    BOS-LAX   Y5  200.00   20.72    199.99     2     27     76\n    BOS-ORD   Y3  150.00    9.26    150.00     3     38     58\n    BOS-ORD   Y4  125.00    4.86    125.00     4     45     47\n    BOS-ORD   Y5  100.00   12.75    100.00     5      0     40\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.99, rev_low=249.99, agg_mu=1.55, agg_sigma=0.77, prot=0.99, auth=85\nClass , sold=0, n=2, mu=0.00, agg_fare=261.49, rev_low=199.99, agg_mu=10.13, agg_sigma=2.76, prot=8.14, auth=84\nClass , sold=0, n=3, mu=0.00, agg_fare=220.18, rev_low=150.00, agg_mu=30.85, agg_sigma=8.44, prot=26.88, auth=76\nClass , sold=0, n=4, mu=0.00, agg_fare=203.98, rev_low=125.00, agg_mu=40.12, agg_sigma=8.86, prot=37.57, auth=58\nClass , sold=0, n=5, mu=0.00, agg_fare=195.44, rev_low=100.00, agg_mu=44.98, agg_sigma=9.05, prot=44.71, auth=47\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 15, bid_price = 0.00\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.55    324.99     0      1     85\n    BOS-LAX   Y4  250.00    8.58    249.99     1      8     84\n    BOS-LAX   Y5  200.00   20.72    199.99     2     27     76\n    BOS-ORD   Y3  150.00    9.26    150.00     3     38     58\n    BOS-ORD   Y4  125.00    4.86    125.00     4     45     47\n    BOS-ORD   Y5  100.00   12.75    100.00     5      0     40\n    EMSRc, flt=201, \u03bc=44.98, \u03c3=9.05, z=4.42, agg_fare=195.44, cap=100, prob=0.00, emsr_c=0.00\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=199.99, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.00, contrib=200.00, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.00, contrib=325.00, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.00, contrib=250.00, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.00, contrib=200.00, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 15, bid_price = 0.00\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.55    324.99     0      1     85\n    BOS-LAX   Y4  250.00    8.58    249.99     1      8     84\n    BOS-LAX   Y5  200.00   20.72    199.99     2     27     76\n    BOS-ORD   Y3  150.00    9.26    150.00     3     38     58\n    BOS-ORD   Y4  125.00    4.86    125.00     4     45     47\n    BOS-ORD   Y5  100.00   12.75    100.00     5      0     40\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 90, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    10\n    Y1     3  516.67    6.23    1.60  300.00     6    10\n    Y2     9  311.11    6.50    1.60  200.00    12     4\n    Y3    29  258.62    0.00    0.00  150.00    13     0\n    Y4    13  192.31    0.00    0.00  125.00    13     0\n    Y5    36  127.78    0.00    0.00  100.00     0     0\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=0.02, contrib=324.98, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.02, contrib=249.98, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.02, contrib=199.98, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.07, contrib=324.93, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.07, contrib=249.93, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.07, contrib=199.93, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.05, contrib=324.95, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.05, contrib=249.95, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.05, contrib=199.95, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.13, contrib=324.87, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.13, contrib=249.87, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.13, contrib=199.87, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.98, rev_low=249.98, agg_mu=2.27, agg_sigma=1.04, prot=1.51, auth=70\nClass , sold=0, n=2, mu=0.00, agg_fare=266.90, rev_low=199.98, agg_mu=10.08, agg_sigma=2.42, prot=8.45, auth=68\nClass , sold=0, n=3, mu=0.00, agg_fare=219.27, rev_low=150.00, agg_mu=34.96, agg_sigma=9.76, prot=30.28, auth=61\nClass , sold=0, n=4, mu=0.00, agg_fare=205.68, rev_low=125.00, agg_mu=43.49, agg_sigma=10.02, prot=40.75, auth=39\nClass , sold=0, n=5, mu=0.00, agg_fare=197.78, rev_low=100.00, agg_mu=48.22, agg_sigma=10.16, prot=48.08, auth=29\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 30, bid_price = 0.05\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.27    324.98     0      2     70\n    BOS-LAX   Y4  250.00    7.81    249.98     1      8     68\n    BOS-LAX   Y5  200.00   24.88    199.98     2     30     61\n    BOS-ORD   Y3  150.00    8.53    150.00     3     41     39\n    BOS-ORD   Y4  125.00    4.72    125.00     4     48     29\n    BOS-ORD   Y5  100.00   16.87    100.00     5      0     22\n    EMSRc, flt=201, \u03bc=48.22, \u03c3=10.16, z=2.14, agg_fare=197.78, cap=100, prob=0.02, emsr_c=3.17\nLeg1: AL2 201: BOS-ORD, bp=1.51, contrib=323.49, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.51, contrib=248.49, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.51, contrib=198.49, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.90, contrib=321.10, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.90, contrib=246.10, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.90, contrib=196.10, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=3.17, contrib=321.83, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=3.17, contrib=246.83, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=3.17, contrib=196.83, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.42, contrib=323.58, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.42, contrib=248.58, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.42, contrib=198.58, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 30, bid_price = 3.17\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.27    323.49     0      2     70\n    BOS-LAX   Y4  250.00    7.81    248.49     1      8     68\n    BOS-LAX   Y5  200.00   24.88    198.49     2     30     61\n    BOS-ORD   Y3  150.00    8.53    150.00     3     41     39\n    BOS-ORD   Y4  125.00    4.72    125.00     4     48     29\n    BOS-ORD   Y5  100.00   16.87    100.00     5      0     22\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=323.49, rev_low=248.49, agg_mu=2.27, agg_sigma=1.04, prot=1.51, auth=70\nClass , sold=0, n=2, mu=0.00, agg_fare=265.40, rev_low=198.49, agg_mu=10.08, agg_sigma=2.42, prot=8.46, auth=68\nClass , sold=0, n=3, mu=0.00, agg_fare=217.78, rev_low=150.00, agg_mu=34.96, agg_sigma=9.76, prot=30.15, auth=61\nClass , sold=0, n=4, mu=0.00, agg_fare=204.48, rev_low=125.00, agg_mu=43.49, agg_sigma=10.02, prot=40.66, auth=39\nClass , sold=0, n=5, mu=0.00, agg_fare=196.69, rev_low=100.00, agg_mu=48.22, agg_sigma=10.16, prot=48.01, auth=29\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 30, bid_price = 3.17\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.27    323.49     0      2     70\n    BOS-LAX   Y4  250.00    7.81    248.49     1      8     68\n    BOS-LAX   Y5  200.00   24.88    198.49     2     30     61\n    BOS-ORD   Y3  150.00    8.53    150.00     3     41     39\n    BOS-ORD   Y4  125.00    4.72    125.00     4     48     29\n    BOS-ORD   Y5  100.00   16.87    100.00     5      0     22\n    EMSRc, flt=201, \u03bc=48.22, \u03c3=10.16, z=2.14, agg_fare=196.69, cap=100, prob=0.02, emsr_c=3.16\nLeg1: AL2 201: BOS-ORD, bp=1.50, contrib=323.50, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.50, contrib=248.50, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.50, contrib=198.50, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.89, contrib=321.11, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.89, contrib=246.11, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.89, contrib=196.11, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=3.16, contrib=321.84, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=3.16, contrib=246.84, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=3.16, contrib=196.84, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.40, contrib=323.60, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.40, contrib=248.60, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.40, contrib=198.60, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 30, bid_price = 3.16\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.27    323.50     0      2     70\n    BOS-LAX   Y4  250.00    7.81    248.50     1      8     68\n    BOS-LAX   Y5  200.00   24.88    198.50     2     30     61\n    BOS-ORD   Y3  150.00    8.53    150.00     3     41     39\n    BOS-ORD   Y4  125.00    4.72    125.00     4     48     29\n    BOS-ORD   Y5  100.00   16.87    100.00     5      0     22\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=323.50, rev_low=248.50, agg_mu=2.27, agg_sigma=1.04, prot=1.51, auth=70\nClass , sold=0, n=2, mu=0.00, agg_fare=265.42, rev_low=198.50, agg_mu=10.08, agg_sigma=2.42, prot=8.46, auth=68\nClass , sold=0, n=3, mu=0.00, agg_fare=217.80, rev_low=150.00, agg_mu=34.96, agg_sigma=9.76, prot=30.15, auth=61\nClass , sold=0, n=4, mu=0.00, agg_fare=204.49, rev_low=125.00, agg_mu=43.49, agg_sigma=10.02, prot=40.66, auth=39\nClass , sold=0, n=5, mu=0.00, agg_fare=196.70, rev_low=100.00, agg_mu=48.22, agg_sigma=10.16, prot=48.01, auth=29\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 30, bid_price = 3.16\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.27    323.50     0      2     70\n    BOS-LAX   Y4  250.00    7.81    248.50     1      8     68\n    BOS-LAX   Y5  200.00   24.88    198.50     2     30     61\n    BOS-ORD   Y3  150.00    8.53    150.00     3     41     39\n    BOS-ORD   Y4  125.00    4.72    125.00     4     48     29\n    BOS-ORD   Y5  100.00   16.87    100.00     5      0     22\n    EMSRc, flt=201, \u03bc=48.22, \u03c3=10.16, z=2.14, agg_fare=196.70, cap=100, prob=0.02, emsr_c=3.16\nLeg1: AL2 201: BOS-ORD, bp=1.50, contrib=323.50, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.50, contrib=248.50, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.50, contrib=198.50, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.89, contrib=321.11, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.89, contrib=246.11, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.89, contrib=196.11, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=3.16, contrib=321.84, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=3.16, contrib=246.84, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=3.16, contrib=196.84, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.40, contrib=323.60, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.40, contrib=248.60, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.40, contrib=198.60, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 30, bid_price = 3.16\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.27    323.50     0      2     70\n    BOS-LAX   Y4  250.00    7.81    248.50     1      8     68\n    BOS-LAX   Y5  200.00   24.88    198.50     2     30     61\n    BOS-ORD   Y3  150.00    8.53    150.00     3     41     39\n    BOS-ORD   Y4  125.00    4.72    125.00     4     48     29\n    BOS-ORD   Y5  100.00   16.87    100.00     5      0     22\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 88, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    12\n    Y1     5  560.00    8.78    2.71  300.00     8    12\n    Y2    18  325.00    7.04    1.67  200.00    15     4\n    Y3    36  247.22    0.00    0.00  150.00    16     0\n    Y4    12  208.33    0.00    0.00  125.00    17     0\n    Y5    17  117.65    0.00    0.00  100.00     0     0\n***** Class History, total demand = 44.00\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0   11.00 |    0    0    0    1    0    0    0    0    0    0    0    0    0    0    0    2    0    1    2    0    1    1    0    0    0    0 \n     1    9.00 |   11   12    9   23   18   10    4    9   11    9    6   10    7    5    4    5    2    7    8    8    8    9    6    6    8    4 \n     2    5.00 |   20   18   19   33   24   19    8   16   20   17   10   17   12    7    7   10    4    9   13   10   12   13    8    9   10    8 \n     3    4.00 |   25   31-  24   40   39-  22   17   25   29   24   16   29   21    9    8   13    7   11   17   11   13   21   11   12   15   12 \n     4    4.00 |   29   31-  29-  41-  39-  29   20   33-  33-  32-  23   35-  29   19   14   19-   9   14   26   14   16   26   16   17   19   17 \n     5    2.00 |   33   31-  29-  41-  39-  30-  22   33-  33-  32-  29   35-  32   25   19   19-  11   16   32-  16   18   32-  18   18   23   19 \n     6    4.31 |   35   31-  29-  41-  39-  30-  23   33-  33-  32-  34-  35-  37-  28   21   19-  12   17   32-  16   18   32-  20   19   24   20 \n     7    4.69 |   37-  31-  29-  41-  39-  30-  29-  33-  33-  32-  34-  35-  37-  30-  25-  19-  16   19   32-  18   27   32-  21   21   26-  21-\n     8    0.00 |   37-  31-  29-  41-  39-  30-  29-  33-  33-  32-  34-  35-  37-  30-  25-  19-  19   21   32-  23   37-  32-  24   21   26-  21-\n     9    0.00 |   37-  31-  29-  41-  39-  30-  29-  33-  33-  32-  34-  35-  37-  30-  25-  19-  19   21   32-  23   37-  32-  24   21   26-  21-\n    10    0.00 |   37-  31-  29-  41-  39-  30-  29-  33-  33-  32-  34-  35-  37-  30-  25-  19-  19   21   32-  23   37-  32-  24   21   26-  21-\n    11    0.00 |   37-  31-  29-  41-  39-  30-  29-  33-  33-  32-  34-  35-  37-  30-  25-  19-  19   21   32-  23   37-  32-  24   21   26-  21-\n    12    0.00 |   37-  31-  29-  41-  39-  30-  29-  33-  33-  32-  34-  35-  37-  30-  25-  19-  19   21   32-  23   37-  32-  24   21   26-  21-\n    13    0.00 |   37-  31-  29-  41-  39-  30-  29-  33-  33-  32-  34-  35-  37-  30-  25-  19-  19   21   32-  23   37-  32-  24   21   26-  21-\n    14    0.00 |   37-  31-  29-  41-  39-  30-  29-  33-  33-  32-  34-  35-  37-  30-  25-  19-  19   21   32-  23   37-  32-  24   21   26-  21-\n    15    0.00 |   37-  31-  29-  41-  39-  30-  29-  33-  33-  32-  34-  35-  37-  30-  25-  19-  19   21   32-  23   37-  32-  24   21   26-  21-\n    16    0.00 |   37-  31-  29-  41-  39-  30-  29-  33-  33-  32-  34-  35-  37-  30-  25-  19-  19   21   32-  23   37-  32-  24   21   26-  21-\n***** Class History, total demand = 4.04\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    0.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    0.00 |    0    0    1    1    3    0    1    2    0    0    2    1    0    1    1    0    2    0    0    0    0    2    0    0    0    3 \n     2    0.00 |    0    1    1    1    3    1    1    2    0    0    2    1    0    1    1    1    3    0    0    0    0    2    1    1    1    4 \n     3    1.00 |    0    1    2    1-   3-   1    2    2    1    1    2    1    0    2    1    2    3    1    0    1    0    3    1    1    1    4 \n     4    0.44 |    1    1-   2-   1-   3-   1-   2    2-   1-   2-   2    1-   1    2    1    2-   4    1    0    1    0    3    1    1    1    4-\n     5    0.28 |    1-   1-   2-   1-   3-   1-   2    2-   1-   2-   2-   1-   1    2-   1    2-   4    2    0-   1    0    3-   1    2    2    4-\n     6    0.00 |    1-   1-   2-   1-   3-   1-   2    2-   1-   2-   2-   1-   1-   2-   1    2-   4    2    0-   2    0    3-   1-   2    2-   4-\n     7    0.37 |    1-   1-   2-   1-   3-   1-   2    2-   1-   2-   2-   1-   1-   2-   1-   2-   4    2    0-   2-   0    3-   1-   2-   2-   4-\n     8    0.69 |    1-   1-   2-   1-   3-   1-   2    2-   1-   2-   2-   1-   1-   2-   1-   2-   4    3    0-   2-   0-   3-   1-   2-   2-   4-\n     9    0.00 |    1-   1-   2-   1-   3-   1-   3-   2-   1-   2-   2-   1-   1-   2-   1-   2-   5    3    0-   2-   0-   3-   1-   2-   2-   4-\n    10    1.26 |    1-   1-   2-   1-   3-   1-   3-   2-   1-   2-   2-   1-   1-   2-   1-   2-   5-   3    0-   2-   0-   3-   1-   2-   2-   4-\n    11    0.00 |    1-   1-   2-   1-   3-   1-   3-   2-   1-   2-   2-   1-   1-   2-   1-   2-   5-   5    0-   2-   0-   3-   1-   2-   2-   4-\n    12    0.00 |    1-   1-   2-   1-   3-   1-   3-   2-   1-   2-   2-   1-   1-   2-   1-   2-   5-   5    0-   2-   0-   3-   1-   2-   2-   4-\n    13    0.00 |    1-   1-   2-   1-   3-   1-   3-   2-   1-   2-   2-   1-   1-   2-   1-   2-   5-   5    0-   2-   0-   3-   1-   2-   2-   4-\n    14    0.00 |    1-   1-   2-   1-   3-   1-   3-   2-   1-   2-   2-   1-   1-   2-   1-   2-   5-   5    0-   2-   0-   3-   1-   2-   2-   4-\n    15    0.00 |    1-   1-   2-   1-   3-   1-   3-   2-   1-   2-   2-   1-   1-   2-   1-   2-   5-   5    0-   2-   0-   3-   1-   2-   2-   4-\n    16    0.00 |    1-   1-   2-   1-   3-   1-   3-   2-   1-   2-   2-   1-   1-   2-   1-   2-   5-   5    0-   2-   0-   3-   1-   2-   2-   4-\nTesting the snapshot filters again:  sample=20  dcp=56\nTesting the snapshot filters:  sample=20  dcp=7  orig=BOS  dest=ORD  flt_no=101\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=8.60, contrib=316.40, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=8.60, contrib=241.40, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=8.60, contrib=191.40, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.18, contrib=319.82, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.18, contrib=244.82, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.18, contrib=194.82, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=5.96, contrib=319.04, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=5.96, contrib=244.04, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=5.96, contrib=194.04, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.18, contrib=322.82, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.18, contrib=247.82, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.18, contrib=197.82, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=316.40, rev_low=241.40, agg_mu=5.68, agg_sigma=1.31, prot=4.74, auth=71\nClass , sold=0, n=2, mu=0.00, agg_fare=270.35, rev_low=191.40, agg_mu=14.71, agg_sigma=3.10, prot=13.01, auth=66\nClass , sold=0, n=3, mu=0.00, agg_fare=217.36, rev_low=150.00, agg_mu=44.74, agg_sigma=9.76, prot=39.90, auth=57\nClass , sold=0, n=4, mu=0.00, agg_fare=208.86, rev_low=125.00, agg_mu=51.20, agg_sigma=9.88, prot=48.74, auth=31\nClass , sold=0, n=5, mu=0.00, agg_fare=198.75, rev_low=100.00, agg_mu=58.22, agg_sigma=10.20, prot=58.14, auth=22\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 29, bid_price = 5.96\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    5.68    316.40     0      5     71\n    BOS-LAX   Y4  250.00    9.03    241.40     1     13     66\n    BOS-LAX   Y5  200.00   30.03    191.40     2     40     57\n    BOS-ORD   Y3  150.00    6.46    150.00     3     49     31\n    BOS-ORD   Y4  125.00    7.02    125.00     4     58     22\n    BOS-ORD   Y5  100.00   17.94    100.00     5      0     13\n    EMSRc, flt=201, \u03bc=58.22, \u03c3=10.20, z=1.25, agg_fare=198.75, cap=100, prob=0.11, emsr_c=20.87\nLeg1: AL2 201: BOS-ORD, bp=60.51, contrib=264.49, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=60.51, contrib=189.49, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=60.51, contrib=139.49, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=8.88, contrib=316.12, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=8.88, contrib=241.12, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=8.88, contrib=191.12, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=20.87, contrib=304.13, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=20.87, contrib=229.13, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=20.87, contrib=179.13, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.39, contrib=323.61, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.39, contrib=248.61, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.39, contrib=198.61, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 29, bid_price = 20.87\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    5.68    264.49     0      5     71\n    BOS-LAX   Y4  250.00    9.03    189.49     1     13     66\n    BOTesting the snapshot filters again:  sample=30  dcp=56\nTesting the snapshot filters:  sample=30  dcp=7  orig=BOS  dest=ORD  flt_no=101\nS-ORD   Y3  150.00    6.46    150.00     2     49     31\n    BOS-LAX   Y5  200.00   30.03    139.49     3     40     57\n    BOS-ORD   Y4  125.00    7.02    125.00     4     58     22\n    BOS-ORD   Y5  100.00   17.94    100.00     5      0     13\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=264.49, rev_low=189.49, agg_mu=5.68, agg_sigma=1.31, prot=4.93, auth=71\nClass , sold=0, n=2, mu=0.00, agg_fare=218.43, rev_low=150.00, agg_mu=14.71, agg_sigma=3.10, prot=13.20, auth=66\nClass , sold=0, n=3, mu=0.00, agg_fare=197.55, rev_low=139.49, agg_mu=21.17, agg_sigma=3.48, prot=19.29, auth=57\nClass , sold=0, n=4, mu=0.00, agg_fare=163.50, rev_low=125.00, agg_mu=51.20, agg_sigma=9.88, prot=44.08, auth=51\nClass , sold=0, n=5, mu=0.00, agg_fare=158.86, rev_low=100.00, agg_mu=58.22, agg_sigma=10.20, prot=54.85, auth=26\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 29, bid_price = 20.87\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    5.68    264.49     0      5     71\n    BOS-LAX   Y4  250.00    9.03    189.49     1     13     66\n    BOS-ORD   Y3  150.00    6.46    150.00     2     19     57\n    BOS-LAX   Y5  200.00   30.03    139.49     3     44     51\n    BOS-ORD   Y4  125.00    7.02    125.00     4     55     26\n    BOS-ORD   Y5  100.00   17.94    100.00     5      0     16\n    EMSRc, flt=201, \u03bc=58.22, \u03c3=10.20, z=1.25, agg_fare=158.86, cap=100, prob=0.11, emsr_c=16.68\nLeg1: AL2 201: BOS-ORD, bp=57.89, contrib=267.11, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=57.89, contrib=192.11, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=57.89, contrib=142.11, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=8.90, contrib=316.10, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=8.90, contrib=241.10, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=8.90, contrib=191.10, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=16.68, contrib=308.32, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=16.68, contrib=233.32, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=16.68, contrib=183.32, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.38, contrib=323.62, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.38, contrib=248.62, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.38, contrib=198.62, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 29, bid_price = 16.68\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    5.68    267.11     0      5     71\n    BOS-LAX   Y4  250.00    9.03    192.11     1     13     66\n    BOS-ORD   Y3  150.00    6.46    150.00     2     19     57\n    BOS-LAX   Y5  200.00   30.03    142.11     3     44     51\n    BOS-ORD   Y4  125.00    7.02    125.00     4     55     26\n    BOS-ORD   Y5  100.00   17.94    100.00     5      0     16\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=267.11, rev_low=192.11, agg_mu=5.68, agg_sigma=1.31, prSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=LAX  flt_no=202\nSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=ORD  flt_no=202\not=4.92, auth=71\nClass , sold=0, n=2, mu=0.00, agg_fare=221.05, rev_low=150.00, agg_mu=14.71, agg_sigma=3.10, prot=13.27, auth=66\nClass , sold=0, n=3, mu=0.00, agg_fare=199.37, rev_low=142.11, agg_mu=21.17, agg_sigma=3.48, prot=19.22, auth=57\nClass , sold=0, n=4, mu=0.00, agg_fare=165.79, rev_low=125.00, agg_mu=51.20, agg_sigma=9.88, prot=44.41, auth=51\nClass , sold=0, n=5, mu=0.00, agg_fare=160.87, rev_low=100.00, agg_mu=58.22, agg_sigma=10.20, prot=55.06, auth=26\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 29, bid_price = 16.68\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    5.68    267.11     0      5     71\n    BOS-LAX   Y4  250.00    9.03    192.11     1     13     66\n    BOS-ORD   Y3  150.00    6.46    150.00     2     19     57\n    BOS-LAX   Y5  200.00   30.03    142.11     3     44     51\n    BOS-ORD   Y4  125.00    7.02    125.00     4     55     26\n    BOS-ORD   Y5  100.00   17.94    100.00     5      0     16\n    EMSRc, flt=201, \u03bc=58.22, \u03c3=10.20, z=1.25, agg_fare=160.87, cap=100, prob=0.11, emsr_c=16.89\nLeg1: AL2 201: BOS-ORD, bp=58.63, contrib=266.37, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=58.63, contrib=191.37, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=58.63, contrib=141.37, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=8.90, contrib=316.10, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=8.90, contrib=241.10, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=8.90, contrib=191.10, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=16.89, contrib=308.11, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=16.89, contrib=233.11, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=16.89, contrib=183.11, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.38, contrib=323.62, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.38, contrib=248.62, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.38, contrib=198.62, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 29, bid_price = 16.89\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    5.68    266.37     0      5     71\n    BOS-LAX   Y4  250.00    9.03    191.37     1     13     66\n    BOS-ORD   Y3  150.00    6.46    150.00     2     19     57\n    BOS-LAX   Y5  200.00   30.03    141.37     3     44     51\n    BOS-ORD   Y4  125.00    7.02    125.00     4     55     26\n    BOS-ORD   Y5  100.00   17.94    100.00     5      0     16\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 90, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    10\n    Y1     9  516.67    9.92    3.45  300.00     8    10\n    Y2    24  325.00    9.21    2.99  200.00    18     1\n    Y3    42  245.83    0.00    0.00  150.00    19     0\n    Y4    12  156.25    0.00    0.00  125.00    20     0\n    Y5     3  100.00    0.00    0.00  100.00     0     0\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=0.80, contrib=324.20, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.80, contrib=249.20, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.80, contrib=199.20, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.58, contrib=324.42, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.58, contrib=249.42, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.58, contrib=199.42, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.64, contrib=324.36, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.64, contrib=249.36, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.64, contrib=199.36, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.15, contrib=324.85, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.15, contrib=249.85, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.15, contrib=199.85, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.20, rev_low=249.20, agg_mu=4.12, agg_sigma=1.08, prot=3.32, auth=82\nClass , sold=0, n=2, mu=0.00, agg_fare=275.48, rev_low=199.20, agg_mu=11.75, agg_sigma=2.78, prot=10.10, auth=78\nClass , sold=0, n=3, mu=0.00, agg_fare=223.45, rev_low=150.00, agg_mu=36.94, agg_sigma=10.14, prot=32.44, auth=71\nClass , sold=0, n=4, mu=0.00, agg_fare=215.73, rev_low=125.00, agg_mu=41.28, agg_sigma=10.22, prot=39.24, auth=49\nClass , sold=0, n=5, mu=0.00, agg_fare=204.35, rev_low=100.00, agg_mu=47.20, agg_sigma=10.51, prot=47.48, auth=42\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 18, bid_price = 0.64\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.12    324.20     0      3     82\n    BOS-LAX   Y4  250.00    7.63    249.20     1     10     78\n    BOS-LAX   Y5  200.00   25.19    199.20     2     32     71\n    BOS-ORD   Y3  150.00    4.34    150.00     3     39     49\n    BOS-ORD   Y4  125.00    5.92    125.00     4     47     42\n    BOS-ORD   Y5  100.00   15.82    100.00     5      0     35\n    EMSRc, flt=201, \u03bc=47.20, \u03c3=10.51, z=3.31, agg_fare=204.35, cap=100, prob=0.00, emsr_c=0.10\nLeg1: AL2 201: BOS-ORD, bp=2.43, contrib=322.57, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=2.43, contrib=247.57, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=2.43, contrib=197.57, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.98, contrib=319.02, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.98, contrib=244.02, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.98, contrib=194.02, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.10, contrib=324.90, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.10, contrib=249.90, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.10, contrib=199.90, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.84, contrib=324.16, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.84, contrib=249.16, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.84, contrib=199.16, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 18, bid_price = 0.10\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.12    322.57     0      3     82\n    BOS-LAX   Y4  250.00    7.63    247.57     1     10     78\n    BOS-LAX   Y5  200.00   25.19    197.57     2     32     71\n    BOS-ORD   Y3  150.00    4.34    150.00     3     39     49\n    BOS-ORD   Y4  125.00    5.92    125.00     4     47     42\n    BOS-ORD   Y5  100.00   15.82    100.00     5      0     35\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=322.57, rev_low=247.57, agg_mu=4.12, agg_sigma=1.08, prot=3.32, auth=82\nClass , sold=0, n=2, mu=0.00, agg_fare=273.85, rev_low=197.57, agg_mu=11.75, agg_sigma=2.78, prot=10.12, auth=78\nClass , sold=0, n=3, mu=0.00, agg_fare=221.82, rev_low=150.00, agg_mu=36.94, agg_sigma=10.14, prot=32.30, auth=71\nClass , sold=0, n=4, mu=0.00, agg_fare=214.26, rev_low=125.00, agg_mu=41.28, agg_sigma=10.22, prot=39.13, auth=49\nClass , sold=0, n=5, mu=0.00, agg_fare=203.07, rev_low=100.00, agg_mu=47.20, agg_sigma=10.51, prot=47.40, auth=42\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 18, bid_price = 0.10\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.12    322.57     0      3     82\n    BOS-LAX   Y4  250.00    7.63    247.57     1     10     78\n    BOS-LAX   Y5  200.00   25.19    197.57     2     32     71\n    BOS-ORD   Y3  150.00    4.34    150.00     3     39     49\n    BOS-ORD   Y4  125.00    5.92    125.00     4     47     42\n    BOS-ORD   Y5  100.00   15.82    100.00     5      0     35\n    EMSRc, flt=201, \u03bc=47.20, \u03c3=10.51, z=3.31, agg_fare=203.07, cap=100, prob=0.00, emsr_c=0.09\nLeg1: AL2 201: BOS-ORD, bp=2.44, contrib=322.56, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=2.44, contrib=247.56, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=2.44, contrib=197.56, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.97, contrib=319.03, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.97, contrib=244.03, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.97, contrib=194.03, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.09, contrib=324.91, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.09, contrib=249.91, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.09, contrib=199.91, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.82, contrib=324.18, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.82, contrib=249.18, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.82, contrib=199.18, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 18, bid_price = 0.09\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.12    322.56     0      3     82\n    BOS-LAX   Y4  250.00    7.63    247.56     1     10     78\n    BOS-LAX   Y5  200.00   25.19    197.56     2     32     71\n    BOS-ORD   Y3  150.00    4.34    150.00     3     39     49\n    BOS-ORD   Y4  125.00    5.92    125.00     4     47     42\n    BOS-ORD   Y5  100.00   15.82    100.00     5      0     35\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=322.56, rev_low=247.56, agg_mu=4.12, agg_sigma=1.08, prot=3.32, auth=82\nClass , sold=0, n=2, mu=0.00, agg_fare=273.84, rev_low=197.56, agg_mu=11.75, agg_sigma=2.78, prot=10.12, auth=78\nClass , sold=0, n=3, mu=0.00, agg_fare=221.82, rev_low=150.00, agg_mu=36.94, agg_sigma=10.14, prot=32.30, auth=71\nClass , sold=0, n=4, mu=0.00, agg_fare=214.26, rev_low=125.00, agg_mu=41.28, agg_sigma=10.22, prot=39.13, auth=49\nClass , sold=0, n=5, mu=0.00, agg_fare=203.07, rev_low=100.00, agg_mu=47.20, agg_sigma=10.51, prot=47.40, auth=42\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 18, bid_price = 0.09\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.12    322.56     0      3     82\n    BOS-LAX   Y4  250.00    7.63    247.56     1     10     78\n    BOS-LAX   Y5  200.00   25.19    197.56     2     32     71\n    BOS-ORD   Y3  150.00    4.34    150.00     3     39     49\n    BOS-ORD   Y4  125.00    5.92    125.00     4     47     42\n    BOS-ORD   Y5  100.00   15.82    100.00     5      0     35\n    EMSRc, flt=201, \u03bc=47.20, \u03c3=10.51, z=3.31, agg_fare=203.07, cap=100, prob=0.00, emsr_c=0.09\nLeg1: AL2 201: BOS-ORD, bp=2.44, contrib=322.56, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=2.44, contrib=247.56, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=2.44, contrib=197.56, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.97, contrib=319.03, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.97, contrib=244.03, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.97, contrib=194.03, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.09, contrib=324.91, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.09, contrib=249.91, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.09, contrib=199.91, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.82, contrib=324.18, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.82, contrib=249.18, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.82, contrib=199.18, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 18, bid_price = 0.09\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.12    322.56     0      3     82\n    BOS-LAX   Y4  250.00    7.63    247.56     1     10     78\n    BOS-LAX   Y5  200.00   25.19    197.56     2     32     71\n    BOS-ORD   Y3  150.00    4.34    150.00     3     39     49\n    BOS-ORD   Y4  125.00    5.92    125.00     4     47     42\n    BOS-ORD   Y5  100.00   15.82    100.00     5      0     35\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 85, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    15\n    Y1     2  462.50    8.29    3.48  300.00     7    15\n    Y2    15  433.33    7.34    2.96  200.00    15     8\n    Y3    39  271.15    0.00    0.00  150.00    16     0\n    Y4    14  133.93    0.00    0.00  125.00    17     0\n    Y5    15  106.67    0.00    0.00  100.00     0     0\n***** Class History, total demand = 32.93\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    7.00 |    0    0    0    1    0    0    1    0    0    1    0    0    1    0    1    0    1    0    0    0    0    0    0    0    2    0 \n     1    3.00 |    7   13   12   16   23   17   17   11   15    8    7   18   14   18   12   14   11   15   19    9    8    8   12   22   18    6 \n     2    4.00 |   10   22   19   24   36   28   31   16   24   14   14   28   21   27   18   22   17   24   30   13   14   14   15   36-  29   10 \n     3    6.00 |   14   31   25   32   41-  39   37-  21   32-  20   20   40   25-  38-  33-  37   28-  32   37-  16   18   27   21   36-  38-  12 \n     4    4.00 |   20   36-  28-  36-  41-  43-  37-  23-  32-  28   26   41-  25-  38-  33-  40-  28-  32-  37-  27-  22-  30-  29-  36-  38-  14 \n     5    4.00 |   24   36-  28-  36-  41-  43-  37-  23-  32-  36   31   41-  25-  38-  33-  40-  28-  32-  37-  27-  22-  30-  29-  36-  38-  16 \n     6    4.30 |   28   36-  28-  36-  41-  43-  37-  23-  32-  37-  33   41-  25-  38-  33-  40-  28-  32-  37-  27-  22-  30-  29-  36-  38-  18 \n     7    0.63 |   30-  36-  28-  36-  41-  43-  37-  23-  32-  37-  39-  41-  25-  38-  33-  40-  28-  32-  37-  27-  22-  30-  29-  36-  38-  19 \n     8    0.00 |   30-  36-  28-  36-  41-  43-  37-  23-  32-  37-  39-  41-  25-  38-  33-  40-  28-  32-  37-  27-  22-  30-  29-  36-  38-  20 \n     9    0.00 |   30-  36-  28-  36-  41-  43-  37-  23-  32-  37-  39-  41-  25-  38-  33-  40-  28-  32-  37-  27-  22-  30-  29-  36-  38-  20 \n    10    0.00 |   30-  36-  28-  36-  41-  43-  37-  23-  32-  37-  39-  41-  25-  38-  33-  40-  28-  32-  37-  27-  22-  30-  29-  36-  38-  20 \n    11    0.00 |   30-  36-  28-  36-  41-  43-  37-  23-  32-  37-  39-  41-  25-  38-  33-  40-  28-  32-  37-  27-  22-  30-  29-  36-  38-  20 \n    12    0.00 |   30-  36-  28-  36-  41-  43-  37-  23-  32-  37-  39-  41-  25-  38-  33-  40-  28-  32-  37-  27-  22-  30-  29-  36-  38-  20 \n    13    0.00 |   30-  36-  28-  36-  41-  43-  37-  23-  32-  37-  39-  41-  25-  38-  33-  40-  28-  32-  37-  27-  22-  30-  29-  36-  38-  20 \n    14    0.00 |   30-  36-  28-  36-  41-  43-  37-  23-  32-  37-  39-  41-  25-  38-  33-  40-  28-  32-  37-  27-  22-  30-  29-  36-  38-  20 \n    15    0.00 |   30-  36-  28-  36-  41-  43-  37-  23-  32-  37-  39-  41-  25-  38-  33-  40-  28-  32-  37-  27-  22-  30-  29-  36-  38-  20 \n    16    0.00 |   30-  36-  28-  36-  41-  43-  37-  23-  32-  37-  39-  41-  25-  38-  33-  40-  28-  32-  37-  27-  22-  30-  29-  36-  38-  20 \n***** Class History, total demand = 2.96\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    0.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    1.00 |    0    0    0    0    1    0    0    1    0    0    1    0    2    0    2    1    0    1    0    0    0    0    0    0    1    0 \n     2    0.00 |    1    1    0    1    2    0    1    1    0    0    3    0    2    0    3    1    0    2    0    1    0    1    1    0-   1    0 \n     3    1.00 |    1    1-   0    1    2-   0    1-   1    0    0    3    0-   2-   0-   4-   1    0-   2    0-   1    0    3    2    0-   1-   0 \n     4    0.00 |    2    1-   0    1-   2-   0-   1-   1    0    0    3    0-   2-   0-   4-   1-   0-   2-   0-   1    0-   3-   2    0-   1-   0 \n     5    0.33 |    2    1-   0    1-   2-   0-   1-   1    0-   1-   3    0-   2-   0-   4-   1-   0-   2-   0-   1    0-   3-   2-   0-   1-   0 \n     6    0.63 |    2-   1-   1    1-   2-   0-   1-   1    0-   1-   3-   0-   2-   0-   4-   1-   0-   2-   0-   1    0-   3-   2-   0-   1-   0 \n     7    0.00 |    2-   1-   1    1-   2-   0-   1-   1-   0-   1-   3-   0-   2-   0-   4-   1-   0-   2-   0-   2    0-   3-   2-   0-   1-   1 \n     8    0.00 |    2-   1-   1    1-   2-   0-   1-   1-   0-   1-   3-   0-   2-   0-   4-   1-   0-   2-   0-   2-   0-   3-   2-   0-   1-   1 \n     9    0.00 |    2-   1-   1    1-   2-   0-   1-   1-   0-   1-   3-   0-   2-   0-   4-   1-   0-   2-   0-   2-   0-   3-   2-   0-   1-   1-\n    10    0.00 |    2-   1-   1-   1-   2-   0-   1-   1-   0-   1-   3-   0-   2-   0-   4-   1-   0-   2-   0-   2-   0-   3-   2-   0-   1-   1-\n    11    0.00 |    2-   1-   1-   1-   2-   0-   1-   1-   0-   1-   3-   0-   2-   0-   4-   1-   0-   2-   0-   2-   0-   3-   2-   0-   1-   1-\n    12    0.00 |    2-   1-   1-   1-   2-   0-   1-   1-   0-   1-   3-   0-   2-   0-   4-   1-   0-   2-   0-   2-   0-   3-   2-   0-   1-   1-\n    13    0.00 |    2-   1-   1-   1-   2-   0-   1-   1-   0-   1-   3-   0-   2-   0-   4-   1-   0-   2-   0-   2-   0-   3-   2-   0-   1-   1-\n    14    0.00 |    2-   1-   1-   1-   2-   0-   1-   1-   0-   1-   3-   0-   2-   0-   4-   1-   0-   2-   0-   2-   0-   3-   2-   0-   1-   1-\n    15    0.00 |    2-   1-   1-   1-   2-   0-   1-   1-   0-   1-   3-   0-   2-   0-   4-   1-   0-   2-   0-   2-   0-   3-   2-   0-   1-   1-\n    16    0.00 |    2-   1-   1-   1-   2-   0-   1-   1-   0-   1-   3-   0-   2-   0-   4-   1-   0-   2-   0-   2-   0-   3-   2-   0-   1-   1-\nTesting the snapshot filters again:  sample=20  dcp=56\nTesting the snapshot filters:  sample=20  dcp=7  orig=BOS  dest=ORD  flt_no=101\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=5.74, contrib=319.26, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=5.74, contrib=244.26, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=5.74, contrib=194.26, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=4.64, contrib=320.36, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=4.64, contrib=245.36, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=4.64, contrib=195.36, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.83, contrib=324.17, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.83, contrib=249.17, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.83, contrib=199.17, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.11, contrib=324.89, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.11, contrib=249.89, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.11, contrib=199.89, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=319.26, rev_low=244.26, agg_mu=2.62, agg_sigma=0.79, prot=2.05, auth=80\nClass , sold=0, n=2, mu=0.00, agg_fare=263.75, rev_low=194.26, agg_mu=10.09, agg_sigma=2.38, prot=8.58, auth=77\nClass , sold=0, n=3, mu=0.00, agg_fare=211.21, rev_low=150.00, agg_mu=41.39, agg_sigma=9.59, prot=36.07, auth=71\nClass , sold=0, n=4, mu=0.00, agg_fare=205.26, rev_low=125.00, agg_mu=45.84, agg_sigma=9.69, prot=43.16, auth=43\nClass , sold=0, n=5, mu=0.00, agg_fare=197.41, rev_low=100.00, agg_mu=50.82, agg_sigma=9.89, prot=50.65, auth=36\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.83\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.62    319.26     0      2     80\n    BOS-LAX   Y4  250.00    7.47    244.26     1      9     77\n    BOS-LAX   Y5  200.00   31.29    194.26     2     36     71\n    BOS-ORD   Y3  150.00    4.46    150.00     3     43     43\n    BOS-ORD   Y4  125.00    4.97    125.00     4     51     36\n    BOS-ORD   Y5  100.00   15.95    100.00     5      0     29\n    EMSRc, flt=201, \u03bc=50.82, \u03c3=9.89, z=2.95, agg_fare=197.41, cap=100, prob=0.00, emsr_c=0.31\nLeg1: AL2 201: BOS-ORD, bp=11.35, contrib=313.65, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=11.35, contrib=238.65, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=11.35, contrib=188.65, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.31, contrib=314.69, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.31, contrib=239.69, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.31, contrib=189.69, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.31, contrib=324.69, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.31, contrib=249.69, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.31, contrib=199.69, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.09, contrib=324.91, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.09, contrib=249.91, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.09, contrib=199.91, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.31\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.62    313.65     0      2     80\n    BOS-LAX   Y4  250.00    7.47    238.65     1      9     77\n    BOS-LAX   Y5  200.00   31.29    188.65     2     36     71\n    BOS-ORD   Y3  150.00    4.46    150.00     3     43     43\n    BOS-ORD   Y4  125.00    4.97    125.00     4     51     36\n    BOS-ORD   Y5  100.00   15.95    100.00     5      0     29\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=313.65, rev_low=238.65, agg_mu=2.62, agg_sigma=0.79, prot=2.06, auth=80\nClass , sold=0, n=2, mu=0.00, agg_fare=258.13, rev_low=188.65, agg_mu=10.09, agg_sigma=2.38, prot=8.63, auth=77\nClass , sold=0, n=3, mu=0.00, agg_fare=205.59, rev_low=150.00, agg_mu=41.39, agg_sigma=9.59, prot=35.52, auth=71\nClass , sold=0, n=4, mu=0.00, agg_fare=200.19, rev_low=125.00, agg_mu=45.84, agg_sigma=9.69, prot=42.77, auth=44\nClass , sold=0, n=5, mu=0.00, agg_fare=192.83, rev_low=100.00, agg_mu=50.82, agg_sigma=9.89, prot=50.35, auth=37\n****Testing the snapshot filters again:  sample=30  dcp=56\nTesting the snapshot filters:  sample=30  dcp=7  orig=BOS  dest=ORD  flt_no=101\n* ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.31\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.62    313.65     0      2     80\n    BOS-LAX   Y4  250.00    7.47    238.65     1      9     77\n    BOS-LAX   Y5  200.00   31.29    188.65     2     36     71\n    BOS-ORD   Y3  150.00    4.46    150.00     3     43     44\n    BOS-ORD   Y4  125.00    4.97    125.00     4     50     37\n    BOS-ORD   Y5  100.00   15.95    100.00     5      0     30\n    EMSRc, flt=201, \u03bc=50.82, \u03c3=9.89, z=2.95, agg_fare=192.83, cap=100, prob=0.00, emsr_c=0.30\nLeg1: AL2 201: BOS-ORD, bp=11.37, contrib=313.63, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=11.37, contrib=238.63, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=11.37, contrib=188.63, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.31, contrib=314.69, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.31, contrib=239.69, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.31, contrib=189.69, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.30, contrib=324.70, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.30, contrib=249.70, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.30, contrib=199.70, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.09, contrib=324.91, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.09, contrib=249.91, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.09, contrib=199.91, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.30\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.62    313.63     0      2     80\n    BOS-LAX   Y4  250.00    7.47    238.63     1      9     77\n    BOS-LAX   Y5  200.00   31.29    188.63     2     36     71\n    BOS-ORD   Y3  150.00    4.46    150.00     3     43     44\n    BOS-ORD   Y4  125.00    4.97    125.00     4     50     37\n    BOS-ORD   Y5  100.00   15.95    100.00     5      0     30\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=313.63, rev_low=238.63, agg_mu=2.62, agg_sigma=0.79, prot=2.06, auth=80\nClass , sold=0, n=2, mu=0.00, agg_fare=258.11, rev_low=188.63, agg_mu=10.09, agg_sigma=2.38, prot=8.63, auth=77\nClass , sold=0, n=3, mu=0.00, agg_fare=205.58, rev_low=150.00, agg_mu=41.39, agg_sigma=9.59, prot=35.52, auth=71\nClass , sold=0, n=4, mu=0.00, agg_fare=200.17, rev_low=125.00, agg_mu=45.84, agg_sigma=9.69, prot=42.77, auth=44\nClass , sold=0, n=5, mu=0.00, agg_fare=192.82, rev_low=100.00, agg_mu=50.82, agg_sigma=9.89, prot=50.35, auth=37\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.30\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.62    313.63     0      2     80\n    BOS-LAX   Y4  250.00    7.47    238.63     1      9     77\n    BOS-LAX   Y5  200.00   31.29    188.63     2     36     71\n    BOS-ORD   Y3  150.00    4.46    150.00     3     43     44\n    BOSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=LAX  flt_no=202\nS-ORD   Y4  125.00    4.97    125.00     4     50     37\n    BOS-ORD   Y5  100.00   15.95    100.00     5      0     30\n    EMSRc, flt=201, \u03bc=50.82, \u03c3=9.89, z=2.95, agg_fare=192.82, cap=100, prob=0.00, emsr_c=0.30\nLeg1: AL2 201: BOS-ORD, bp=11.37, contrib=313.63, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=11.37, contrib=238.63, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=11.37, contrib=188.63, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.31, contrib=314.69, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.31, contrib=239.69, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=10.31, contrib=189.69, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.30, contrib=324.70, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.30, contrib=249.70, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.30, contrib=199.70, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.09, contrib=324.91, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.09, contrib=249.91, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.09, contrib=199.91, to path=BOS-LASnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=ORD  flt_no=202\nX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.30\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.62    313.63     0      2     80\n    BOS-LAX   Y4  250.00    7.47    238.63     1      9     77\n    BOS-LAX   Y5  200.00   31.29    188.63     2     36     71\n    BOS-ORD   Y3  150.00    4.46    150.00     3     43     44\n    BOS-ORD   Y4  125.00    4.97    125.00     4     50     37\n    BOS-ORD   Y5  100.00   15.95    100.00     5      0     30\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 81, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    19\n    Y1     2  462.50   11.01    3.40  300.00    10    19\n    Y2    14  342.86   11.33    3.15  200.00    21     9\n    Y3    37  239.86    0.00    0.00  150.00    22     0\n    Y4    18  187.50    0.00    0.00  125.00    23     0\n    Y5    10  100.00    0.00    0.00  100.00     0     0\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=0.98, contrib=324.02, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.98, contrib=249.02, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.98, contrib=199.02, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.30, contrib=324.70, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.30, contrib=249.70, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.30, contrib=199.70, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.25, contrib=324.75, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.25, contrib=249.75, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.25, contrib=199.75, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.06, contrib=324.94, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.06, contrib=249.94, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.06, contrib=199.94, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.02, rev_low=249.02, agg_mu=4.25, agg_sigma=1.02, prot=3.50, auth=80\nClass , sold=0, n=2, mu=0.00, agg_fare=277.96, rev_low=199.02, agg_mu=11.02, agg_sigma=2.17, prot=9.78, auth=76\nClass , sold=0, n=3, mu=0.00, agg_fare=222.68, rev_low=150.00, agg_mu=36.76, agg_sigma=9.71, prot=32.39, auth=70\nClass , sold=0, n=4, mu=0.00, agg_fare=212.30, rev_low=125.00, agg_mu=42.89, agg_sigma=9.83, prot=40.68, auth=47\nClass , sold=0, n=5, mu=0.00, agg_fare=203.04, rev_low=100.00, agg_mu=47.97, agg_sigma=10.01, prot=48.16, auth=39\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.25\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.25    324.02     0      4     80\n    BOS-LAX   Y4  250.00    6.77    249.02     1     10     76\n    BOS-LAX   Y5  200.00   25.74    199.02     2     32     70\n    BOS-ORD   Y3  150.00    6.13    150.00     3     41     47\n    BOS-ORD   Y4  125.00    5.08    125.00     4     48     39\n    BOS-ORD   Y5  100.00   16.66    100.00     5      0     32\n    EMSRc, flt=201, \u03bc=47.97, \u03c3=10.01, z=3.20, agg_fare=203.04, cap=100, prob=0.00, emsr_c=0.14\nLeg1: AL2 201: BOS-ORD, bp=2.60, contrib=322.40, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=2.60, contrib=247.40, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=2.60, contrib=197.40, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.13, contrib=324.87, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.13, contrib=249.87, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.13, contrib=199.87, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=324.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=249.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=199.86, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.01, contrib=199.99, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.14\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.25    322.40     0      4     80\n    BOS-LAX   Y4  250.00    6.77    247.40     1     10     76\n    BOS-LAX   Y5  200.00   25.74    197.40     2     32     70\n    BOS-ORD   Y3  150.00    6.13    150.00     3     41     47\n    BOS-ORD   Y4  125.00    5.08    125.00     4     48     39\n    BOS-ORD   Y5  100.00   16.66    100.00     5      0     32\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=322.40, rev_low=247.40, agg_mu=4.25, agg_sigma=1.02, prot=3.51, auth=80\nClass , sold=0, n=2, mu=0.00, agg_fare=276.34, rev_low=197.40, agg_mu=11.02, agg_sigma=2.17, prot=9.79, auth=76\nClass , sold=0, n=3, mu=0.00, agg_fare=221.06, rev_low=150.00, agg_mu=36.76, agg_sigma=9.71, prot=32.26, auth=70\nClass , sold=0, n=4, mu=0.00, agg_fare=210.91, rev_low=125.00, agg_mu=42.89, agg_sigma=9.83, prot=40.58, auth=47\nClass , sold=0, n=5, mu=0.00, agg_fare=201.81, rev_low=100.00, agg_mu=47.97, agg_sigma=10.01, prot=48.09, auth=39\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.14\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.25    322.40     0      4     80\n    BOS-LAX   Y4  250.00    6.77    247.40     1     10     76\n    BOS-LAX   Y5  200.00   25.74    197.40     2     32     70\n    BOS-ORD   Y3  150.00    6.13    150.00     3     41     47\n    BOS-ORD   Y4  125.00    5.08    125.00     4     48     39\n    BOS-ORD   Y5  100.00   16.66    100.00     5      0     32\n    EMSRc, flt=201, \u03bc=47.97, \u03c3=10.01, z=3.20, agg_fare=201.81, cap=100, prob=0.00, emsr_c=0.14\nLeg1: AL2 201: BOS-ORD, bp=2.60, contrib=322.40, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=2.60, contrib=247.40, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=2.60, contrib=197.40, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.13, contrib=324.87, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.13, contrib=249.87, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.13, contrib=199.87, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=324.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=249.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=199.86, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.01, contrib=199.99, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.14\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.25    322.40     0      4     80\n    BOS-LAX   Y4  250.00    6.77    247.40     1     10     76\n    BOS-LAX   Y5  200.00   25.74    197.40     2     32     70\n    BOS-ORD   Y3  150.00    6.13    150.00     3     41     47\n    BOS-ORD   Y4  125.00    5.08    125.00     4     48     39\n    BOS-ORD   Y5  100.00   16.66    100.00     5      0     32\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=322.40, rev_low=247.40, agg_mu=4.25, agg_sigma=1.02, prot=3.51, auth=80\nClass , sold=0, n=2, mu=0.00, agg_fare=276.34, rev_low=197.40, agg_mu=11.02, agg_sigma=2.17, prot=9.79, auth=76\nClass , sold=0, n=3, mu=0.00, agg_fare=221.06, rev_low=150.00, agg_mu=36.76, agg_sigma=9.71, prot=32.26, auth=70\nClass , sold=0, n=4, mu=0.00, agg_fare=210.91, rev_low=125.00, agg_mu=42.89, agg_sigma=9.83, prot=40.58, auth=47\nClass , sold=0, n=5, mu=0.00, agg_fare=201.81, rev_low=100.00, agg_mu=47.97, agg_sigma=10.01, prot=48.09, auth=39\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.14\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.25    322.40     0      4     80\n    BOS-LAX   Y4  250.00    6.77    247.40     1     10     76\n    BOS-LAX   Y5  200.00   25.74    197.40     2     32     70\n    BOS-ORD   Y3  150.00    6.13    150.00     3     41     47\n    BOS-ORD   Y4  125.00    5.08    125.00     4     48     39\n    BOS-ORD   Y5  100.00   16.66    100.00     5      0     32\n    EMSRc, flt=201, \u03bc=47.97, \u03c3=10.01, z=3.20, agg_fare=201.81, cap=100, prob=0.00, emsr_c=0.14\nLeg1: AL2 201: BOS-ORD, bp=2.60, contrib=322.40, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=2.60, contrib=247.40, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=2.60, contrib=197.40, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.13, contrib=324.87, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.13, contrib=249.87, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.13, contrib=199.87, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=324.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=249.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.14, contrib=199.86, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.01, contrib=199.99, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 20, bid_price = 0.14\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    4.25    322.40     0      4     80\n    BOS-LAX   Y4  250.00    6.77    247.40     1     10     76\n    BOS-LAX   Y5  200.00   25.74    197.40     2     32     70\n    BOS-ORD   Y3  150.00    6.13    150.00     3     41     47\n    BOS-ORD   Y4  125.00    5.08    125.00     4     48     39\n    BOS-ORD   Y5  100.00   16.66    100.00     5      0     32\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 78, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    22\n    Y1     0    0.00   10.18    3.60  300.00     9    22\n    Y2    11  290.91   10.05    3.86  200.00    19    13\n    Y3    39  262.18    0.00    0.00  150.00    20     3\n    Y4    17  169.12    0.00    0.00  125.00    22     1\n    Y5    11  100.00    0.00    0.00  100.00     0     0\n***** Class History, total demand = 49.90\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0   19.00 |    0    0    0    0    0    0    0    0    2    0    0    0    0    0    0    0    1    0    0    0    0    0    0    0    1    0 \n     1    6.00 |   19   25   18   20   11   23   11    8   10   16   10    8    2   16   11   17   12   19   10   10    7   11   12   11   15    9 \n     2    9.00 |   25   37   26   29   20   32   14   12   11   22   16   11    5   21   16   27   21   26   17   15   13   19   22   14   19   13 \n     3    7.27 |   34   43-  38-  41-  25   35-  21   24   16   31   21   16    7   28   21   37-  33   34-  29-  22   17   30   26   21   24   18 \n     4    4.42 |   38-  43-  38-  41-  30   35-  26   31-  21   36-  25   28-   9   32-  26-  37-  33-  34-  29-  27   23   32-  30-  30   32   25 \n     5    2.63 |   38-  43-  38-  41-  36-  35-  31   31-  25   36-  30-  28-  10   32-  26-  37-  33-  34-  29-  30   24   32-  30-  34-  33-  33 \n     6    1.59 |   38-  43-  38-  41-  36-  35-  32-  31-  29   36-  30-  28-  11   32-  26-  37-  33-  34-  29-  33   26   32-  30-  34-  33-  36-\n     7    0.00 |   38-  43-  38-  41-  36-  35-  32-  31-  29-  36-  30-  28-  12   32-  26-  37-  33-  34-  29-  35-  27-  32-  30-  34-  33-  36-\n     8    0.00 |   38-  43-  38-  41-  36-  35-  32-  31-  29-  36-  30-  28-  12   32-  26-  37-  33-  34-  29-  35-  27-  32-  30-  34-  33-  36-\n     9    0.00 |   38-  43-  38-  41-  36-  35-  32-  31-  29-  36-  30-  28-  12   32-  26-  37-  33-  34-  29-  35-  27-  32-  30-  34-  33-  36-\n    10    0.00 |   38-  43-  38-  41-  36-  35-  32-  31-  29-  36-  30-  28-  12   32-  26-  37-  33-  34-  29-  35-  27-  32-  30-  34-  33-  36-\n    11    0.00 |   38-  43-  38-  41-  36-  35-  32-  31-  29-  36-  30-  28-  12   32-  26-  37-  33-  34-  29-  35-  27-  32-  30-  34-  33-  36-\n    12    0.00 |   38-  43-  38-  41-  36-  35-  32-  31-  29-  36-  30-  28-  12   32-  26-  37-  33-  34-  29-  35-  27-  32-  30-  34-  33-  36-\n    13    0.00 |   38-  43-  38-  41-  36-  35-  32-  31-  29-  36-  30-  28-  12   32-  26-  37-  33-  34-  29-  35-  27-  32-  30-  34-  33-  36-\n    14    0.00 |   38-  43-  38-  41-  36-  35-  32-  31-  29-  36-  30-  28-  12   32-  26-  37-  33-  34-  29-  35-  27-  32-  30-  34-  33-  36-\n    15    0.00 |   38-  43-  38-  41-  36-  35-  32-  31-  29-  36-  30-  28-  12   32-  26-  37-  33-  34-  29-  35-  27-  32-  30-  34-  33-  36-\n    16    0.00 |   38-  43-  38-  41-  36-  35-  32-  31-  29-  36-  30-  28-  12   32-  26-  37-  33-  34-  29-  35-  27-  32-  30-  34-  33-  36-\n***** Class History, total demand = 5.45\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    1.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    0.00 |    1    0    0    0    0    2    0    0    0    1    0    1    0    1    1    0    0    0    0    0    0    0    1    0    1    0 \n     2    1.00 |    1    0    1    0    0    2    0    1    0    1    0    1    0    1    1    0    0    0    0    0    0    0    1    0    2    0 \n     3    0.46 |    2    0-   1-   0    0    4    1    2    0    1    0    1    0    2    1    0    1-   0-   0    0    0    0    2    1    3    1 \n     4    0.38 |    2-   0-   1-   0    0    4-   2    2    0    1-   0    1-   0    2-   1-   0    1-   0-   1    0    0    0    3    1    4-   1 \n     5    0.29 |    2-   0-   1-   0    0-   4-   2-   2-   0    1-   1    1-   0    2-   1-   0-   1-   0-   1    0-   1    0-   3    1-   4-   1 \n     6    0.31 |    2-   0-   1-   0-   0-   4-   2-   2-   0    1-   1    1-   1    2-   1-   0-   1-   0-   1    0-   1    0-   3    1-   4-   1-\n     7    0.44 |    2-   0-   1-   0-   0-   4-   2-   2-   0    1-   1    1-   1    2-   1-   0-   1-   0-   1-   0-   2    0-   3    1-   4-   1-\n     8    0.00 |    2-   0-   1-   0-   0-   4-   2-   2-   0    1-   1    1-   1    2-   1-   0-   1-   0-   1-   0-   3-   0-   3-   1-   4-   1-\n     9    0.63 |    2-   0-   1-   0-   0-   4-   2-   2-   0    1-   1    1-   1    2-   1-   0-   1-   0-   1-   0-   3-   0-   3-   1-   4-   1-\n    10    0.93 |    2-   0-   1-   0-   0-   4-   2-   2-   0    1-   2    1-   2    2-   1-   0-   1-   0-   1-   0-   3-   0-   3-   1-   4-   1-\n    11    0.00 |    2-   0-   1-   0-   0-   4-   2-   2-   1    1-   3    1-   3    2-   1-   0-   1-   0-   1-   0-   3-   0-   3-   1-   4-   1-\n    12    0.00 |    2-   0-   1-   0-   0-   4-   2-   2-   1    1-   3    1-   3    2-   1-   0-   1-   0-   1-   0-   3-   0-   3-   1-   4-   1-\n    13    0.00 |    2-   0-   1-   0-   0-   4-   2-   2-   1    1-   3    1-   3    2-   1-   0-   1-   0-   1-   0-   3-   0-   3-   1-   4-   1-\n    14    0.00 |    2-   0-   1-   0-   0-   4-   2-   2-   1    1-   3    1-   3    2-   1-   0-   1-   0-   1-   0-   3-   0-   3-   1-   4-   1-\n    15    0.00 |    2-   0-   1-   0-   0-   4-   2-   2-   1    1-   3    1-   3    2-   1-   0-   1-   0-   1-   0-   3-   0-   3-   1-   4-   1-\n    16    0.00 |    2-   0-   1-   0-   0-   4-   2-   2-   1    1-   3    1-   3    2-   1-   0-   1-   0-   1-   0-   3-   0-   3-   1-   4-   1-\nTesting the snapshot filters again:  sample=20  dcp=56\nTesting the snapshot filters:  sample=20  dcp=7  orig=BOS  dest=ORD  flt_no=101\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=0.61, contrib=324.39, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.61, contrib=249.39, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.61, contrib=199.39, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.14, contrib=322.86, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.14, contrib=247.86, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.14, contrib=197.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.31, contrib=324.69, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.31, contrib=249.69, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.31, contrib=199.69, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.32, contrib=322.68, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.32, contrib=247.68, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.32, contrib=197.68, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.39, rev_low=249.39, agg_mu=2.58, agg_sigma=1.02, prot=1.83, auth=84\nClass , sold=0, n=2, mu=0.00, agg_fare=273.99, rev_low=199.39, agg_mu=7.87, agg_sigma=1.82, prot=6.77, auth=82\nClass , sold=0, n=3, mu=0.00, agg_fare=215.72, rev_low=150.00, agg_mu=35.92, agg_sigma=8.45, prot=31.60, auth=77\nClass , sold=0, n=4, mu=0.00, agg_fare=203.77, rev_low=125.00, agg_mu=43.91, agg_sigma=8.65, prot=41.41, auth=52\nClass , sold=0, n=5, mu=0.00, agg_fare=193.50, rev_low=100.00, agg_mu=50.49, agg_sigma=8.98, prot=50.11, auth=42\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 16, bid_price = 0.31\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.58    324.39     0      2     84\n    BOS-LAX   Y4  250.00    5.29    249.39     1      7     82\n    BOS-LAX   Y5  200.00   28.05    199.39     2     32     77\n    BOS-ORD   Y3  150.00    7.99    150.00     3     41     52\n    BOS-ORD   Y4  125.00    6.58    125.00     4     50     42\n    BOS-ORD   Y5  100.00   17.67    100.00     5      0     34\n    EMSRc, flt=201, \u03bc=50.49, \u03c3=8.98, z=3.73, agg_fare=193.50,Testing the snapshot filters again:  sample=30  dcp=56\nTesting the snapshot filters:  sample=30  dcp=7  orig=BOS  dest=ORD  flt_no=101\n cap=100, prob=0.00, emsr_c=0.02\nLeg1: AL2 201: BOS-ORD, bp=1.28, contrib=323.72, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.28, contrib=248.72, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.28, contrib=198.72, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.84, contrib=324.16, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.84, contrib=249.16, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.84, contrib=199.16, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.02, contrib=324.98, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.02, contrib=249.98, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.02, contrib=199.98, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.90, contrib=324.10, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.90, contrib=249.10, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.90, contrib=199.10, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 16, bid_price = 0.02\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.58    323.72     0      2     84\n    BOS-LAX   Y4  250.00    5.29    248.72     1      7     82\n    BOS-LAX   Y5  200.00   28.05    198.72     2     32     77\n    BOS-ORD   Y3  150.00    7.99    150.00     3     41     52\n    BOS-ORD   Y4  125.00    6.58    125.00     4     50     42\n    BOS-ORD   Y5  100.00   17.67    100.00     5      0     34\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=323.72, rev_low=248.72, agg_mu=2.58, agg_sigma=1.02, prot=1.83, auth=84\nClass , sold=0, n=2, mu=0.00, agg_fare=273.32, rev_low=198.72, agg_mu=7.87, agg_sigma=1.82, prot=6.77, auth=82\nClass , sold=0, n=3, mu=0.00, agg_fare=215.05, rev_low=150.00, agg_mu=35.92, agg_sigma=8.45, prot=31.55, auth=77\nClass , sold=0, n=4, mu=0.00, agg_fare=203.22, rev_low=125.00, agg_mu=43.91, agg_sigma=8.65, prot=41.38, auth=52\nClass , sold=0, n=5, mu=0.00, agg_fare=193.03, rev_low=100.00, agg_mu=50.49, agg_sigma=8.98, prot=50.08, auth=42\n***** ProBP,Snapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=LAX  flt_no=202\nSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=ORD  flt_no=202\n after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 16, bid_price = 0.02\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.58    323.72     0      2     84\n    BOS-LAX   Y4  250.00    5.29    248.72     1      7     82\n    BOS-LAX   Y5  200.00   28.05    198.72     2     32     77\n    BOS-ORD   Y3  150.00    7.99    150.00     3     41     52\n    BOS-ORD   Y4  125.00    6.58    125.00     4     50     42\n    BOS-ORD   Y5  100.00   17.67    100.00     5      0     34\n    EMSRc, flt=201, \u03bc=50.49, \u03c3=8.98, z=3.73, agg_fare=193.03, cap=100, prob=0.00, emsr_c=0.02\nLeg1: AL2 201: BOS-ORD, bp=1.28, contrib=323.72, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.28, contrib=248.72, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.28, contrib=198.72, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.85, contrib=324.15, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.85, contrib=249.15, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.85, contrib=199.15, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.02, contrib=324.98, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.02, contrib=249.98, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.02, contrib=199.98, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.91, contrib=324.09, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.91, contrib=249.09, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.91, contrib=199.09, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 16, bid_price = 0.02\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.58    323.72     0      2     84\n    BOS-LAX   Y4  250.00    5.29    248.72     1      7     82\n    BOS-LAX   Y5  200.00   28.05    198.72     2     32     77\n    BOS-ORD   Y3  150.00    7.99    150.00     3     41     52\n    BOS-ORD   Y4  125.00    6.58    125.00     4     50     42\n    BOS-ORD   Y5  100.00   17.67    100.00     5      0     34\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=323.72, rev_low=248.72, agg_mu=2.58, agg_sigma=1.02, prot=1.83, auth=84\nClass , sold=0, n=2, mu=0.00, agg_fare=273.32, rev_low=198.72, agg_mu=7.87, agg_sigma=1.82, prot=6.77, auth=82\nClass , sold=0, n=3, mu=0.00, agg_fare=215.05, rev_low=150.00, agg_mu=35.92, agg_sigma=8.45, prot=31.55, auth=77\nClass , sold=0, n=4, mu=0.00, agg_fare=203.22, rev_low=125.00, agg_mu=43.91, agg_sigma=8.65, prot=41.38, auth=52\nClass , sold=0, n=5, mu=0.00, agg_fare=193.02, rev_low=100.00, agg_mu=50.49, agg_sigma=8.98, prot=50.08, auth=42\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 16, bid_price = 0.02\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.58    323.72     0      2     84\n    BOS-LAX   Y4  250.00    5.29    248.72     1      7     82\n    BOS-LAX   Y5  200.00   28.05    198.72     2     32     77\n    BOS-ORD   Y3  150.00    7.99    150.00     3     41     52\n    BOS-ORD   Y4  125.00    6.58    125.00     4     50     42\n    BOS-ORD   Y5  100.00   17.67    100.00     5      0     34\n    EMSRc, flt=201, \u03bc=50.49, \u03c3=8.98, z=3.73, agg_fare=193.02, cap=100, prob=0.00, emsr_c=0.02\nLeg1: AL2 201: BOS-ORD, bp=1.28, contrib=323.72, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.28, contrib=248.72, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.28, contrib=198.72, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.85, contrib=324.15, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.85, contrib=249.15, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=0.85, contrib=199.15, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.02, contrib=324.98, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.02, contrib=249.98, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.02, contrib=199.98, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.91, contrib=324.09, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.91, contrib=249.09, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.91, contrib=199.09, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 16, bid_price = 0.02\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    2.58    323.72     0      2     84\n    BOS-LAX   Y4  250.00    5.29    248.72     1      7     82\n    BOS-LAX   Y5  200.00   28.05    198.72     2     32     77\n    BOS-ORD   Y3  150.00    7.99    150.00     3     41     52\n    BOS-ORD   Y4  125.00    6.58    125.00     4     50     42\n    BOS-ORD   Y5  100.00   17.67    100.00     5      0     34\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 89, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    11\n    Y1     6  570.83    8.75    2.83  300.00     8    11\n    Y2    15  333.33    7.40    2.07  200.00    15     3\n    Y3    42  258.33    0.00    0.00  150.00    16     0\n    Y4    15  133.33    0.00    0.00  125.00    17     0\n    Y5    11  109.09    0.00    0.00  100.00     0     0\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=0.12, contrib=324.88, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.12, contrib=249.88, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.12, contrib=199.88, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.82, contrib=323.18, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.82, contrib=248.18, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=1.82, contrib=198.18, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.19, contrib=324.81, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.19, contrib=249.81, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.19, contrib=199.81, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.50, contrib=323.50, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.50, contrib=248.50, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=1.50, contrib=198.50, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.88, rev_low=249.88, agg_mu=1.54, agg_sigma=0.79, prot=0.96, auth=78\nClass , sold=0, n=2, mu=0.00, agg_fare=264.76, rev_low=199.88, agg_mu=7.76, agg_sigma=1.79, prot=6.53, auth=77\nClass , sold=0, n=3, mu=0.00, agg_fare=214.06, rev_low=150.00, agg_mu=35.49, agg_sigma=8.51, prot=31.01, auth=71\nClass , sold=0, n=4, mu=0.00, agg_fare=202.98, rev_low=125.00, agg_mu=42.91, agg_sigma=8.69, prot=40.35, auth=46\nClass , sold=0, n=5, mu=0.00, agg_fare=196.27, rev_low=100.00, agg_mu=46.95, agg_sigma=8.82, prot=46.74, auth=37\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 22, bid_price = 0.19\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.54    324.88     0      1     78\n    BOS-LAX   Y4  250.00    6.22    249.88     1      7     77\n    BOS-LAX   Y5  200.00   27.74    199.88     2     31     71\n    BOS-ORD   Y3  150.00    7.42    150.00     3     40     46\n    BOS-ORD   Y4  125.00    4.04    125.00     4     47     37\n    BOS-ORD   Y5  100.00   13.40    100.00     5      0     31\n    EMSRc, flt=201, \u03bc=46.95, \u03c3=8.82, z=3.52, agg_fare=196.27, cap=100, prob=0.00, emsr_c=0.04\nLeg1: AL2 201: BOS-ORD, bp=0.71, contrib=324.29, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.71, contrib=249.29, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.71, contrib=199.29, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.14, contrib=321.86, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.14, contrib=246.86, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.14, contrib=196.86, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.04, contrib=324.96, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.04, contrib=249.96, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.04, contrib=199.96, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.11, contrib=320.89, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.11, contrib=245.89, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.11, contrib=195.89, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 22, bid_price = 0.04\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.54    324.29     0      1     78\n    BOS-LAX   Y4  250.00    6.22    249.29     1      7     77\n    BOS-LAX   Y5  200.00   27.74    199.29     2     31     71\n    BOS-ORD   Y3  150.00    7.42    150.00     3     40     46\n    BOS-ORD   Y4  125.00    4.04    125.00     4     47     37\n    BOS-ORD   Y5  100.00   13.40    100.00     5      0     31\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.29, rev_low=249.29, agg_mu=1.54, agg_sigma=0.79, prot=0.96, auth=78\nClass , sold=0, n=2, mu=0.00, agg_fare=264.18, rev_low=199.29, agg_mu=7.76, agg_sigma=1.79, prot=6.53, auth=77\nClass , sold=0, n=3, mu=0.00, agg_fare=213.48, rev_low=150.00, agg_mu=35.49, agg_sigma=8.51, prot=30.97, auth=71\nClass , sold=0, n=4, mu=0.00, agg_fare=202.50, rev_low=125.00, agg_mu=42.91, agg_sigma=8.69, prot=40.32, auth=47\nClass , sold=0, n=5, mu=0.00, agg_fare=195.83, rev_low=100.00, agg_mu=46.95, agg_sigma=8.82, prot=46.72, auth=37\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 22, bid_price = 0.04\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.54    324.29     0      1     78\n    BOS-LAX   Y4  250.00    6.22    249.29     1      7     77\n    BOS-LAX   Y5  200.00   27.74    199.29     2     31     71\n    BOS-ORD   Y3  150.00    7.42    150.00     3     40     47\n    BOS-ORD   Y4  125.00    4.04    125.00     4     47     37\n    BOS-ORD   Y5  100.00   13.40    100.00     5      0     31\n    EMSRc, flt=201, \u03bc=46.95, \u03c3=8.82, z=3.52, agg_fare=195.83, cap=100, prob=0.00, emsr_c=0.04\nLeg1: AL2 201: BOS-ORD, bp=0.71, contrib=324.29, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.71, contrib=249.29, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.71, contrib=199.29, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.12, contrib=321.88, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.12, contrib=246.88, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.12, contrib=196.88, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.04, contrib=324.96, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.04, contrib=249.96, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.04, contrib=199.96, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.09, contrib=320.91, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.09, contrib=245.91, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.09, contrib=195.91, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 22, bid_price = 0.04\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.54    324.29     0      1     78\n    BOS-LAX   Y4  250.00    6.22    249.29     1      7     77\n    BOS-LAX   Y5  200.00   27.74    199.29     2     31     71\n    BOS-ORD   Y3  150.00    7.42    150.00     3     40     47\n    BOS-ORD   Y4  125.00    4.04    125.00     4     47     37\n    BOS-ORD   Y5  100.00   13.40    100.00     5      0     31\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.29, rev_low=249.29, agg_mu=1.54, agg_sigma=0.79, prot=0.96, auth=78\nClass , sold=0, n=2, mu=0.00, agg_fare=264.18, rev_low=199.29, agg_mu=7.76, agg_sigma=1.79, prot=6.53, auth=77\nClass , sold=0, n=3, mu=0.00, agg_fare=213.48, rev_low=150.00, agg_mu=35.49, agg_sigma=8.51, prot=30.97, auth=71\nClass , sold=0, n=4, mu=0.00, agg_fare=202.50, rev_low=125.00, agg_mu=42.91, agg_sigma=8.69, prot=40.32, auth=47\nClass , sold=0, n=5, mu=0.00, agg_fare=195.83, rev_low=100.00, agg_mu=46.95, agg_sigma=8.82, prot=46.72, auth=37\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 22, bid_price = 0.04\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.54    324.29     0      1     78\n    BOS-LAX   Y4  250.00    6.22    249.29     1      7     77\n    BOS-LAX   Y5  200.00   27.74    199.29     2     31     71\n    BOS-ORD   Y3  150.00    7.42    150.00     3     40     47\n    BOS-ORD   Y4  125.00    4.04    125.00     4     47     37\n    BOS-ORD   Y5  100.00   13.40    100.00     5      0     31\n    EMSRc, flt=201, \u03bc=46.95, \u03c3=8.82, z=3.52, agg_fare=195.83, cap=100, prob=0.00, emsr_c=0.04\nLeg1: AL2 201: BOS-ORD, bp=0.71, contrib=324.29, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.71, contrib=249.29, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.71, contrib=199.29, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.12, contrib=321.88, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.12, contrib=246.88, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=3.12, contrib=196.88, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.04, contrib=324.96, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.04, contrib=249.96, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.04, contrib=199.96, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.09, contrib=320.91, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.09, contrib=245.91, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.09, contrib=195.91, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 22, bid_price = 0.04\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.54    324.29     0      1     78\n    BOS-LAX   Y4  250.00    6.22    249.29     1      7     77\n    BOS-LAX   Y5  200.00   27.74    199.29     2     31     71\n    BOS-ORD   Y3  150.00    7.42    150.00     3     40     47\n    BOS-ORD   Y4  125.00    4.04    125.00     4     47     37\n    BOS-ORD   Y5  100.00   13.40    100.00     5      0     31\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 90, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    10\n    Y1     7  532.14    9.44    2.81  300.00     8    10\n    Y2    16  278.12    7.27    2.32  200.00    16     1\n    Y3    37  254.05    0.00    0.00  150.00    17     0\n    Y4     8  125.00    0.00    0.00  125.00    18     0\n    Y5    22  100.00    0.00    0.00  100.00     0     0\n***** Class History, total demand = 51.74\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    8.00 |    0    0    0    0    0    0    0    0    0    1    0    0    0    0    1    0    0    0    1    0    0    0    0    0    0    1 \n     1    7.00 |    8   10   15   19   10   13   18   10   16   12   12   11   16    9    9   14   14   11   17    6   14   15    9   12   10    3 \n     2    4.00 |   15   14   22   26   14   21   27   14   27   24   23   15   25   16   19   20   17   18   24   16   18   24   16   17   19    6 \n     3    9.96 |   19   18   28   42   18   30-  39-  20   35-  34   34   19   34   24   29   25-  22   29   32-  22   27   29-  22   27-  24-  10 \n     4    4.67 |   27-  23   28-  43-  28-  30-  39-  24   35-  35-  42-  24   35-  34   32-  25-  24   32-  32-  30-  31-  29-  35-  27-  24-  16 \n     5    3.77 |   27-  27   28-  43-  28-  30-  39-  30-  35-  35-  42-  32   35-  35-  32-  25-  27   32-  32-  30-  31-  29-  35-  27-  24-  18 \n     6    2.73 |   27-  31-  28-  43-  28-  30-  39-  30-  35-  35-  42-  37-  35-  35-  32-  25-  30   32-  32-  30-  31-  29-  35-  27-  24-  20 \n     7   11.61 |   27-  31-  28-  43-  28-  30-  39-  30-  35-  35-  42-  37-  35-  35-  32-  25-  32-  32-  32-  30-  31-  29-  35-  27-  24-  24 \n     8    0.00 |   27-  31-  28-  43-  28-  30-  39-  30-  35-  35-  42-  37-  35-  35-  32-  25-  32-  32-  32-  30-  31-  29-  35-  27-  24-  33-\n     9    0.00 |   27-  31-  28-  43-  28-  30-  39-  30-  35-  35-  42-  37-  35-  35-  32-  25-  32-  32-  32-  30-  31-  29-  35-  27-  24-  33-\n    10    0.00 |   27-  31-  28-  43-  28-  30-  39-  30-  35-  35-  42-  37-  35-  35-  32-  25-  32-  32-  32-  30-  31-  29-  35-  27-  24-  33-\n    11    0.00 |   27-  31-  28-  43-  28-  30-  39-  30-  35-  35-  42-  37-  35-  35-  32-  25-  32-  32-  32-  30-  31-  29-  35-  27-  24-  33-\n    12    0.00 |   27-  31-  28-  43-  28-  30-  39-  30-  35-  35-  42-  37-  35-  35-  32-  25-  32-  32-  32-  30-  31-  29-  35-  27-  24-  33-\n    13    0.00 |   27-  31-  28-  43-  28-  30-  39-  30-  35-  35-  42-  37-  35-  35-  32-  25-  32-  32-  32-  30-  31-  29-  35-  27-  24-  33-\n    14    0.00 |   27-  31-  28-  43-  28-  30-  39-  30-  35-  35-  42-  37-  35-  35-  32-  25-  32-  32-  32-  30-  31-  29-  35-  27-  24-  33-\n    15    0.00 |   27-  31-  28-  43-  28-  30-  39-  30-  35-  35-  42-  37-  35-  35-  32-  25-  32-  32-  32-  30-  31-  29-  35-  27-  24-  33-\n    16    0.00 |   27-  31-  28-  43-  28-  30-  39-  30-  35-  35-  42-  37-  35-  35-  32-  25-  32-  32-  32-  30-  31-  29-  35-  27-  24-  33-\n***** Class History, total demand = 11.80\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    1.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    1.00 |    1    0    1    1    1    1    1    0    0    2    0    0    1    0    0    0    0    0    2    0    0    0    0    1    0    0 \n     2    0.00 |    2    0    2    1    1    3    1    0    1    2    1    1    1    0    0    0    0    1    3    0    0    0    1    1    0    1 \n     3    0.92 |    2    1    2-   2-   1    3-   1-   0    1    2-   2    2    1    0    0-   0    0    1    3-   0    0    0-   1    3-   0    1 \n     4    0.43 |    2-   1    2-   2-   1-   3-   1-   0    3-   2-   2    3    1    0-   0-   0    0    2    3-   0-   1-   0-   1-   3-   1    3 \n     5    0.31 |    2-   1    2-   2-   1-   3-   1-   0-   3-   2-   2    4-   2    0-   0-   0    0    2-   3-   0-   1-   0-   1-   3-   1    3 \n     6    0.79 |    2-   1-   2-   2-   1-   3-   1-   0-   3-   2-   2    4-   2-   0-   0-   0    1    2-   3-   0-   1-   0-   1-   3-   1    3 \n     7    1.38 |    2-   1-   2-   2-   1-   3-   1-   0-   3-   2-   2-   4-   2-   0-   0-   1    1    2-   3-   0-   1-   0-   1-   3-   1    5 \n     8    0.45 |    2-   1-   2-   2-   1-   3-   1-   0-   3-   2-   2-   4-   2-   0-   0-   1    1-   2-   3-   0-   1-   0-   1-   3-   3    7-\n     9    0.00 |    2-   1-   2-   2-   1-   3-   1-   0-   3-   2-   2-   4-   2-   0-   0-   1    1-   2-   3-   0-   1-   0-   1-   3-   4    7-\n    10    2.96 |    2-   1-   2-   2-   1-   3-   1-   0-   3-   2-   2-   4-   2-   0-   0-   1    1-   2-   3-   0-   1-   0-   1-   3-   4    7-\n    11    2.57 |    2-   1-   2-   2-   1-   3-   1-   0-   3-   2-   2-   4-   2-   0-   0-   4    1-   2-   3-   0-   1-   0-   1-   3-   8    7-\n    12    0.00 |    2-   1-   2-   2-   1-   3-   1-   0-   3-   2-   2-   4-   2-   0-   0-   7-   1-   2-   3-   0-   1-   0-   1-   3-  10    7-\n    13    0.00 |    2-   1-   2-   2-   1-   3-   1-   0-   3-   2-   2-   4-   2-   0-   0-   7-   1-   2-   3-   0-   1-   0-   1-   3-  10    7-\n    14    0.00 |    2-   1-   2-   2-   1-   3-   1-   0-   3-   2-   2-   4-   2-   0-   0-   7-   1-   2-   3-   0-   1-   0-   1-   3-  10    7-\n    15    0.00 |    2-   1-   2-   2-   1-   3-   1-   0-   3-   2-   2-   4-   2-   0-   0-   7-   1-   2-   3-   0-   1-   0-   1-   3-  10    7-\n    16    0.00 |    2-   1-   2-   2-   1-   3-   1-   0-   3-   2-   2-   4-   2-   0-   0-   7-   1-   2-   3-   0-   1-   0-   1-   3-  10    7-\nTesting the snapshot filters again:  sample=20  dcp=56\nTesting the snapshot filters:  sample=20  dcp=7  orig=BOS  dest=ORD  flt_no=101\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=1.68, contrib=323.32, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.68, contrib=248.32, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.68, contrib=198.32, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.90, contrib=319.10, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.90, contrib=244.10, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=5.90, contrib=194.10, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.42, contrib=322.58, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.42, contrib=247.58, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=2.42, contrib=197.58, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.38, contrib=320.62, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.38, contrib=245.62, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=4.38, contrib=195.62, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=323.32, rev_low=248.32, agg_mu=1.46, agg_sigma=0.86, prot=0.83, auth=85\nClass , sold=0, n=2, mu=0.00, agg_fare=258.81, rev_low=198.32, agg_mu=10.43, agg_sigma=2.44, prot=8.66, auth=84\nClass , sold=0, n=3, mu=0.00, agg_fare=213.65, rev_low=150.00, agg_mu=41.17, agg_sigma=9.45, prot=36.16, auth=76\nClass , sold=0, n=4, mu=0.00, agg_fare=204.17, rev_low=125.00, agg_mu=48.38, agg_sigma=9.68, prot=45.62, auth=48\nClass , sold=0, n=5, mu=0.00, agg_fare=196.43, rev_low=100.00, agg_mu=53.62, agg_sigma=9.79, prot=53.40, auth=39\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 15, bid_price = 2.42\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.46    323.32     0      1     85\n    BOS-LAX   Y4  250.00    8.97    248.32     1      9     84\n    BOS-LAX   Y5  200.00   30.74    198.32     2     36     76\n    BOS-ORD   Y3  150.00    7.21    150.00     3     46     48\n    BOS-ORD   Y4  125.00    5.24    125.00     4     53     39\n    BOS-ORD   Y5  100.00   17.69    100.00     5      0     32\n    EMSRc, flt=201, \u03bc=53.62, \u03c3=9.79, z=3.20, agg_fare=196.43, cap=100, prob=0.00, emsr_c=0.13\nLeg1: AL2 201: BOS-ORD, bp=1.21, contrib=323.79, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.21, contrib=248.79, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.21, contrib=198.79, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.54, contrib=318.46, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.54, contrib=243.46, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.54, contrib=193.46, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.13, contrib=324.87, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.13, contrib=249.87, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.13, contrib=199.87, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.72, contrib=322.28, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.72, contrib=247.28, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.72, contrib=197.28, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 15, bid_price = 0.13\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX  Testing the snapshot filters again:  sample=30  dcp=56\nTesting the snapshot filters:  sample=30  dcp=7  orig=BOS  dest=ORD  flt_no=101\n Y3  325.00    1.46    323.79     0      1     85\n    BOS-LAX   Y4  250.00    8.97    248.79     1      9     84\n    BOS-LAX   Y5  200.00   30.74    198.79     2     36     76\n    BOS-ORD   Y3  150.00    7.21    150.00     3     46     48\n    BOS-ORD   Y4  125.00    5.24    125.00     4     53     39\n    BOS-ORD   Y5  100.00   17.69    100.00     5      0     32\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=323.79, rev_low=248.79, agg_mu=1.46, agg_sigma=0.86, prot=0.83, auth=85\nClass , sold=0, n=2, mu=0.00, agg_fare=259.28, rev_low=198.79, agg_mu=10.43, agg_sigma=2.44, prot=8.66, auth=84\nClass , sold=0, n=3, mu=0.00, agg_fare=214.12, rev_low=150.00, agg_mu=41.17, agg_sigma=9.45, prot=36.20, auth=76\nClass , sold=0, n=4, mu=0.00, agg_fare=204.57, rev_low=125.00, agg_mu=48.38, agg_sigma=9.68, prot=45.65, auth=48\nClass , sold=0, n=5, mu=0.00, agg_fare=196.79, rev_low=100.00, agg_mu=53.62, agg_sigma=9.79, prot=53.42, auth=39\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 15, bid_price = 0.13\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.46    323.79     0      1     85\n    BOS-LAX   Y4  250.00    8.97    248.79     1      9     84\n    BOS-LAX   Y5  200.00   30.74    198.79     2     36     76\n    BOS-ORD   Y3  150.00    7.21    150.00     3     46     48\n    BOS-ORD   Y4  125.00    5.24    125.00     4     53     39\n    BOS-ORD   Y5  100.00   17.69    100.00     5      0     32\n    EMSRc, flt=201, \u03bc=53.62, \u03c3=9.79, z=3.20, agg_fare=196.79, cap=100, prob=0.00, emsr_c=0.13\nLeg1: AL2 201: BOS-ORD, bp=1.22, contrib=323.78, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.22, contrib=248.78, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.22, contrib=198.78, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.57, contrib=318.43, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.57, contrib=243.43, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.57, contrib=193.43, to pathSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=LAX  flt_no=202\nSnapshot of path untruncation:  sample=35  dcp=0  orig=BOS  dest=ORD  flt_no=202\n=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.13, contrib=324.87, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.13, contrib=249.87, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.13, contrib=199.87, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.71, contrib=322.29, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.71, contrib=247.29, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.71, contrib=197.29, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 15, bid_price = 0.13\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.46    323.78     0      1     85\n    BOS-LAX   Y4  250.00    8.97    248.78     1      9     84\n    BOS-LAX   Y5  200.00   30.74    198.78     2     36     76\n    BOS-ORD   Y3  150.00    7.21    150.00     3     46     48\n    BOS-ORD   Y4  125.00    5.24    125.00     4     53     39\n    BOS-ORD   Y5  100.00   17.69    100.00     5      0     32\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=323.78, rev_low=248.78, agg_mu=1.46, agg_sigma=0.86, prot=0.83, auth=85\nClass , sold=0, n=2, mu=0.00, agg_fare=259.28, rev_low=198.78, agg_mu=10.43, agg_sigma=2.44, prot=8.66, auth=84\nClass , sold=0, n=3, mu=0.00, agg_fare=214.11, rev_low=150.00, agg_mu=41.17, agg_sigma=9.45, prot=36.20, auth=76\nClass , sold=0, n=4, mu=0.00, agg_fare=204.56, rev_low=125.00, agg_mu=48.38, agg_sigma=9.68, prot=45.65, auth=48\nClass , sold=0, n=5, mu=0.00, agg_fare=196.78, rev_low=100.00, agg_mu=53.62, agg_sigma=9.79, prot=53.42, auth=39\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 15, bid_price = 0.13\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.46    323.78     0      1     85\n    BOS-LAX   Y4  250.00    8.97    248.78     1      9     84\n    BOS-LAX   Y5  200.00   30.74    198.78     2     36     76\n    BOS-ORD   Y3  150.00    7.21    150.00     3     46     48\n    BOS-ORD   Y4  125.00    5.24    125.00     4     53     39\n    BOS-ORD   Y5  100.00   17.69    100.00     5      0     32\n    EMSRc, flt=201, \u03bc=53.62, \u03c3=9.79, z=3.20, agg_fare=196.78, cap=100, prob=0.00, emsr_c=0.13\nLeg1: AL2 201: BOS-ORD, bp=1.22, contrib=323.78, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.22, contrib=248.78, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=1.22, contrib=198.78, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.57, contrib=318.43, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.57, contrib=243.43, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=6.57, contrib=193.43, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.13, contrib=324.87, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.13, contrib=249.87, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.13, contrib=199.87, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.71, contrib=322.29, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.71, contrib=247.29, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=2.71, contrib=197.29, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 15, bid_price = 0.13\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.46    323.78     0      1     85\n    BOS-LAX   Y4  250.00    8.97    248.78     1      9     84\n    BOS-LAX   Y5  200.00   30.74    198.78     2     36     76\n    BOS-ORD   Y3  150.00    7.21    150.00     3     46     48\n    BOS-ORD   Y4  125.00    5.24    125.00     4     53     39\n    BOS-ORD   Y5  100.00   17.69    100.00     5      0     32\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 62, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    38\n    Y1     2  625.00    8.38    3.07  300.00     7    38\n    Y2     6  450.00    8.95    3.47  200.00    16    30\n    Y3    37  244.59    0.00    0.00  150.00    17    21\n    Y4    10  125.00    0.00    0.00  125.00    18    20\n    Y5     7  100.00    0.00    0.00  100.00     0    20\nCoreProBP initialize *******************\nLeg1: AL2 201: BOS-ORD, bp=0.14, contrib=324.86, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.14, contrib=249.86, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.14, contrib=199.86, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.73, contrib=322.27, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.73, contrib=247.27, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.73, contrib=197.27, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.31, contrib=324.69, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.31, contrib=249.69, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.31, contrib=199.69, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.57, contrib=324.43, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.57, contrib=249.43, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.57, contrib=199.43, to path=BOS-LAX\n******************** CoreProBP iteration 0 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.86, rev_low=249.86, agg_mu=1.07, agg_sigma=0.75, prot=0.52, auth=87\nClass , sold=0, n=2, mu=0.00, agg_fare=259.63, rev_low=199.86, agg_mu=8.23, agg_sigma=2.93, prot=6.07, auth=86\nClass , sold=0, n=3, mu=0.00, agg_fare=213.60, rev_low=150.00, agg_mu=35.82, agg_sigma=10.11, prot=30.45, auth=80\nClass , sold=0, n=4, mu=0.00, agg_fare=202.83, rev_low=125.00, agg_mu=43.12, agg_sigma=10.34, prot=40.06, auth=56\nClass , sold=0, n=5, mu=0.00, agg_fare=195.87, rev_low=100.00, agg_mu=47.36, agg_sigma=10.44, prot=47.08, auth=46\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 13, bid_price = 0.31\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.07    324.86     0      1     87\n    BOS-LAX   Y4  250.00    7.16    249.86     1      6     86\n    BOS-LAX   Y5  200.00   27.59    199.86     2     30     80\n    BOS-ORD   Y3  150.00    7.30    150.00     3     40     56\n    BOS-ORD   Y4  125.00    4.24    125.00     4     47     46\n    BOS-ORD   Y5  100.00   12.50    100.00     5      0     40\n    EMSRc, flt=201, \u03bc=47.36, \u03c3=10.44, z=3.80, agg_fare=195.87, cap=100, prob=0.00, emsr_c=0.01\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=199.99, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.95, contrib=322.05, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.95, contrib=247.05, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.95, contrib=197.05, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=199.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.38, contrib=324.62, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.38, contrib=249.62, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.38, contrib=199.62, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 13, bid_price = 0.01\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.07    324.99     0      1     87\n    BOS-LAX   Y4  250.00    7.16    249.99     1      6     86\n    BOS-LAX   Y5  200.00   27.59    199.99     2     30     80\n    BOS-ORD   Y3  150.00    7.30    150.00     3     40     56\n    BOS-ORD   Y4  125.00    4.24    125.00     4     47     46\n    BOS-ORD   Y5  100.00   12.50    100.00     5      0     40\n******************** CoreProBP iteration 1 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.99, rev_low=249.99, agg_mu=1.07, agg_sigma=0.75, prot=0.52, auth=87\nClass , sold=0, n=2, mu=0.00, agg_fare=259.76, rev_low=199.99, agg_mu=8.23, agg_sigma=2.93, prot=6.07, auth=86\nClass , sold=0, n=3, mu=0.00, agg_fare=213.73, rev_low=150.00, agg_mu=35.82, agg_sigma=10.11, prot=30.47, auth=80\nClass , sold=0, n=4, mu=0.00, agg_fare=202.94, rev_low=125.00, agg_mu=43.12, agg_sigma=10.34, prot=40.07, auth=56\nClass , sold=0, n=5, mu=0.00, agg_fare=195.97, rev_low=100.00, agg_mu=47.36, agg_sigma=10.44, prot=47.09, auth=46\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 13, bid_price = 0.01\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.07    324.99     0      1     87\n    BOS-LAX   Y4  250.00    7.16    249.99     1      6     86\n    BOS-LAX   Y5  200.00   27.59    199.99     2     30     80\n    BOS-ORD   Y3  150.00    7.30    150.00     3     40     56\n    BOS-ORD   Y4  125.00    4.24    125.00     4     47     46\n    BOS-ORD   Y5  100.00   12.50    100.00     5      0     40\n    EMSRc, flt=201, \u03bc=47.36, \u03c3=10.44, z=3.80, agg_fare=195.97, cap=100, prob=0.00, emsr_c=0.01\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=199.99, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.95, contrib=322.05, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.95, contrib=247.05, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.95, contrib=197.05, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=199.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.38, contrib=324.62, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.38, contrib=249.62, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.38, contrib=199.62, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 13, bid_price = 0.01\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.07    324.99     0      1     87\n    BOS-LAX   Y4  250.00    7.16    249.99     1      6     86\n    BOS-LAX   Y5  200.00   27.59    199.99     2     30     80\n    BOS-ORD   Y3  150.00    7.30    150.00     3     40     56\n    BOS-ORD   Y4  125.00    4.24    125.00     4     47     46\n    BOS-ORD   Y5  100.00   12.50    100.00     5      0     40\n******************** CoreProBP iteration 2 *******************\nClass , sold=0, n=1, mu=0.00, agg_fare=324.99, rev_low=249.99, agg_mu=1.07, agg_sigma=0.75, prot=0.52, auth=87\nClass , sold=0, n=2, mu=0.00, agg_fare=259.76, rev_low=199.99, agg_mu=8.23, agg_sigma=2.93, prot=6.07, auth=86\nClass , sold=0, n=3, mu=0.00, agg_fare=213.73, rev_low=150.00, agg_mu=35.82, agg_sigma=10.11, prot=30.47, auth=80\nClass , sold=0, n=4, mu=0.00, agg_fare=202.94, rev_low=125.00, agg_mu=43.12, agg_sigma=10.34, prot=40.07, auth=56\nClass , sold=0, n=5, mu=0.00, agg_fare=195.97, rev_low=100.00, agg_mu=47.36, agg_sigma=10.44, prot=47.09, auth=46\n***** ProBP, after EMSRb *****\nFlight = 201, BOS-ORD, cap = 100, sold = 13, bid_price = 0.01\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.07    324.99     0      1     87\n    BOS-LAX   Y4  250.00    7.16    249.99     1      6     86\n    BOS-LAX   Y5  200.00   27.59    199.99     2     30     80\n    BOS-ORD   Y3  150.00    7.30    150.00     3     40     56\n    BOS-ORD   Y4  125.00    4.24    125.00     4     47     46\n    BOS-ORD   Y5  100.00   12.50    100.00     5      0     40\n    EMSRc, flt=201, \u03bc=47.36, \u03c3=10.44, z=3.80, agg_fare=195.97, cap=100, prob=0.00, emsr_c=0.01\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg1: AL2 201: BOS-ORD, bp=0.01, contrib=199.99, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.95, contrib=322.05, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.95, contrib=247.05, to path=BOS-LAX\nLeg1: AL2 202: BOS-ORD, bp=2.95, contrib=197.05, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=324.99, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=249.99, to path=BOS-LAX\nLeg2: AL2 211: ORD-LAX, bp=0.01, contrib=199.99, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.38, contrib=324.62, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.38, contrib=249.62, to path=BOS-LAX\nLeg2: AL2 212: ORD-LAX, bp=0.38, contrib=199.62, to path=BOS-LAX\n***** ProBP, after displacement adjustment *****\nFlight = 201, BOS-ORD, cap = 100, sold = 13, bid_price = 0.01\n    Org-Dst  Cls   Price    Dmd    Contrib   Bkt  Prot  Alloc\n    BOS-LAX   Y3  325.00    1.07    324.99     0      1     87\n    BOS-LAX   Y4  250.00    7.16    249.99     1      6     86\n    BOS-LAX   Y5  200.00   27.59    199.99     2     30     80\n    BOS-ORD   Y3  150.00    7.30    150.00     3     40     56\n    BOS-ORD   Y4  125.00    4.24    125.00     4     47     46\n    BOS-ORD   Y5  100.00   12.50    100.00     5      0     40\nProBP converged in 2 iterations\nLeg: AL1:101 BOS-ORD, cap: 100, sold: 63, bp: 0.00\n Class  Sold  ActRev    Fcst  StdDev FcstRev  Prot  Auth\n    Y0     0    0.00    0.00    0.00  400.00     0    37\n    Y1     0    0.00    7.58    2.83  300.00     6    37\n    Y2     2  450.00    8.64    3.75  200.00    15    30\n    Y3    35  280.00    0.00    0.00  150.00    16    22\n    Y4    12  239.58    0.00    0.00  125.00    17    20\n    Y5    14  100.00    0.00    0.00  100.00     0    20\n***** Class History, total demand = 39.13\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    9.00 |    0    0    1    0    0    0    0    0    0    0    0    1    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    3.00 |    9    9   10   16   17   16   22    7    6   15   14   13    6   14   14   15   12   13   11   10   11    9   13   11    4    8 \n     2    5.00 |   12   14   19   22   27   22   31   12   14   22   24   22   11   20   20   24   20   22   15   12   19   12   18   14    5   13 \n     3    6.00 |   17   20   26-  28   31   27   39-  19   24   31   32   29   17   29   25   39-  30   32   19   14   28   19   25   19    8   16 \n     4    3.00 |   23   24   26-  34   38   35   39-  26   28-  34-  38-  36-  22   32   37   39-  32-  34-  25   16   37-  23   30-  23   11   21 \n     5    7.73 |   26   25-  26-  38   43-  36-  39-  27-  28-  34-  38-  36-  25   37   39-  39-  32-  34-  27   17-  37-  24-  30-  28-  13   24 \n     6    2.87 |   32-  25-  26-  39-  43-  36-  39-  27-  28-  34-  38-  36-  26   38-  39-  39-  32-  34-  30   17-  37-  24-  30-  28-  13-  26 \n     7    2.53 |   32-  25-  26-  39-  43-  36-  39-  27-  28-  34-  38-  36-  29-  38-  39-  39-  32-  34-  32-  17-  37-  24-  30-  28-  13-  29 \n     8    0.00 |   32-  25-  26-  39-  43-  36-  39-  27-  28-  34-  38-  36-  29-  38-  39-  39-  32-  34-  32-  17-  37-  24-  30-  28-  13-  33 \n     9    0.00 |   32-  25-  26-  39-  43-  36-  39-  27-  28-  34-  38-  36-  29-  38-  39-  39-  32-  34-  32-  17-  37-  24-  30-  28-  13-  33 \n    10    0.00 |   32-  25-  26-  39-  43-  36-  39-  27-  28-  34-  38-  36-  29-  38-  39-  39-  32-  34-  32-  17-  37-  24-  30-  28-  13-  33 \n    11    0.00 |   32-  25-  26-  39-  43-  36-  39-  27-  28-  34-  38-  36-  29-  38-  39-  39-  32-  34-  32-  17-  37-  24-  30-  28-  13-  33 \n    12    0.00 |   32-  25-  26-  39-  43-  36-  39-  27-  28-  34-  38-  36-  29-  38-  39-  39-  32-  34-  32-  17-  37-  24-  30-  28-  13-  33 \n    13    0.00 |   32-  25-  26-  39-  43-  36-  39-  27-  28-  34-  38-  36-  29-  38-  39-  39-  32-  34-  32-  17-  37-  24-  30-  28-  13-  33 \n    14    0.00 |   32-  25-  26-  39-  43-  36-  39-  27-  28-  34-  38-  36-  29-  38-  39-  39-  32-  34-  32-  17-  37-  24-  30-  28-  13-  33 \n    15    0.00 |   32-  25-  26-  39-  43-  36-  39-  27-  28-  34-  38-  36-  29-  38-  39-  39-  32-  34-  32-  17-  37-  24-  30-  28-  13-  33 \n    16    0.00 |   32-  25-  26-  39-  43-  36-  39-  27-  28-  34-  38-  36-  29-  38-  39-  39-  32-  34-  32-  17-  37-  24-  30-  28-  13-  33 \n***** Class History, total demand = 6.27\n   DCP Inc_DMD |  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep  Dep\n     0    0.00 |    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0 \n     1    0.00 |    0    1    0    0    0    0    1    0    1    0    0    0    1    0    0    0    0    2    0    2    1    0    0    2    0    0 \n     2    1.00 |    0    2    0    0    0    0    1    1    1    0    0    0    1    1    0    1    0    3    0    2    1    0    0    2    0    0 \n     3    0.00 |    1    2    1    1    0    0    1-   1    2    0    0    1    1    1    1    1-   1    3-   0    2    2    0    1    2    1    0 \n     4    0.45 |    1    2    2    2-   2    0    1-   2-   2-   0-   0-   1-   1    3    1-   1-   1-   3-   0    2-   2-   0    1-   3-   2    0 \n     5    0.00 |    1-   2    2    2-   2-   1-   1-   2-   2-   0-   0-   1-   1    3-   1-   1-   1-   3-   0-   2-   2-   0    1-   3-   3    0 \n     6    0.00 |    1-   2    2    2-   2-   1-   1-   2-   2-   0-   0-   1-   1    3-   1-   1-   1-   3-   0-   2-   2-   0    1-   3-   3    0 \n     7    0.00 |    1-   2    2-   2-   2-   1-   1-   2-   2-   0-   0-   1-   1    3-   1-   1-   1-   3-   0-   2-   2-   0    1-   3-   3    0 \n     8    0.73 |    1-   2    2-   2-   2-   1-   1-   2-   2-   0-   0-   1-   1-   3-   1-   1-   1-   3-   0-   2-   2-   0    1-   3-   3    0-\n     9    1.02 |    1-   4    2-   2-   2-   1-   1-   2-   2-   0-   0-   1-   1-   3-   1-   1-   1-   3-   0-   2-   2-   0    1-   3-   3    0-\n    10    2.11 |    1-   6-   2-   2-   2-   1-   1-   2-   2-   0-   0-   1-   1-   3-   1-   1-   1-   3-   0-   2-   2-   0    1-   3-   3    0-\n    11    0.96 |    1-   6-   2-   2-   2-   1-   1-   2-   2-   0-   0-   1-   1-   3-   1-   1-   1-   3-   0-   2-   2-   3    1-   3-   5    0-\n    12    0.00 |    1-   6-   2-   2-   2-   1-   1-   2-   2-   0-   0-   1-   1-   3-   1-   1-   1-   3-   0-   2-   2-   4-   1-   3-   6    0-\n    13    0.00 |    1-   6-   2-   2-   2-   1-   1-   2-   2-   0-   0-   1-   1-   3-   1-   1-   1-   3-   0-   2-   2-   4-   1-   3-   6    0-\n    14    0.00 |    1-   6-   2-   2-   2-   1-   1-   2-   2-   0-   0-   1-   1-   3-   1-   1-   1-   3-   0-   2-   2-   4-   1-   3-   6    0-\n    15    0.00 |    1-   6-   2-   2-   2-   1-   1-   2-   2-   0-   0-   1-   1-   3-   1-   1-   1-   3-   0-   2-   2-   4-   1-   3-   6    0-\n    16    0.00 |    1-   6-   2-   2-   2-   1-   1-   2-   2-   0-   0-   1-   1-   3-   1-   1-   1-   3-   0-   2-   2-   4-   1-   3-   6    0-\n[2023-08-15 11:52:52,577] passengersim.INFO: Th' th' that's all folks !!!    (Elapsed time = 11.91)\n</pre> In\u00a0[7]: Copied! <pre>summary.demands\n</pre> summary.demands Out[7]: orig dest segment sold revenue avg_fare gt_demand gt_sold gt_revenue 0 BOS ORD business 43 8100.0 188.372093 173448 150794 26685250.0 1 BOS ORD leisure 66 7675.0 116.287879 222815 164996 18999850.0 2 ORD LAX business 95 26800.0 282.105263 298510 255218 69406250.0 3 ORD LAX leisure 94 16825.0 178.989362 374401 260185 46924750.0 4 BOS LAX business 107 43375.0 405.373832 247542 193220 74558825.0 5 BOS LAX leisure 92 23775.0 258.423913 350747 212624 52332275.0 In\u00a0[8]: Copied! <pre>summary.legs\n</pre> summary.legs Out[8]: carrier flt_no orig dest avg_sold avg_rev lf 0 AL1 101 BOS ORD 89.0964 25266.890 89.096400 1 AL1 102 BOS ORD 89.0844 25245.770 89.084400 2 AL2 201 BOS ORD 55.2568 5741.125 55.256800 3 AL2 202 BOS ORD 55.2160 5734.515 55.216000 4 AL1 111 ORD LAX 109.3128 16778.960 91.094000 5 AL1 112 ORD LAX 109.4292 16744.220 91.191000 6 AL2 211 ORD LAX 74.9268 10034.285 62.439000 7 AL2 212 ORD LAX 74.8300 10017.115 62.358333 In\u00a0[9]: Copied! <pre>summary.paths\n</pre> summary.paths Out[9]: orig dest carrier1 flt_no1 carrier2 flt_no2 avg_sold avg_rev 0 BOS LAX AL1 101 AL1 111.0 46.9724 18350.82 1 BOS LAX AL1 102 AL1 112.0 47.0600 18321.26 2 BOS LAX AL2 201 AL2 211.0 34.1712 7044.99 3 BOS LAX AL2 202 AL2 212.0 34.1340 7039.37 4 BOS ORD AL1 101 None NaN 42.1240 6916.07 5 BOS ORD AL1 102 None NaN 42.0244 6924.51 6 BOS ORD AL2 201 None NaN 21.0856 2218.63 7 BOS ORD AL2 202 None NaN 21.0820 2214.83 8 ORD LAX AL1 111 None NaN 62.3404 16778.96 9 ORD LAX AL1 112 None NaN 62.3692 16744.22 10 ORD LAX AL2 211 None NaN 40.7556 6511.79 11 ORD LAX AL2 212 None NaN 40.6960 6497.43 In\u00a0[10]: Copied! <pre>summary.airlines\n</pre> summary.airlines Out[10]: name avg_sold load_factor avg_rev asm rpm 0 AL1 303 89.0904 84035.84 432000000.0 384870528.0 1 AL2 192 0.0000 31527.04 0.0 0.0 In\u00a0[11]: Copied! <pre>summary.airlines.set_index(\"name\")[[\"asm\", \"rpm\"]].plot.bar();\n</pre> summary.airlines.set_index(\"name\")[[\"asm\", \"rpm\"]].plot.bar(); In\u00a0[12]: Copied! <pre>summary.fig_airline_loads()\n</pre> summary.fig_airline_loads() Out[12]:"},{"location":"Tutorials/demo-3mkt-2carrier.nbconvert.html#three-market-two-carrier-test","title":"Three Market Two Carrier Test\u00b6","text":"<p>One carrier uses EMSR, the other ProBP.</p>"},{"location":"Tutorials/demo-3mkt-db.nbconvert.html","title":"Three Market Database Demo","text":"In\u00a0[1]: Copied! <pre>import passengersim as sw\n</pre> import passengersim as sw In\u00a0[2]: Copied! <pre>input_file = sw.demo_network(\"3mkt\")\n</pre> input_file = sw.demo_network(\"3mkt\") <p>In this notebook, we will demonstrate the usage of SQLite database logging.  In order to manipulate the configurations, we'll separate the simulation initialization into two steps: first we load the configs from YAML, then we apply configs to a Simlaution. That way, we can maipulate those configs directly in Python before running the sim.</p> <p>So, first we load the configs.</p> In\u00a0[3]: Copied! <pre>cfg = sw.Config.from_yaml(input_file)\n</pre> cfg = sw.Config.from_yaml(input_file) <p>Then, we can manipulate the configs.  By default we our database engine will store detailed info on multiple simulation attributes at each DCP:</p> In\u00a0[4]: Copied! <pre>cfg.db.write_items\n</pre> cfg.db.write_items Out[4]: <pre>{'bookings', 'demand_final', 'fare_final', 'leg_final'}</pre> <p>Let's remove the \"demand_final\" writer, so we can replace it with a custom tool we provide in Python.</p> In\u00a0[5]: Copied! <pre>cfg.db.write_items.remove(\"demand_final\")\ncfg.db.write_items\n</pre> cfg.db.write_items.remove(\"demand_final\") cfg.db.write_items Out[5]: <pre>{'bookings', 'fare_final', 'leg_final'}</pre> <p>Our custom Python command is <code>save_demand_to_database</code>, in the <code>passengersim.database.write_demands</code> package. We can attach that function to the list of <code>dcp_write_hooks</code>.</p> In\u00a0[6]: Copied! <pre>from passengersim.database.write_demands import save_demand_to_database\n\ncfg.db.dcp_write_hooks.append(save_demand_to_database)\n</pre> from passengersim.database.write_demands import save_demand_to_database  cfg.db.dcp_write_hooks.append(save_demand_to_database) <p>We can also set our SQLite database engine to reside exclusively in memory, like this:</p> In\u00a0[7]: Copied! <pre>cfg.db.filename = \":memory:\"\n</pre> cfg.db.filename = \":memory:\" In\u00a0[8]: Copied! <pre>import os\nif os.path.exists(cfg.db.filename):\n    os.remove(cfg.db.filename)\n</pre> import os if os.path.exists(cfg.db.filename):     os.remove(cfg.db.filename) <p>We use the compiled code for writing SQL with the <code>fast</code> flag:</p> In\u00a0[9]: Copied! <pre>cfg.db.fast = True\n</pre> cfg.db.fast = True <p>Some experimental \"pragma\" commands that may make SQLite go faster...</p> In\u00a0[10]: Copied! <pre>cfg.db.pragmas = [\n    \"journal_mode = MEMORY\",\n    \"synchronous = 0\",\n    \"cache_size = 1000000\",\n    \"locking_mode = EXCLUSIVE\",\n    \"temp_store = MEMORY\",\n]\n</pre> cfg.db.pragmas = [     \"journal_mode = MEMORY\",     \"synchronous = 0\",     \"cache_size = 1000000\",     \"locking_mode = EXCLUSIVE\",     \"temp_store = MEMORY\", ] <p>We don't want to also write raw data files, so we'll turn those off:</p> In\u00a0[11]: Copied! <pre>cfg.simulation_controls.write_raw_files = False\n</pre> cfg.simulation_controls.write_raw_files = False <p>Now we are ready to create and run our simulation.</p> In\u00a0[12]: Copied! <pre>sim = sw.Simulation(cfg, output_dir=\"./demo-3mkt-out\")\n</pre> sim = sw.Simulation(cfg, output_dir=\"./demo-3mkt-out\") <pre>Airline = AL1, control = leg\nAirline = AL2, control = leg\nAirline = AL3, control = leg\nAirline = AL4, control = leg\n[2023-08-15 11:52:55,677] passengersim.database.database.INFO: connecting to sqlite database: :memory:\n[2023-08-15 11:52:55,678] passengersim.database.database.INFO: initializing sqlite tables\n</pre> In\u00a0[13]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) <pre>[2023-08-15 11:52:55,681] passengersim.database.database.INFO: deleting existing scenario 'Three Market Test Network' from database\n[2023-08-15 11:52:55,681] passengersim.INFO: building connections\n[2023-08-15 11:52:55,682] passengersim.INFO: Connections done, num_paths = 18\n[2023-08-15 11:52:56,594] passengersim.INFO: Th' th' that's all folks !!!    (Elapsed time = 0.91)\n</pre> In\u00a0[14]: Copied! <pre>summary.demands\n</pre> summary.demands Out[14]: orig dest segment sold revenue avg_fare gt_demand gt_sold gt_revenue 0 BOS SFO business 55 20572.38 374.043273 14149 11043 4.067501e+06 1 BOS SFO leisure 6 1867.28 311.213333 17761 1055 3.290952e+05 2 BOS ORD business 102 47301.33 463.738529 23420 23420 1.083009e+07 3 BOS ORD leisure 18 5881.28 326.737778 29165 6931 2.274515e+06 4 BOS DFW business 122 70669.76 579.260328 19810 19810 1.166860e+07 5 BOS DFW leisure 124 42519.66 342.900484 27984 13646 4.693767e+06 In\u00a0[15]: Copied! <pre>summary.legs\n</pre> summary.legs Out[15]: carrier flt_no orig dest avg_sold avg_rev lf 0 AL1 1 BOS SFO 29.465 10680.11855 29.465000 1 AL2 2 BOS SFO 31.025 11302.86455 31.025000 2 AL1 3 BOS ORD 50.095 21580.50595 50.095000 3 AL2 4 BOS ORD 50.635 21948.10560 50.635000 4 AL3 5 BOS ORD 51.025 21994.42095 42.520833 5 AL1 6 BOS DFW 41.750 20345.93430 34.791667 6 AL1 7 BOS DFW 42.445 20839.31465 35.370833 7 AL2 8 BOS DFW 41.405 20301.95650 34.504167 8 AL4 9 BOS DFW 41.680 20324.63570 34.733333 In\u00a0[16]: Copied! <pre>summary.paths\n</pre> summary.paths Out[16]: orig dest carrier1 flt_no1 carrier2 flt_no2 avg_sold avg_rev 0 BOS SFO AL1 1 None None 29.465 10680.11855 1 BOS SFO AL2 2 None None 31.025 11302.86455 2 BOS ORD AL1 3 None None 50.095 21580.50595 3 BOS ORD AL2 4 None None 50.635 21948.10560 4 BOS ORD AL3 5 None None 51.025 21994.42095 5 BOS DFW AL1 6 None None 41.750 20345.93430 6 BOS DFW AL1 7 None None 42.445 20839.31465 7 BOS DFW AL2 8 None None 41.405 20301.95650 8 BOS DFW AL4 9 None None 41.680 20324.63570 9 BOS DFW AL1 6 None None 41.750 20345.93430 10 BOS DFW AL1 7 None None 42.445 20839.31465 11 BOS DFW AL2 8 None None 41.405 20301.95650 12 BOS DFW AL4 9 None None 41.680 20324.63570 13 BOS ORD AL1 3 None None 50.095 21580.50595 14 BOS ORD AL2 4 None None 50.635 21948.10560 15 BOS ORD AL3 5 None None 51.025 21994.42095 16 BOS SFO AL1 1 None None 29.465 10680.11855 17 BOS SFO AL2 2 None None 31.025 11302.86455 In\u00a0[17]: Copied! <pre>summary.airlines\n</pre> summary.airlines Out[17]: name avg_sold load_factor avg_rev asm rpm 0 AL1 164 36.457074 73445.87345 118440000.0 43179759.0 1 AL2 123 37.369630 53552.92665 76560000.0 28610189.0 2 AL3 51 42.520833 21994.42095 41880000.0 17807725.0 3 AL4 42 34.733333 20324.63570 41880000.0 14546320.0 In\u00a0[18]: Copied! <pre>summary.load_factors\n</pre> summary.load_factors Out[18]: carrier avg_sold avg_lf sys_lf avg_rev yield avg_price n_obs 0 AL1 164.0 37.22 36.46 73445.87 0.124 449.0 200 1 AL2 123.0 38.46 37.37 53552.93 0.140 435.0 200 2 AL3 51.0 42.52 42.52 21994.42 0.105 431.0 200 3 AL4 42.0 34.73 34.73 20324.64 0.097 488.0 200 In\u00a0[19]: Copied! <pre>summary.bookings_by_timeframe\n</pre> summary.bookings_by_timeframe Out[19]: carrier class rrd avg_sold avg_business avg_leisure avg_revenue avg_price tot_sold 0 AL1 Y0 0 0.000 0.0 0.000 0.0000 NaN 0.0 1 AL1 Y0 1 0.000 0.0 0.000 0.0000 NaN 0.0 2 AL1 Y0 3 0.000 0.0 0.000 0.0000 NaN 0.0 3 AL1 Y0 5 0.000 0.0 0.000 0.0000 NaN 0.0 4 AL1 Y0 7 0.000 0.0 0.000 0.0000 NaN 0.0 ... ... ... ... ... ... ... ... ... ... 675 AL4 Y9 35 2.975 0.0 2.975 906.0660 304.56 595.0 676 AL4 Y9 42 2.080 0.0 2.080 633.4848 304.56 416.0 677 AL4 Y9 49 1.195 0.0 1.195 363.9492 304.56 239.0 678 AL4 Y9 56 0.655 0.0 0.655 199.4868 304.56 131.0 679 AL4 Y9 63 0.005 0.0 0.005 1.5228 304.56 1.0 <p>680 rows \u00d7 9 columns</p> In\u00a0[20]: Copied! <pre>summary.fig_bookings_by_timeframe()\n</pre> summary.fig_bookings_by_timeframe() Out[20]: In\u00a0[21]: Copied! <pre>summary.fig_bookings_by_timeframe(by_airline=False)\n</pre> summary.fig_bookings_by_timeframe(by_airline=False) Out[21]: In\u00a0[22]: Copied! <pre>summary.fig_airline_loads(raw_df=True)\n</pre> summary.fig_airline_loads(raw_df=True) Out[22]: measure name value 0 asm AL1 118440000.0 1 asm AL2 76560000.0 2 asm AL3 41880000.0 3 asm AL4 41880000.0 4 rpm AL1 43179759.0 5 rpm AL2 28610189.0 6 rpm AL3 17807725.0 7 rpm AL4 14546320.0 In\u00a0[23]: Copied! <pre>summary.fig_fare_class_mix()\n</pre> summary.fig_fare_class_mix() Out[23]: In\u00a0[24]: Copied! <pre>summary.total_demand\n</pre> summary.total_demand Out[24]: <pre>664.40163718632</pre> <p>We've written only to an in-memory database, but we want to dump that thing to disk now for posterity:</p> In\u00a0[25]: Copied! <pre>sim.backup_db(\"backup-db.sqlite\")\n</pre> sim.backup_db(\"backup-db.sqlite\") <pre>Copied all 1560 pages.\n</pre> <p>We can get dataframes from SQL queries while we have the database connection open...</p> In\u00a0[26]: Copied! <pre>bookings = sim.cnx.dataframe(\"SELECT * FROM bookings_by_timeframe\")\nbookings\n</pre> bookings = sim.cnx.dataframe(\"SELECT * FROM bookings_by_timeframe\") bookings Out[26]: scenario carrier booking_class rrd tot_sold avg_sold avg_business avg_leisure avg_revenue avg_price updated_at 0 Three Market Test Network AL1 Y0 0 0.0 0.000 0.0 0.000 0.0000 NaN 2023-08-15 16:52:56 1 Three Market Test Network AL1 Y0 1 0.0 0.000 0.0 0.000 0.0000 NaN 2023-08-15 16:52:56 2 Three Market Test Network AL1 Y0 3 0.0 0.000 0.0 0.000 0.0000 NaN 2023-08-15 16:52:56 3 Three Market Test Network AL1 Y0 5 0.0 0.000 0.0 0.000 0.0000 NaN 2023-08-15 16:52:56 4 Three Market Test Network AL1 Y0 7 0.0 0.000 0.0 0.000 0.0000 NaN 2023-08-15 16:52:56 ... ... ... ... ... ... ... ... ... ... ... ... 675 Three Market Test Network AL4 Y9 35 595.0 2.975 0.0 2.975 906.0660 304.56 2023-08-15 16:52:56 676 Three Market Test Network AL4 Y9 42 416.0 2.080 0.0 2.080 633.4848 304.56 2023-08-15 16:52:56 677 Three Market Test Network AL4 Y9 49 239.0 1.195 0.0 1.195 363.9492 304.56 2023-08-15 16:52:56 678 Three Market Test Network AL4 Y9 56 131.0 0.655 0.0 0.655 199.4868 304.56 2023-08-15 16:52:56 679 Three Market Test Network AL4 Y9 63 1.0 0.005 0.0 0.005 1.5228 304.56 2023-08-15 16:52:56 <p>680 rows \u00d7 11 columns</p> <p>Once we close the database connection, we can no longer use it for reading or writing. If it was an in-memory database, closing it means that content is gone for good, unless it was backed up to disk (as we did above).</p> In\u00a0[27]: Copied! <pre>sim.cnx.close()\n</pre> sim.cnx.close() In\u00a0[28]: Copied! <pre>leg_detail = sim.cnx.dataframe(\"SELECT * FROM leg_detail\")\n</pre> leg_detail = sim.cnx.dataframe(\"SELECT * FROM leg_detail\") <pre>\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\nCell In[28], line 1\n----&gt; 1 leg_detail = sim.cnx.dataframe(\"SELECT * FROM leg_detail\")\n\nFile ~/Git/passengersim-core/src/passengersim/passengersim/database/database.py:147, in Database.dataframe(self, query, params)\n    145 \"\"\"Run a SQL query and return the results as a pandas DataFrame.\"\"\"\n    146 if not self.is_open:\n--&gt; 147     raise ValueError(\"database is not open\")\n    148 import pandas as pd\n    150 return pd.read_sql_query(query, self._connection, params=params)\n\nValueError: database is not open</pre>"},{"location":"Tutorials/demo-3mkt-db.nbconvert.html#three-market-database-demo","title":"Three Market Database Demo\u00b6","text":""},{"location":"Tutorials/demo-3mkt.nbconvert.html","title":"Three Market Test","text":"In\u00a0[1]: Copied! <pre>import passengersim as sw\n</pre> import passengersim as sw In\u00a0[2]: Copied! <pre>input_file = sw.demo_network(\"3mkt\")\n</pre> input_file = sw.demo_network(\"3mkt\") In\u00a0[3]: Copied! <pre>input_file\n</pre> input_file Out[3]: <pre>PosixPath('/Users/jpn/Git/passengersim-core/src/passengersim/passengersim/networks/3mkt.yaml')</pre> In\u00a0[4]: Copied! <pre>sim = sw.Simulation.from_yaml(input_file)\n</pre> sim = sw.Simulation.from_yaml(input_file) <pre>[2023-08-15 11:52:59,160] passengersim.database.database.INFO: connecting to sqlite database: airsim-output.sqlite\nAirline = AL1, control = leg\nAirline = AL2, control = leg\nAirline = AL3, control = leg\nAirline = AL4, control = leg\n[2023-08-15 11:52:59,161] passengersim.database.database.INFO: initializing sqlite tables\n</pre> In\u00a0[5]: Copied! <pre>summary = sim.run(log_reports=False)\n</pre> summary = sim.run(log_reports=False) <pre>[2023-08-15 11:52:59,164] passengersim.database.database.INFO: deleting existing scenario 'Three Market Test Network' from database\n[2023-08-15 11:52:59,165] passengersim.INFO: building connections\n[2023-08-15 11:52:59,165] passengersim.INFO: Connections done, num_paths = 18\n[2023-08-15 11:52:59,990] passengersim.INFO: Th' th' that's all folks !!!    (Elapsed time = 0.83)\n</pre> In\u00a0[6]: Copied! <pre>summary.demands\n</pre> summary.demands Out[6]: orig dest segment sold revenue avg_fare gt_demand gt_sold gt_revenue 0 BOS SFO business 55 20572.38 374.043273 14149 11043 4.067501e+06 1 BOS SFO leisure 6 1867.28 311.213333 17761 1055 3.290952e+05 2 BOS ORD business 102 47301.33 463.738529 23420 23420 1.083009e+07 3 BOS ORD leisure 18 5881.28 326.737778 29165 6931 2.274515e+06 4 BOS DFW business 122 70669.76 579.260328 19810 19810 1.166860e+07 5 BOS DFW leisure 124 42519.66 342.900484 27984 13646 4.693767e+06 In\u00a0[7]: Copied! <pre>summary.legs\n</pre> summary.legs Out[7]: carrier flt_no orig dest avg_sold avg_rev lf 0 AL1 1 BOS SFO 29.465 10680.11855 29.465000 1 AL2 2 BOS SFO 31.025 11302.86455 31.025000 2 AL1 3 BOS ORD 50.095 21580.50595 50.095000 3 AL2 4 BOS ORD 50.635 21948.10560 50.635000 4 AL3 5 BOS ORD 51.025 21994.42095 42.520833 5 AL1 6 BOS DFW 41.750 20345.93430 34.791667 6 AL1 7 BOS DFW 42.445 20839.31465 35.370833 7 AL2 8 BOS DFW 41.405 20301.95650 34.504167 8 AL4 9 BOS DFW 41.680 20324.63570 34.733333 In\u00a0[8]: Copied! <pre>summary.paths\n</pre> summary.paths Out[8]: orig dest carrier1 flt_no1 carrier2 flt_no2 avg_sold avg_rev 0 BOS SFO AL1 1 None None 29.465 10680.11855 1 BOS SFO AL2 2 None None 31.025 11302.86455 2 BOS ORD AL1 3 None None 50.095 21580.50595 3 BOS ORD AL2 4 None None 50.635 21948.10560 4 BOS ORD AL3 5 None None 51.025 21994.42095 5 BOS DFW AL1 6 None None 41.750 20345.93430 6 BOS DFW AL1 7 None None 42.445 20839.31465 7 BOS DFW AL2 8 None None 41.405 20301.95650 8 BOS DFW AL4 9 None None 41.680 20324.63570 9 BOS DFW AL1 6 None None 41.750 20345.93430 10 BOS DFW AL1 7 None None 42.445 20839.31465 11 BOS DFW AL2 8 None None 41.405 20301.95650 12 BOS DFW AL4 9 None None 41.680 20324.63570 13 BOS ORD AL1 3 None None 50.095 21580.50595 14 BOS ORD AL2 4 None None 50.635 21948.10560 15 BOS ORD AL3 5 None None 51.025 21994.42095 16 BOS SFO AL1 1 None None 29.465 10680.11855 17 BOS SFO AL2 2 None None 31.025 11302.86455 In\u00a0[9]: Copied! <pre>summary.airlines\n</pre> summary.airlines Out[9]: name avg_sold load_factor avg_rev asm rpm 0 AL1 164 36.457074 73445.87345 118440000.0 43179759.0 1 AL2 123 37.369630 53552.92665 76560000.0 28610189.0 2 AL3 51 42.520833 21994.42095 41880000.0 17807725.0 3 AL4 42 34.733333 20324.63570 41880000.0 14546320.0 In\u00a0[10]: Copied! <pre>summary.airlines.set_index(\"name\")[[\"asm\", \"rpm\"]].plot.bar();\n</pre> summary.airlines.set_index(\"name\")[[\"asm\", \"rpm\"]].plot.bar(); In\u00a0[11]: Copied! <pre>summary.fig_airline_loads()\n</pre> summary.fig_airline_loads() Out[11]:"},{"location":"Tutorials/demo-3mkt.nbconvert.html#three-market-test","title":"Three Market Test\u00b6","text":""},{"location":"user-guide/cli.html","title":"Command Line Interface","text":"<p>AirSim Command Line Interface</p> <p>Usage:</p> <pre><code>$ python -m AirSim [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>info</code></li> <li><code>run</code></li> </ul>"},{"location":"user-guide/cli.html#python-m-airsim-info","title":"<code>python -m AirSim info</code>","text":"<p>Usage:</p> <pre><code>$ python -m AirSim info [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"user-guide/cli.html#python-m-airsim-run","title":"<code>python -m AirSim run</code>","text":"<p>Usage:</p> <pre><code>$ python -m AirSim run [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>-n, --network-file PATH</code>: A file that defines the network and various simulation options.  [required]</li> <li><code>-a, --airports-file PATH</code>: A file that defines the airports used in the simulation.</li> <li><code>-o, --out-dir PATH</code>: Out files are written to this directory.</li> <li><code>--db-engine TEXT</code>: [default: sqlite]</li> <li><code>--db-filename TEXT</code>: Use this filename for the output database file. Applies to the the SQLite engine only.  [default: airsim-output.sqlite]</li> <li><code>--fast / --slow</code>: For the SQLite engine only, running in 'fast' mode will store everything in an in-memory first, and dump the entire database to disk only when the simulation is complete.  This can be quite advantageous when the write speed of the disk is slow.  [default: slow]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"user-guide/counting-simulations.html","title":"Counting Simulations","text":"<p>A simulation run consists of a number of independent trials, and each trial is  made up of a sequence of dependent samples -- earlier samples in a trial are used to develop forecasts and train optimization algorithms used by carriers in later samples of the same trial.</p> <p>The number of trials is set by the  <code>num_trials</code> configuration, and the number of samples in each trial is set by <code>num_samples</code>. Both values can be found in the <code>simulation_controls</code> configuration inputs.</p> <p>We can think of a sample as a \"typical\" departure day.  When generating results,  the first X samples from each trial as these are during a \"burn period\" when the  simulation is getting started and sufficient history is being generated to use  for forecasts and other steps.  The nuber of samples in the burn period is set by the <code>burn_samples</code>  configuration value.</p>"},{"location":"user-guide/installation.html","title":"Installation","text":"<p>Install instructions will be here.</p>"},{"location":"user-guide/installation.html#gt-student-quick-start","title":"GT Student Quick-start","text":"<ol> <li>Double click <code>create-airsim-env.cmd</code> in <code>C:\\PyPI-Local</code> to install your working environment.</li> <li>Look on your desktop for <code>AirSim-Env.cmd</code>, double click that to open and use your environment.</li> <li>Inside the <code>AirSim-Env</code> window, run the following command to run a simple simulation     and confirm it is working.    <pre><code>python -m AirSim run -n \"C:\\AirSim-networks\\network-3mkt-pods.txt\" ^\n      -o \"%USERPROFILE%\\air-sim-outputs\" --fast\n</code></pre>    You should then see an \"air-sim-outputs\" directory in your home directory.  With the <code>--fast</code>    option, the .sqlite file in the output directory is just a stub until the simulation completes,     then it is populated all at once with the stored data from that simulation.  This overcomes the     very slow file write speeds on this server.</li> </ol> <p>For actual simulation experiments, you'll want to change the <code>-n</code> file to the network simulation defs  that you want to use.  To work with the outputs in Python, see reading data</p>"},{"location":"user-guide/randomness.html","title":"Simulation Randomness","text":""},{"location":"user-guide/randomness.html#demand-generation-k-factors","title":"Demand Generation K-Factors","text":"<p>There are multiple sources of variability that is introduced in the simulation. Variability in the level of demand by passenger type on any given day for any origin-destination pair is controlled by a number of k-factors, which are used  to create some correlation across various dimensions of demand.</p> <p>Three k-factors are used to introduce correlation in demand across all markets in  the system and between business/leisure demand within a market. The equation to  generate the mean demand for a given market and passenger type  is given as: </p> <p>\\(\\mu'_{OD-Biz} = \\mu_{OD-Biz} + (SRN \\times k_{sys}) + (MRN \\times k_{mkt}) + (PRN \\times k_{paxtype})\\) </p> <p>where SRN, MRN, and PRN are random numbers associated with the system, market,  and passenger k-factors, respectively.</p> <p>The intuition behind using three k-factors is that even across a \"typical\" departure  day (like Wednesdays) we may have high demand days across the system and low demand  days across the system.  Likewise, if business demand is above average, we expect  that leisure demand may also be above average. Intuitively, when generating demands,  for a given sample (or departure day in the simulation), we add the term  (SRN x <code>sys_k_factor</code>) to every single market and passenger in the system for that  departure day, we add a unique (MRN x <code>mkt_k_factor</code>) to each origin-destination  market in the sample, and we add a unique (PRN x <code>pax_type_k_factor</code>) for each  passenger type within the market. The addition of the (SRN x <code>sys_k_factor</code>) to  \"everything\" in the sample creates a system-level correlation (i.e., demand on  a given departure date or sample could be \"high\" across the system or \"low\"  compared to average).  </p> <p>The addition of the (MRN x <code>mkt_k_factor</code>) to a market creates a market-level  correlation (i.e., if business demand is running higher than average in the  market, we expect leisure demand will run higher than average in general as  well).  </p> <p>The use of the (PRN x <code>pax_type_k_factor</code>) ensures that there is some random  component that is independent between business and leisure passengers in a  given market.</p> <p>In addition to the k-factors that are used to introduce correlation, we have a z-factor. We assume that actual demand, given mean demand, will vary across samples (or  departure dates) according to a constant z-factor given as \\(\\mu\\) divided by \\(\\sigma^2\\). </p> <p>Given different levels of aggregation, we expect that <code>sys_k_factor</code> &lt; <code>mkt_k_factor</code> &lt; <code>pax_type_k_factor</code>.</p> <p>Once we generate the means and std dev for correlated demands by OD and pax type  using the methodology described above, we use these to generate the \u201cactual\u201d demands  for a sample using the equation</p> <p>\\(\\mu'_{OD-Biz} + NRV x \\sigma'_{OD-Biz}\\), </p> <p>where NRV is a normal random variable.</p>"},{"location":"user-guide/randomness.html#demand-allocation-to-time-periods","title":"Demand Allocation to Time Periods","text":"<p>The demand generation above is used to find the total demand for each passenger type in each market on each travel day.  This total value is subsequently distributed  over the booking time periods.</p> <p>While the methodology for this is not (yet) explained here, note that the <code>tf_k_factor</code>  is used to generate variability in how demand is allocated to the different time  frames (also using the booking curves as a key input).</p>"},{"location":"user-guide/rm-systems.html","title":"RM Systems","text":"<p>A revenue management (RM) system is defined by one or more steps. The steps tell  the simulation which demand untruncation, demand forecasting, and optimization  algorithms to use.  These steps also provide information on the kind of forecast  and optimization used (i.e., leg or path) and if path-level information should be  aggregated to leg-level information before a step is performed.  Finally, these  steps allow the user to specify algorithm-specific parameters, e.g., when using  exponential smoothing the user can specify the smoothing constant, alpha.</p> <p>Each carrier should have an RM system that it uses. In PassengerSim, users have  the ability to create a single RM system and assign it to all carriers, or to  create multiple RM systems and assign different RM systems to different carriers.</p> <p>Below is an example that defines 4 RM systems.  It will be helpful to use these  examples to understand the different step_types and options associated with each  step_type.</p> <pre><code>rm_systems:\n  fcfs:\n    steps: []\n  rm_nd:\n    steps:\n      - step_type: untruncation\n        name: untruncation\n        algorithm: none\n        kind: leg\n      - step_type: forecast\n        name: forecast\n        algorithm: additive_pickup\n        alpha: 0.1\n        kind: leg\n      - step_type: emsr\n        name: optimization\n        algorithm: emsrb\n        kind: leg\n  rm_em:\n    steps:\n      - step_type: untruncation\n        name: untruncation\n        algorithm: none\n        kind: leg\n      - step_type: forecast\n        name: forecast\n        algorithm: additive_pickup\n        alpha: 0.15\n        kind: leg\n      - step_type: emsr\n        name: optimization\n        algorithm: fcfs\n        kind: leg\n  rm_probp:\n    steps:\n      - step_type: untruncation\n        name: untruncation\n        algorithm: em\n        kind: path\n      - step_type: forecast\n        name: path_forecast\n        algorithm: exp_smoothing\n        alpha: 0.15\n        kind: path\n      - step_type: probp\n        name: optimization\n      - step_type: aggregation\n        name: aggregate\n      - step_type: emsr\n        name: optimization\n        algorithm: emsrb\n        kind: leg\n</code></pre> <p>The first RM system is based on a first-come, first-serve approach (named <code>fcfs</code>).  No steps are defined for <code>fcfs</code> as there is no demand detruncation, demand  forecasting, or optimization done with FCFS.  If step_types are defined when  <code>fcfs</code> is explicitly specified as the optimization algorithm, they will be ignored.</p> <p>The second RM system, named <code>rm_nd</code>, is leg-based and uses an <code>additive_pickup</code>  forecasting model with EMSRb and no demand detrunction. The alpha parameter that  is specified in the forecast <code>step_type</code> will be ignored as it is not used for  the additive pick-up model.</p> <p>The third RM system, named <code>rm_em</code>, is using the expectation-maximization (EM)  method of detruncation with an exponential smoothing demand forecasting approach  that has a smoothing constant of alpha of 0.15 with and EMSRb optimizer. Both the  forecasts and optimization are done using leg-level inputs.</p> <p>Finally, the fourth RM system, named <code>rm_probp</code>, is also using the EM method of  detruncation with an exponential smoothing dmeand forecasting approach that has  a smoothing constant or alpha of 0.15.  Unlike in <code>rm_em</code> however, the untruncation and forecasting steps are done at the path level. The optimization  step is based on probp that first finds displacement costs at a path level, then  aggregates them to a leg-level in the aggregation step type, and finally calculates  protection levels using EMSRb with leg-level demand inputs.</p> <p>Given an overview of how RM systems are constructed, let's now look at each  step in detail.</p>"},{"location":"user-guide/rm-systems.html#untruncation","title":"Untruncation","text":"<pre><code>- step_type: untruncation\n  name: untruncation\n  algorithm: none, em, naive1, naive2\n  kind: leg, path\n</code></pre> <p>There are three untruncation (also called detruncation) algorithms.  The first,  <code>em</code>, is based on the expectation maximization method.  The <code>naive1</code> and <code>naive2</code>  methods are based on Shebelov presentation. The untruncation steps can be performed at the path or leg level.</p>"},{"location":"user-guide/rm-systems.html#forecast","title":"Forecast","text":"<pre><code>- step_type: forecast\n  name: path_forecast\n  algorithm: exp_smoothing, additive_pickup\n  alpha: 0.15\n  kind: leg, path\n</code></pre> <p>There are two forecasting algorithms: exponential smoothing (that uses a smoothing  or alpha parameter) and additive_pickup model.  The exponential smoothing model  does not (currently) incorporate trend or seasonality.  The additive_pickup model  is based on information from departed flights only and does not use the alpha  parameter. The forecasting step can be performaned at the leg or path level. However, if the forecast is at the leg level then detruncation can only be done  at the leg level (will this generate an error?)</p>"},{"location":"user-guide/rm-systems.html#emsr-optimization","title":"EMSR Optimization","text":"<pre><code>- step_type: emsr\n  name: optimization\n  algorithm: emsra, emsrb, fcfs\n  kind: leg\n</code></pre> <p>The step_type emsr is used for algorithms based on the expected marginal seat  revenue approach and also can be used for fcfs. (although the first RM system  defined as fcfs in the example above is a cleaner way to specify the fcfs option).</p>"},{"location":"user-guide/rm-systems.html#probp-optimization","title":"ProBP Optimization","text":"<pre><code>- step_type: probp\n  name: optimization\n</code></pre> <p>The step_type probp does just as the name suggests - uses the probabilistic bid  price algorithm to determine path-based displacment costs.  After these are found,  two more steps are needed - the first is to aggregate path-level information to  leg-level information and do the probp proration? and the next is to use the  leg-level inputs to find protection levels using emsrb.</p>"},{"location":"user-guide/untruncation.html","title":"Untruncation","text":"<p>Write a description of this concept here.</p>"},{"location":"user-guide/writing-configs.html","title":"Config Files","text":"<p>Most control of the simulation is done via configuration files written in YAML format.</p>"},{"location":"user-guide/writing-configs.html#simulation-controls","title":"Simulation Controls","text":"<pre><code>scenario: Three Market Test Network\nsimulation_controls:\nrandom_seed: 42\nnum_trials: 1\nnum_samples: 300\nsys_k_factor: 0.1\nmkt_k_factor: 0.2\npax_type_k_factor: 0.4\ntf_k_factor: 0.1\nz_factor: 2.0\nprorate_revenue: true\ndwm_lite: false\nmax_connect_time: 120\ndisable_ap: false\ndemand_multiplier: 1.0\nmanual_paths: true\n</code></pre>"},{"location":"user-guide/writing-configs.html#rm-systems","title":"RM Systems","text":"<p>The <code>rm_systems</code> key allows the user to define one or more revenue management systems that may be used by carriers.</p> <p>These systems can either be defined as a list, where each item in the list defines both a name and steps, or you can write the same instruction as a nested mapping, with the names as keys and the values giving the other attributes of each RM system, (for now, just a list of steps) like this:</p> as listas dict <p><pre><code>rm_systems:\n- name: rm_test1\nsteps:\n- step_type: untruncation  #(1)!\nname: untruncation\nalgorithm: em\nkind: leg\n- step_type: forecast\nname: forecast\nalgorithm: exp_smoothing\nalpha: 0.1\nkind: leg\n- step_type: optimization\nname: optimization\nalgorithm: emsrb  #(2)!\nkind: leg\n</code></pre></p> <ol> <li> Untruncation allows us to figure out how much demand was censored.</li> <li>If you define different RM systems, you can attach different optimization algorithms, such as     ProBP.</li> </ol> <p><pre><code>rm_systems:\nrm_test1:\nsteps:\n- step_type: untruncation  #(1)!\nname: untruncation\nalgorithm: em\nkind: leg\n- step_type: forecast\nname: forecast\nalgorithm: exp_smoothing\nalpha: 0.1\nkind: leg\n- step_type: optimization\nname: optimization\nalgorithm: emsrb  #(2)!\nkind: leg\n</code></pre></p> <ol> <li> Untruncation allows us to figure out how much demand was censored.</li> <li>If you define different RM systems, you can attach different optimization algorithms, such as     ProBP.</li> </ol>"},{"location":"user-guide/writing-configs.html#passenger-choice-models","title":"Passenger Choice Models","text":"<pre><code>choice_models:\nbusiness:\nkind: pods\nemult: 1.6\nbasefare_mult: 2.5\npath_quality:  [38.30,  0.10]\npreferred_airline:  [-12.29,  0.17]\ntolerance: 2.0\nr1: 0.30\nr2: 0.10\nr3: 0.20\nr4: 0.15\nleisure:\nkind: pods\nemult: 1.5\nbasefare_mult: 1.0\npath_quality:  [2.02, 0.12]\npreferred_airline:  [-1.98, 0.11]\ntolerance: 5.0\nr1: 0.30\nr2: 0.15\nr3: 0.25\nr4: 0.20\n</code></pre>"},{"location":"user-guide/writing-configs.html#define-carriers","title":"Define Carriers","text":"<pre><code>airlines:\n- name: AL1\nrm_system: rm_test1\n- name: AL2\nrm_system: rm_test1\n- name: AL3\nrm_system: rm_test1\n- name: AL4\nrm_system: rm_test1\n</code></pre>"},{"location":"user-guide/writing-configs.html#define-booking-classes","title":"Define Booking Classes","text":"<pre><code>classes:\n- Y0\n- Y1\n- Y2\n- Y3\n- Y4\n- Y5\n- Y6\n- Y7\n- Y8\n- Y9\n</code></pre>"},{"location":"user-guide/writing-configs.html#data-collection-points-dcps","title":"Data Collection Points (DCPs)","text":"<pre><code>dcps:\n- 63\n- 56\n- 49\n- 42\n- 35\n- 31\n- 28\n- 24\n- 21\n- 17\n- 14\n- 10\n- 7\n- 5\n- 3\n- 1\n</code></pre>"},{"location":"user-guide/writing-configs.html#booking-curves","title":"Booking Curves","text":"<pre><code>booking_curves:\n- name: '1'\ncurve:\n63: 0.01\n56: 0.02\n49: 0.05\n42: 0.13\n35: 0.19\n31: 0.23\n28: 0.29\n24: 0.35\n21: 0.45\n17: 0.54\n14: 0.67\n10: 0.79\n7: 0.86\n5: 0.91\n3: 0.96\n1: 1.0\n- name: '2'\ncurve:\n63: 0.13\n56: 0.22\n49: 0.37\n42: 0.52\n35: 0.64\n31: 0.7\n28: 0.75\n24: 0.78\n21: 0.83\n17: 0.87\n14: 0.91\n10: 0.94\n7: 0.96\n5: 0.98\n3: 0.99\n1: 1.0\n- name: '3'\ncurve:\n63: 0.04\n56: 0.06\n49: 0.12\n42: 0.26\n35: 0.35\n31: 0.41\n28: 0.48\n24: 0.54\n21: 0.63\n17: 0.7\n14: 0.81\n10: 0.88\n7: 0.93\n5: 0.96\n3: 0.98\n1: 1.0\n- name: '4'\ncurve:\n63: 0.21\n56: 0.35\n49: 0.53\n42: 0.67\n35: 0.76\n31: 0.8\n28: 0.83\n24: 0.85\n21: 0.88\n17: 0.91\n14: 0.94\n10: 0.96\n7: 0.97\n5: 0.98\n3: 0.99\n1: 1.0\n</code></pre>"},{"location":"user-guide/writing-configs.html#legs","title":"Legs","text":"<pre><code>legs:\n- carrier: AL1\nfltno: 1\norig: BOS\ndest: SFO\ndate: '2020-01-01'\ndep_time: 08:00\narr_time: '10:00'\ncapacity: 100\ndistance: 867.0\n- carrier: AL2\nfltno: 2\norig: BOS\ndest: SFO\ndate: '2020-01-01'\ndep_time: '14:00'\narr_time: '16:00'\ncapacity: 100\ndistance: 867.0\n...\n</code></pre>"},{"location":"user-guide/writing-configs.html#paths","title":"Paths","text":"<pre><code>paths:\n- orig: BOS\ndest: SFO\npath_quality_index: 1.0\nlegs:\n- 1\n- orig: BOS\ndest: SFO\npath_quality_index: 1.0\nlegs:\n- 2\n- orig: BOS\ndest: ORD\npath_quality_index: 1.0\nlegs:\n- 3\n...\n</code></pre>"}]}